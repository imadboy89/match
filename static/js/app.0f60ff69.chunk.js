(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{130:function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(5),r=a.n(i),o=a(6),l=a.n(o),c=a(8),u=a.n(c),_=a(3),d=a.n(_),h=a(0),m=a.n(h),f=a(2),p=a(22),g=a(38),y=a(39),v=a(32),b=a(44),w=a(55),k=a(19);function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var s=d()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return u()(this,a)}}var E=function(e){l()(n,e);var t=x(n);function n(e){var a;return s()(this,n),(a=t.call(this,e)).state={player:{},modalVisible_msg:!1,loading:!0,dynamic_style:k.j},a}return r()(n,[{key:"componentDidMount",value:function(){var e=this;Object(k.c)("styles_modal").then((function(t){return e.setState({dynamic_style:t})})),this.loadPlayer()}},{key:"loadPlayer",value:function(){var e=this;void 0!=this.props.player_id&&API_.get_player(this.props.player_id).then((function(t){e.setState({player:t,loading:!1})}))}},{key:"render",value:function(){var e=this,t={player_name_ar:"\u0627\u0633\u0645 \u0627\u0644\u0644\u0627\u0639\u0628",player_nationality:"\u0627\u0644\u062c\u0646\u0633\u064a\u0629",player_nteam_name:"\u0627\u0644\u0645\u0646\u062a\u062e\u0628",player_team_name:"\u0627\u0644\u0646\u0627\u062f\u064a",player_birthdate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u064a\u0644\u0627\u062f",player_position:"\u0627\u0644\u0645\u0631\u0643\u0632"},n=API_.isWeb?a(93).default:y.a;this.state.player&&this.state.player.player_career&&this.state.player.player_career.split&&(this.state.player.player_career=this.state.player.player_career.split("\n").filter((function(e){return""!=e.trim()})));var s=this.state.player&&this.state.player.player_career&&this.state.player.player_career.map?this.state.player.player_career.map((function(t){return m.a.createElement(f.a,{key:t,styles:e.state.dynamic_style.info_row},m.a.createElement(Text,{style:e.state.dynamic_style.text_carrier},t))})):null,i=Object.keys(this.state.player),r=Object.keys(t);i=i.sort((function(e,t){return r.indexOf(e)>r.indexOf(t)?1:0}));var o=this.state.player&&i?i.map((function(a){return void 0==t[a]?null:("player_birthdate"==a&&(e.state.player[a]=e.state.player[a]&&e.state.player[a].slice&&"#"==e.state.player[a].slice(0,1)?API_.get_date2(new Date(1e3*parseInt(e.state.player[a].replace("#","")))):e.state.player[a]),m.a.createElement(f.a,{key:a,styles:e.state.dynamic_style.info_row},m.a.createElement(Text,{style:e.state.dynamic_style.text_info},t[a]," : ",e.state.player[a])))})):null,l=!(!this.state.player||!this.state.player.player_photo)&&this.state.player.player_photo;return l=l&&"//"==l.slice(0,2)?l.replace("//","https://"):l,m.a.createElement(n,{animationType:"slide",transparent:!0,visible:this.props.modal_visible,onRequestClose:function(){b.a.dismiss(),e.props.closeModal()}},m.a.createElement(f.a,{style:this.state.dynamic_style.modal_view_container},m.a.createElement(f.a,{style:[this.state.dynamic_style.modal_view,this.state.dynamic_style.modal_view_large]},m.a.createElement(f.a,{style:this.state.dynamic_style.modal_body},this.state.loading?m.a.createElement(w.a,null):m.a.createElement(v.a,{style:{width:"100%",backgroundColor:"#646c78"}},m.a.createElement(f.a,{style:{width:"100%",height:260,justifyContent:"center"}},0!=l?m.a.createElement(g.a,{style:{height:"100%",width:"100%",resizeMode:"contain"},source:{uri:l}}):null),o,s)),m.a.createElement(f.a,{style:this.state.dynamic_style.footer},m.a.createElement(f.a,{style:this.state.dynamic_style.footer_button},m.a.createElement(p.a,{title:"Cancel",color:"#f39c12",onPress:function(){return e.props.closeModal()}}))))))}}]),n}(m.a.Component);t.a=E},131:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(4),r=a.n(i),o=a(5),l=a.n(o),c=a(6),u=a.n(c),_=a(8),d=a.n(_),h=a(3),m=a.n(h),f=a(0),p=a.n(f),g=a(2),y=a(22),v=a(38),b=a(39),w=a(37),k=a(32),x=a(44),E=a(55),P=a(19);function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m()(e);if(t){var s=m()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return d()(this,a)}}var S=function(e){u()(n,e);var t=C(n);function n(e){var a;return r()(this,n),(a=t.call(this,e)).get_player_info=function(e){a.setState({modalVisible_player:!0,player_id:e})},a.set_fav_p=function(e){a.setState({modalVisible_player:!0,player_id:e})},a.state={team:{},modalVisible_msg:!1,loading:!0,dynamic_style:P.j},a}return l()(n,[{key:"componentDidMount",value:function(){var e=this;Object(P.c)("styles_modal").then((function(t){return e.setState({dynamic_style:t})})),this.loadTeam(),void 0==this.props.dynamic_style?Object(P.c)("styles_league").then((function(t){return e.setState({dynamic_style_league:t})})):this.state.dynamic_style_league=this.props.dynamic_style}},{key:"loadTeam",value:function(){var e=this;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!=this.props.team_id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,s.a.awrap(API_.getConfig("favorite_players",this.state.favorite_p));case 4:this.state.favorite_p=t.sent,API_.get_team(this.props.team_id,!0,void 0,!0).then((function(t){API_.setTeam_logo(t.team_name_ar,t.team_logo,e.props.league_name,e.props.league_id,!0,!0),e.setState({team:t,loading:!1})}));case 6:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this,t={team_type:"\u0627\u0644\u0646\u0648\u0639",team_name_ar:"\u0627\u0644\u0646\u0627\u062f\u064a",team_class:"\u0627\u0644\u062a\u0635\u0646\u064a\u0641",team_country:"\u0627\u0644\u0645\u0646\u062a\u062e\u0628",team_year_established:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0623\u0633\u064a\u0633"},n=API_.isWeb?a(93).default:b.a;this.state.team&&this.state.team.team_info&&this.state.team.team_info.split&&(this.state.team.team_info=this.state.team.team_info.split("\n").filter((function(e){return""!=e.trim()})));var s=this.state.team&&this.state.team.team_info&&this.state.team.team_info.map?this.state.team.team_info.map((function(t){return p.a.createElement(g.a,{key:t,styles:e.state.dynamic_style.info_row},p.a.createElement(Text,{style:e.state.dynamic_style.text_carrier},t))})):null;this.state.team&&this.state.team.squad_club&&this.state.team.squad_club.map&&(this.state.team.squad_club=this.state.team.squad_club.filter((function(t,a,n){return e.state.team.squad_club.indexOf(t)===a})));var i=this.state.team&&this.state.team.squad_club&&this.state.team.squad_club.map?this.state.team.squad_club.map((function(t){var a=t[0],n=t[1],s=t[3],i=t[7],r=t[4]&&t[4].trim?t[4].trim():"",o=e.state.favorite_p.includes(r)?{backgroundColor:P.d.fav_background}:{},l=i&&i.trim&&"ma"==i.toLocaleLowerCase().trim()?{borderWidth:1}:{};return p.a.createElement(w.a,{key:a+"-"+n,delayLongPress:300,activeOpacity:.7,onLongPress:function(){return e.props.set_fav_p(r).then((function(t){return e.setState({favorite_p:t})}))},onPress:function(){return e.props.get_player_info({player_id:a})},style:[e.state.dynamic_style_league.team_view,o,l]},p.a.createElement(g.a,{style:{flex:1}},p.a.createElement(Text,{style:e.state.dynamic_style_league.team_name_t})),p.a.createElement(g.a,{style:{flex:3}},p.a.createElement(Text,{style:e.state.dynamic_style_league.team_name_t},s)),p.a.createElement(g.a,{style:{flex:20}},p.a.createElement(Text,{style:e.state.dynamic_style_league.team_name_t},r)))})):null,r=this.state.team?Object.keys(this.state.team):void 0,o=Object.keys(t);r=r?r.sort((function(e,t){return o.indexOf(e)>o.indexOf(t)?1:0})):void 0;var l=this.state.team?r.map((function(a){return void 0==t[a]?null:("player_birthdate"==a&&(e.state.team[a]=e.state.team[a]&&e.state.team[a].slice&&"#"==e.state.team[a].slice(0,1)?API_.get_date2(new Date(1e3*parseInt(e.state.team[a].replace("#","")))):e.state.team[a]),p.a.createElement(g.a,{key:a,styles:e.state.dynamic_style.info_row},p.a.createElement(Text,{style:e.state.dynamic_style.text_info},t[a]," : ",e.state.team[a])))})):null;return p.a.createElement(n,{animationType:"slide",transparent:!0,visible:this.props.modal_visible,onRequestClose:function(){x.a.dismiss(),e.props.closeModal()}},p.a.createElement(g.a,{style:this.state.dynamic_style.modal_view_container},p.a.createElement(g.a,{style:[this.state.dynamic_style.modal_view,this.state.dynamic_style.modal_view_large]},p.a.createElement(g.a,{style:this.state.dynamic_style.modal_body},this.state.loading?p.a.createElement(E.a,null):p.a.createElement(k.a,{style:{width:"100%",backgroundColor:"#646c78"}},p.a.createElement(g.a,{style:{width:"100%",height:100,justifyContent:"center"}},0!=this.state.team.team_logo&&""!=this.state.team.team_logo?p.a.createElement(v.a,{style:{height:"100%",width:"100%",resizeMode:"center"},source:{uri:this.state.team.team_logo}}):null),0!=this.state.team.team_group_photo?p.a.createElement(g.a,{style:{width:"100%",height:260,justifyContent:"center"}},p.a.createElement(v.a,{style:{height:"100%",width:"100%",resizeMode:"contain"},source:{uri:this.state.team.team_group_photo}})):null,l,i,s)),p.a.createElement(g.a,{style:this.state.dynamic_style.footer},p.a.createElement(g.a,{style:this.state.dynamic_style.footer_button},p.a.createElement(y.a,{title:"Cancel",color:"#f39c12",onPress:function(){return e.props.closeModal()}}))))))}}]),n}(p.a.Component);t.a=S},19:function(e,t,a){"use strict";a.d(t,"e",(function(){return _})),a.d(t,"g",(function(){return d})),a.d(t,"k",(function(){return h})),a.d(t,"f",(function(){return m})),a.d(t,"i",(function(){return f})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return p})),a.d(t,"m",(function(){return l})),a.d(t,"h",(function(){return g})),a.d(t,"d",(function(){return v})),a.d(t,"a",(function(){return i})),a.d(t,"l",(function(){return y})),a.d(t,"j",(function(){return b}));var n=a(9),s=a(23);function i(e){var t=!0;return 0==e?t:t=/iphone|ipod|android|ie|blackberry|fennec/i.test(navigator.userAgent)}function r(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return API_.getConfig("theme",Global_theme_name).then((function(t){return void 0==o[t]&&(t=Global_theme_name),Global_theme_name=t,c(t)[e]}))}var o={"dark violet":{headerStyle_backgroundColor:"#130f40",headerTintColor:"#fff",activeBackgroundColor:"#30336b",inactiveBackgroundColor:"#130f40",activeTintColor:"#ffffff",inactiveTintColor:"#57606f",background_color_default:"#000",home_title_color:"#d1d8e0",alert_body_backgroundColor:"#686de0",alert_body_color:"#dff9fb",fav_background:"#0093fb4a",text_color_default:"#fff",list_header_backgroundColor:"#a29bfe",live_borderColor:"#2ecc71",match_name_backgroundColor:"#4834d4",match_name_color:"#d1d8e0",match_score_backgroundColor:"#a5b1c2",match_score_color:"#d1d8e0",match_time_backgroundColor:"#2c3e50",match_time_color:"#fff",match_badge_backgroundColor:"#4834d4",news_cont_backgroundColor:"#34495e",news_title_backgroundColor:"#00000091",news_title_color:"#fff",article_body_backgroundColor:"#293542d6",article_body_color:"#fff",article_title_backgroundColor:"#323350d6",article_title_color:"#fff",article_date_color:"#fff",article_photo_background:"#000",match_lineup2_color:"#d1d8e0",match_lineup2_number_color:"#f1c40f",match_linup_team_backgroundColor:"#dae6fd",match_linup_team__backgroundColor:"#97d1f9",match_stats_color:"#d1d8e0",match_lineup_player_color:"#000",match_text_info_color:"#d1d8e0",match_results_team_scor_color:"#f1c40f",match_results_winer_background:"#16a085",match_results_loser_background:"#c0392b",match_results_drawer_background:"#7f8c8d",match_results_scorer_color:"#dbd9ff"},"dark blue":{headerStyle_backgroundColor:"#0c2461",headerTintColor:"#b7eefb",activeBackgroundColor:"#0a3d62",inactiveBackgroundColor:"#0c2461",activeTintColor:"#ffffff",inactiveTintColor:"#57606f",background_color_default:"#000",home_title_color:"#d1d8e0",text_color_default:"#fff",alert_body_backgroundColor:"#3c6382",alert_body_color:"#dff9fb",fav_background:"#0093fb4a",list_header_backgroundColor:"#4a69bd",live_borderColor:"#78e08f",match_name_backgroundColor:"#1e3799",match_name_color:"#b7eefb",match_score_backgroundColor:"#a5b1c2",match_score_color:"#b8e994",match_time_backgroundColor:"#2c3e50",match_time_color:"#fff",match_badge_backgroundColor:"#1e3799",news_cont_backgroundColor:"#34495e",news_title_backgroundColor:"#00000091",news_title_color:"#fff",article_body_backgroundColor:"#1d2c5296",article_body_color:"#b7eefb",article_title_backgroundColor:"#323350d6",article_title_color:"#fff",article_date_color:"#fff",article_photo_background:"#000",match_lineup2_color:"#d1d8e0",match_lineup2_number_color:"#f1c40f",match_linup_team_backgroundColor:"#dae6fd",match_linup_team__backgroundColor:"#97d1f9",match_stats_color:"#d1d8e0",match_lineup_player_color:"#000",match_text_info_color:"#d1d8e0",match_results_team_scor_color:"#f1c40f",match_results_winer_background:"#16a085",match_results_loser_background:"#c0392b",match_results_drawer_background:"#7f8c8d",match_results_scorer_color:"#dbd9ff"},light:{headerStyle_backgroundColor:"#f39c12",headerTintColor:"#57606f",activeBackgroundColor:"#fbebbb",inactiveBackgroundColor:"#a4b0be",activeTintColor:"#2f3542",inactiveTintColor:"#2f3542",background_color_default:"#ced6e0",home_title_color:"#2f3542",text_color_default:"#000",fav_background:"#0093fb4a",list_header_backgroundColor:"#e67e22",live_borderColor:"#2ecc71",match_name_backgroundColor:"#dfe4ea",match_name_color:"#2f3542",match_score_backgroundColor:"#a5b1c2",match_score_color:"#b8e994",match_time_backgroundColor:"#ced6e0",match_time_color:"#2f3542",match_badge_backgroundColor:"#dfe4ea",news_cont_backgroundColor:"#34495e",news_title_backgroundColor:"#00000091",news_title_color:"#fff",article_body_backgroundColor:"#a4b0be",article_body_color:"#2f3542",article_title_backgroundColor:"#acb4c1",article_title_color:"#2f3542",article_date_color:"#2f3542",article_photo_background:"#ced6e0",match_lineup2_color:"#2f3542",match_lineup2_number_color:"#f37305",match_linup_team_backgroundColor:"#dae6fd",match_linup_team__backgroundColor:"#97d1f9",match_stats_color:"#2f3542",match_lineup_player_color:"#000",match_text_info_color:"#2f3542",match_results_team_scor_color:"#2f3542",match_results_winer_background:"#2ed573",match_results_loser_background:"#ff7f50",match_results_drawer_background:"#95afc0",match_results_scorer_color:"#5352ed"}},l=Object.keys(o);function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!1,a="",r=s.a.get("window").width,l=s.a.get("window").height;try{t=API_?API_.isWeb:{isWeb:!1}}catch(E){t=!1}try{a=Global_theme_name}catch(E){a="false"}var c=o[e=0==e?"light":e],u=t?40:70,_=i(t),d=r<1e3?"100%":1e3,h={list_container:{marginRight:"1%",marginTop:"1%",flex:1,width:"100%",backgroundColor:c.background_color_default},container:{flex:1,backgroundColor:c.background_color_default},onFocus:{backgroundColor:"red"},item_container:{flex:1,marginHorizontal:"auto",width:d,backgroundColor:c.background_color_default},columnWrapperStyle:{justifyContent:"flex-end",paddingRight:_?10:20},columnWrapperStyle2:{justifyContent:"flex-end"},item:{padding:2,fontSize:18,flex:1,color:c.text_color_default},header_container:{marginVertical:1,marginLeft:"1%",width:"98%",height:48,borderTopLeftRadius:20,borderTopRightRadius:20,borderBottomLeftRadius:5,borderBottomRightRadius:5,textAlign:"left"},header:{borderTopLeftRadius:20,borderTopRightRadius:20,borderBottomLeftRadius:5,borderBottomRightRadius:5,fontSize:20,backgroundColor:c.list_header_backgroundColor,width:"100%",textAlign:"right",height:"99%"},header_components:{borderTopLeftRadius:20,marginLeft:5,fontSize:20,backgroundColor:c.list_header_backgroundColor,textAlign:"right",height:"98%"},title:{fontSize:23},shadow_3:{boxShadow:-1==a.indexOf("light")?"rgba(255, 255, 255, 0.20) 0px 2px 2px 2px, rgba(255, 255, 255, 0.18) 0px 4px 2px 3px, rgba(255, 255, 255, 0.12) 0px 5px 2px 4px":"rgba(0,0,0 , 0.20) 0px 2px 2px 2px, rgba(0,0,0, 0.18) 0px 4px 2px 3px, rgba(0,0,0, 0.12) 0px 5px 2px 4px"},shadow_1:{shadowColor:c.text_color_default,shadowOffset:{width:5,height:3},shadowOpacity:.25,elevation:5},shadow_2:{shadowColor:c.text_color_default,shadowOffset:{width:5,height:3},shadowOpacity:.3,elevation:5},matche_container:{width:"98%",marginLeft:5,marginVertical:5,flexDirection:"row",flexWrap:"wrap",flex:1,height:70,marginRight:5,borderRadius:10,borderWidth:1},matche_container_live:{borderRadius:10,borderWidth:2,borderColor:c.live_borderColor},matche_container_notif:{borderRadius:10,borderWidth:2,borderColor:c.text_color_default},matche_container_liveNotif:{borderRadius:10,borderWidth:2,borderColor:c.activeBackgroundColor},team_name_winner:c.live_borderColor,team_name_loser:c.match_results_winer_background,team_name_drawer:c.match_results_drawer_background,matche_team_names:{flex:15,backgroundColor:c.match_name_backgroundColor},matche_team_name_text:{flex:1,width:"98%",color:c.match_name_color,paddingLeft:5,paddingRight:5,paddingTop:t?3:10,justifyContent:"center",fontSize:22,lineHeight:25,textAlign:"right"},matche_team_name_text_fav:{textDecorationLine:"underline"},matche_team_score:{flex:2,backgroundColor:c.match_score_backgroundColor,alignItems:"center",color:c.match_score_color,borderTopRightRadius:8,borderBottomRightRadius:8,alignContent:"center"},matche_team_score_penalties:{flex:1,backgroundColor:c.match_score_backgroundColor,alignItems:"center",color:c.match_score_color,alignContent:"center"},matche_team_score_text_penalties:{flex:1,borderWidth:1,borderColor:c.text_color_default,fontSize:23,justifyContent:"center"},matche_team_score_text:{flex:1,fontSize:23,justifyContent:"center"},matche_team_time:{flex:4,alignItems:"center",justifyContent:"center",color:c.text_color_default,borderTopLeftRadius:8,borderBottomLeftRadius:8,backgroundColor:c.match_time_backgroundColor,textAlignVertical:"center"},matche_team_time_t:{fontSize:20,alignItems:"center",color:c.match_time_color,alignContent:"center"},matche_team_time_live:{fontSize:20,alignItems:"center",justifyContent:"center",color:c.live_borderColor},matche_team_logo:{width:"100%",height:"45%",aspectRatio:1,resizeMode:"contain"},matche_league_logo_c:{width:"100%",height:"100%"},matche_league_logo:{marginVertical:1,width:"100%",height:"95%",aspectRatio:1,resizeMode:"contain",borderRadius:5,borderTopRightRadius:20},matche_league_logo_k:{marginVertical:1,width:"100%",borderWidth:1,height:"95%",aspectRatio:1,borderRadius:5,borderTopRightRadius:20},matche_team_badge:{flex:2,backgroundColor:c.match_badge_backgroundColor,alignItems:"center",color:"#d1d8e0",justifyContent:"center"},news_container:{marginVertical:7,marginHorizontal:3,height:200,width:"98%",backgroundColor:c.news_cont_backgroundColor,justifyContent:"center"},news_img_v:{flex:10,width:"100%",color:"#fff",alignItems:"center"},league_header:{height:20,width:"100%",color:"#fff",flexDirection:"row",flexWrap:"wrap"},news_img_i:{width:"100%",height:"100%",aspectRatio:1,resizeMode:"stretch",alignItems:"center"},news_title_v:{width:"100%",height:50,paddingBottom:5,flex:2,fontSize:18,color:"#fff",backgroundColor:c.news_title_backgroundColor},news_title_t:{height:"100%",flex:9,fontSize:15,alignItems:"center",justifyContent:"center",alignSelf:"center",color:c.news_title_color,paddingHorizontal:3,fontWeight:"bold"},news_title_icon:{alignItems:"center",justifyContent:"center",alignSelf:"center",color:c.news_title_backgroundColor}},m={container:{flex:1,backgroundColor:c.background_color_default,color:"#fff"},text:{color:c.text_color_default,marginRight:10,justifyContent:"center",alignItems:"center"},date_text:{fontSize:15,fontWeight:"bold",textAlign:"center",color:c.home_title_color},title:{fontSize:20,fontWeight:"bold",textAlign:"center",color:c.home_title_color},header_icons:{padding:10},icons:{marginHorizontal:3,alignItems:"center",justifyContent:"center",height:40,width:40,borderRadius:20,backgroundColor:c.headerStyle_backgroundColor,borderColor:c.text_color_default,borderWidth:1}},f=n.a.create({icons:m.icons,title:m.title,container:{flex:1,backgroundColor:c.background_color_default,color:"#fff"},article_v:{flex:10,padding:5,fontSize:18,backgroundColor:c.background_color_default},article_body_t:{fontSize:15,color:c.article_body_color,textAlign:"right",borderRadius:5,backgroundColor:c.article_body_backgroundColor,padding:10,marginBottom:5},article_title_t:{fontWeight:"bold",padding:10,width:"100%",marginTop:8,marginBottom:8,fontSize:16,color:c.article_title_color,textAlign:"center",backgroundColor:c.article_title_backgroundColor,borderRadius:5},article_date_t:{fontSize:12,color:c.article_date_color,textAlign:"right"},channel_logo:{aspectRatio:1,width:"100%",height:"100%",resizeMode:"contain"},channel_logo_v:{width:"100%",height:300,padding:5,alignContent:"center",alignItems:"center",alignSelf:"center",backgroundColor:c.article_photo_background}}),p=n.a.create({container:{flex:1,backgroundColor:c.background_color_default,color:"#fff"},nav_container:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",backgroundColor:c.background_color_default,color:"#fff"},text:{color:c.text_color_default,fontSize:20,marginHorizontal:10,justifyContent:"center",textAlign:"center",width:20},title:{fontSize:20,fontWeight:"bold",textAlign:"center",color:"#d1d8e0"},icons:m.icons}),g=n.a.create({container_scrl:{flex:1},modalView:{margin:20,backgroundColor:c.background_color_default,borderRadius:10,padding:35,alignItems:"center",shadowColor:c.text_color_default,shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},container:{flex:1,flexDirection:"column",backgroundColor:c.background_color_default,color:"#fff"},info_cont:{flex:4,padding:5,fontSize:18,color:c.text_color_default},info_text:{fontSize:18,color:c.text_color_default},channel_logo:{aspectRatio:1,width:"100%",height:"100%",resizeMode:"cover"},channel_logo_v:{width:"100%",height:300,padding:5,alignContent:"center",alignItems:"center",alignSelf:"center"}}),y=n.a.create({container:{flex:1,paddingTop:3,backgroundColor:c.background_color_default,color:"#d1d8e0"},container_scrl:{flex:1,backgroundColor:c.background_color_default},hairline:{backgroundColor:"#A2A2A2",height:2,width:"100%",marginHorizontal:"auto",paddingHorizontal:10},paragraph:{margin:24,fontSize:18,fontWeight:"bold",textAlign:"center"},tabs_list:{flexDirection:"row",flexWrap:"wrap"},view_tab:{flex:13},view_tab_text:{textAlign:"center",padding:3},lineup2_container:{marginVertical:1,flexDirection:"row",flexWrap:"wrap"},lineup2_lr_container:{flex:1},lineup2_l:{flex:9,textAlign:"left",color:c.match_lineup2_color,borderLeftWidth:1,paddingLeft:3,borderBottomWidth:1,borderColor:"#5a6d8aa3",borderRadius:10},lineup2_r:{flex:9,textAlign:"right",color:c.match_lineup2_color,borderRightWidth:1,paddingRight:3,borderBottomWidth:1,borderColor:"#5a6d8aa3",borderRadius:10},lineup2_m:{flex:1,marginHorizontal:5,textAlign:"center",color:c.match_lineup2_color},lineup2_number:{width:20,borderRadius:20,marginHorizontal:3,textAlign:"center",color:c.match_lineup2_number_color},lineup2_number_subs:{width:30,marginHorizontal:0,textAlign:"center",color:c.live_borderColor},stats_container:{flexDirection:"row",flexWrap:"wrap"},stats_frag_l_:{fontSize:16,marginHorizontal:5,flex:10,textAlign:"center",color:c.match_stats_color,textDecorationLine:"underline"},stats_frag_m_:{marginHorizontal:5,flex:4,textAlign:"center",color:c.match_stats_color},stats_frag_r_:{fontSize:16,marginHorizontal:5,flex:10,textAlign:"center",color:c.match_stats_color,textDecorationLine:"underline"},stats_frag_l:{marginHorizontal:5,flex:2,textAlign:"center",color:c.match_stats_color},stats_frag_m:{marginHorizontal:5,flex:10,textAlign:"center",color:c.match_stats_color},stats_frag_r:{marginHorizontal:5,flex:2,color:c.match_stats_color},view_inline:{marginLeft:5,marginRight:5,flexDirection:"row",flexWrap:"wrap",flex:1,textAlign:"center",color:"#d1d8e0"},view_inline_teams_lu:{marginTop:3,flexDirection:"row",flexWrap:"wrap",textAlign:"center",color:"#d1d8e0",marginBottom:10},lineup_team:{marginLeft:5,marginRight:5,borderRadius:10,flex:1,textAlign:"center",backgroundColor:c.match_linup_team_backgroundColor},lineup_team_:{marginLeft:5,marginRight:5,borderRadius:10,flex:1,textAlign:"center",backgroundColor:c.match_linup_team__backgroundColor},background_pitch:{flex:12},lineup_player:{fontWeight:"bold",fontSize:15,flex:10,textAlign:"center",color:c.match_lineup_player_color},title:{fontSize:20,fontWeight:"bold",textAlign:"center",color:"#d1d8e0"},text_info:{color:c.match_text_info_color},header_container:{marginHorizontal:"auto",width:"98%",flexDirection:"row",flexWrap:"wrap",marginBottom:10},match_results_team_name:{fontSize:20,color:"#fff",paddingHorizontal:5,width:"100%",textAlign:"center"},match_results_team_scor_t:{fontSize:35,color:c.match_results_team_scor_color,paddingHorizontal:5,textAlign:"center",height:50},match_results_team_scor_penalties_t:{fontSize:23,lineHeight:20,borderWidth:1,color:c.match_results_team_scor_color,textAlign:"center",padding:2,backgroundColor:"#4500ff3d",marginHorizontal:"auto",alignSelf:"center",marginBottom:2},match_results_team_name_l:{textAlign:"right",borderRightWidth:1},match_results_team_name_r:{textAlign:"left",borderLeftWidth:1},match_results_winer:{flex:1,backgroundColor:c.match_results_winer_background},match_results_loser:{flex:1,backgroundColor:c.match_results_loser_background},match_results_drawer:{flex:1,backgroundColor:c.match_results_drawer_background},match_results_scorer_text:{color:c.match_results_scorer_color,fontSize:15}}),v=n.a.create({container:{flex:1,width:"100%",alignContent:"center",backgroundColor:c.background_color_default},tabs_list:{flexDirection:"row",flexWrap:"wrap",width:"100%"},paragraph:{margin:24,fontSize:18,fontWeight:"bold",textAlign:"center"},title:{fontSize:20,fontWeight:"bold",textAlign:"center",color:"#d1d8e0"},team_view:{flexDirection:"row",flexWrap:"wrap",width:"100%",height:35,borderColor:c.text_color_default,borderBottomWidth:1,borderRadius:40},group_name_t:{fontSize:20,color:c.text_color_default},team_name_t:{fontSize:17,color:c.text_color_default,textAlign:"left"},channel_logo_v:{width:"100%",height:l>800?400:300,paddingHorizontal:5,alignContent:"center",alignItems:"center",alignSelf:"center",backgroundColor:c.article_photo_background},news_title_v:h.news_title_v,news_title_t:h.news_title_t,news_img_v:h.news_img_v,news_container:h.news_container}),b={screenHeader:{headerStyle:{backgroundColor:c.headerStyle_backgroundColor,height:u},headerTintColor:c.headerTintColor,headerTitleStyle:{},headerTitleAlign:"center"},tabBarOptions:{activeBackgroundColor:c.activeBackgroundColor,inactiveBackgroundColor:c.inactiveBackgroundColor,activeTintColor:c.activeTintColor,inactiveTintColor:c.inactiveTintColor,size:30,swipeEnabled:!0,showLabel:!0},tabBarOptions_mat:{activeBackgroundColor:c.activeBackgroundColor,inactiveBackgroundColor:c.inactiveBackgroundColor,activeTintColor:c.activeTintColor,inactiveTintColor:c.inactiveTintColor,style:{backgroundColor:c.inactiveBackgroundColor},labelStyle:{height:"100%",width:"100%"},iconStyle:{height:"100%",width:"100%",margin:0},showIcon:!0,showLabel:!0,pressColor:c.activeBackgroundColor}},w=n.a.create({container:{zIndex:99999,elevation:99999,height:0,width:"100%",position:"absolute",top:t?-40:-1,left:0,backgroundColor:"#0000",padding:5,justifyContent:"center",alignItems:"center",zIndex:1},container_2:{zIndex:99999,elevation:99999,height:0,width:"100%",position:"absolute",top:t?-40:-1,left:0,backgroundColor:"#0000",padding:5,justifyContent:"center",alignItems:"center",zIndex:1},box:{width:"80%",backgroundColor:c.activeBackgroundColor,marginHorizontal:"auto",borderWidth:1,borderRadius:5,borderColor:c.activeTintColor,justifyContent:"center"},box_inside_ani:{width:"100%",flex:1,backgroundColor:c.activeBackgroundColor,marginHorizontal:"auto",flexDirection:"row",flexWrap:"wrap",borderWidth:1,borderRadius:5,borderColor:c.activeTintColor,justifyContent:"center"},box_inside:{width:"100%",flex:1,backgroundColor:c.activeBackgroundColor,marginHorizontal:"auto",flexDirection:"row",flexWrap:"wrap",borderWidth:1,borderRadius:5,borderColor:c.activeTintColor,justifyContent:"center"},body:{fontSize:16,color:c.activeTintColor,flex:1,justifyContent:"center",textAlignVertical:"center",height:"100%",padding:5},txt_danger:{color:"#fd7f72"},txt_success:{color:"#42dc84"},txt_info:{color:"#5fb2ea"},txt_warning:{color:"#f9cd87"},bg_danger:{backgroundColor:"#e74c3c"},bg_success:{backgroundColor:"#2ecc71"},bg_info:{backgroundColor:"#3498db"},bg_warning:{backgroundColor:"#f39c12"},indecator:{backgroundColor:"red",width:8,height:"100%",borderTopLeftRadius:5,borderBottomLeftRadius:5,paddingRight:2},indecator_thin:{backgroundColor:"red",width:4,height:"100%",borderTopLeftRadius:5,borderBottomLeftRadius:5,paddingRight:2}}),k=n.a.create({container:{flex:1,backgroundColor:c.background_color_default,color:"#fff",paddingBottom:10},settings_row:{flexDirection:"row",flexWrap:"wrap",width:"95%",marginHorizontal:5,marginVertical:5,backgroundColor:"#0000",color:c.text_color_default},settings_row_label:{flex:3,backgroundColor:c.background_color_default,color:c.text_color_default},settings_row_input:{flex:3,backgroundColor:c.background_color_default,color:c.text_color_default,height:30,borderRadius:t?10:8,paddingHorizontal:3},log_time_text:{width:40,backgroundColor:c.background_color_default,color:c.text_color_default,fontSize:10},log_type_text:{width:40,marginHorizontal:1,backgroundColor:c.background_color_default,color:c.text_color_default,fontSize:10},log_msg_text:{flex:1,backgroundColor:c.background_color_default,color:c.text_color_default,fontSize:10},nav_container:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",backgroundColor:c.background_color_default,color:c.text_color_default},modal_view_container:{flex:1,justifyContent:"center",alignItems:"center",width:"100%",height:"100%",paddingTop:22},modal_view:{margin:10,width:_?"90%":"80%",backgroundColor:c.background_color_default,borderRadius:10,padding:10,alignItems:"center",shadowColor:c.text_color_default,shadowOffset:{width:5,height:10},shadowOpacity:.25,shadowRadius:3.84,elevation:5,borderWidth:1,borderColor:c.text_color_default},modal_view_small:{height:200},modal_view_large:{height:500},modal_view_meduim:{height:350},modal_view_fill_width:{width:r-50},modal_view_fill:{height:l-100,width:r-50},modal_body:{backgroundColor:"#646c78",width:"98%",flex:1,justifyContent:"center",alignItems:"center"},footer:{padding:2,height:50,width:"98%",justifyContent:"center",alignItems:"center",flexDirection:"row",flexWrap:"wrap"},footer_button:{margin:2,width:100},text:{color:c.text_color_default,fontSize:20,marginHorizontal:10,justifyContent:"center",textAlign:"center",width:20},title:{fontSize:20,fontWeight:"bold",textAlign:"center",color:"#d1d8e0"},icons:m.icons}),x=n.a.create({modal_view:{margin:10,width:_?"90%":"80%",backgroundColor:c.background_color_default,borderRadius:10,padding:10,alignItems:"center",shadowColor:c.text_color_default,shadowOffset:{width:5,height:10},shadowOpacity:.25,shadowRadius:3.84,elevation:5,borderWidth:1,borderColor:c.text_color_default},modal_view_small:{height:200},modal_view_large:{height:500},modal_view_meduim:{height:350},modal_view_fill_width:{width:r-50},modal_view_fill:{height:l-100,width:r-50},modal_body:{backgroundColor:"#646c78",width:"98%",flex:1,justifyContent:"center",alignItems:"center"},footer:{padding:2,height:50,width:"98%",justifyContent:"center",alignItems:"center",flexDirection:"row",flexWrap:"wrap"},footer_button:{margin:2,width:100},text:{color:c.text_color_default,fontSize:20,marginHorizontal:10,justifyContent:"center",textAlign:"center",width:20},text_info:{color:c.text_color_default,fontSize:18,lineHeight:26,marginHorizontal:5,flex:1},text_carrier:{lineHeight:22,color:c.text_color_default,fontSize:14,marginHorizontal:10,flex:1,borderTopWidth:1},title:{fontSize:20,fontWeight:"bold",textAlign:"center",color:"#d1d8e0"},icons:m.icons,info_row:{flexDirection:"row",flexWrap:"wrap",width:"95%",backgroundColor:"#0000",color:c.text_color_default},info_row_label:{width:"40%",backgroundColor:c.background_color_default,color:c.text_color_default,paddingHorizontal:5,height:30},info_row_input:{width:"45%",backgroundColor:c.background_color_default,color:c.text_color_default,height:30,borderRadius:t?10:8,paddingHorizontal:8}});return{Themes:o,styles_list:h,styles_article:f,styles_home:m,styles_news:p,styles_channel:g,styles_match:y,app_styles:b,styles_league:v,styles_settings:k,theme:c,styles_notif:w,styles_modal:x}}var u=c("dark blue"),_=(u.styles_list,u.styles_article),d=u.styles_home,h=u.styles_news,m=u.styles_channel,f=u.styles_match,p=u.app_styles,g=u.styles_league,y=u.styles_settings,v=u.theme,b=(u.styles_notif,u.styles_modal)},203:function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(5),r=a.n(i),o=a(6),l=a.n(o),c=a(8),u=a.n(c),_=a(3),d=a.n(_),h=a(0),m=a(35),f=a(2),p=a(9),g=a(39),y=a(22),v=a(66),b=a(53),w=a(121),k=a.n(w),x=a(526);function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var s=d()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return u()(this,a)}}var P=[],C=function(e){l()(a,e);var t=E(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).onchannel_clicked_hls=function(e){alert("onchannel_clicked_hsl"),API_.get_channel(e.channel_id).then((function(e){if(void 0!=e.data.name){var t=e.data;n.channel_servers=t.channel_servers;var a=n.channel_servers[0].SecureUrl;n.setState({modalVisible_match:!0,url:a,player_type:1})}}))},n.onchannel_clicked_vid=function(e){alert("onchannel_clicked_vid"),API_.get_channel(e.channel_id).then((function(e){if(void 0!=e.data.name){var t=e.data;n.channel_servers=t.channel_servers;var a=n.channel_servers[0].SecureUrl;n.setState({modalVisible_match:!0,url:a,player_type:2})}}))},n.onchannel_clicked=function(e){n.props.navigation.navigate("Channel",{channel_id:e.channel_id,channel_photo:e.channel_photo})},n.state={list:P,modalVisible_match:!1,player_type:1,key_:"en_name",key_key:"channel_id",url:"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8",category_name:"",loading:!0},n.get_channels(),n}return r()(a,[{key:"get_channels",value:function(){var e=this;this.category_name=this.props.route.params.category_name,this.props.navigation.setOptions({title:this.category_name}),API_.get_channels(this.props.route.params.category_id).then((function(t){if(t&&t.data&&t.data.length>0){for(var a=function(a){API_.get_channel(t.data[a].channel_id).then((function(t){e.chanels_data[a].en_name=t.data.en_name;var n=e.chanels_data[a].en_name.replace(/\s/g,"").toLocaleLowerCase().trim();API_.channels_dict[n]=e.chanels_data[a],API_.channels_dict[n].id=API_.channels_dict[n].channel_id,e.setState({list:e.chanels_data})}))},n=0;n<t.data.length;n++)a(n);e.chanels_data=t.data,e.setState({list:e.chanels_data,loading:!1})}}))}},{key:"render_ReactHlsPlayer",value:function(){var e=this;return 1==this.state.player_type?h.createElement(k.a,{url:this.state.url,autoplay:!0,controls:!0,width:"100%",height:"auto"}):h.createElement(x.a,{source:{uri:"https://stream.mux.com/your-playback-id.m3u8"},ref:function(t){e.player=t}})}},{key:"render_modal_credentials",value:function(){var e=this;return h.createElement(g.a,{animationType:"slide",transparent:!0,visible:this.state.modalVisible_match,onRequestClose:function(){e.setState({modalVisible_match:!1})}},h.createElement(f.a,{style:{height:400,width:"100%",backgroundColor:"#646c78"}},h.createElement(y.a,{title:"Close",onPress:function(){e.setState({modalVisible_match:!1})}}),h.createElement(m.a,null,"   ",this.state.url," "),this.render_ReactHlsPlayer()),h.createElement(f.a,{style:{flex:1,backgroundColor:"#2c3e5066"}}))}},{key:"render",value:function(){return h.createElement(f.a,{style:S.container},h.createElement(m.a,{style:S.title},this.category_name),h.createElement(b.a,{loading:this.state.loading,list:this.state.list,onclick:this.onchannel_clicked,onclick_hls:"channel_id"==this.state.key_key&&this.onchannel_clicked_hls,onclick_vid:"channel_id"==this.state.key_key&&this.onchannel_clicked_vid,key_:this.state.key_,key_key:this.state.key_key}),1==this.state.modalVisible_match?this.render_modal_credentials():null)}}]),a}(h.Component),S=p.a.create({container:{flex:1,justifyContent:"center",paddingTop:v.a.statusBarHeight,backgroundColor:"#000",color:"#fff"},paragraph:{margin:24,fontSize:18,fontWeight:"bold",textAlign:"center"},title:{fontSize:20,fontWeight:"bold",textAlign:"center",color:"#d1d8e0"}});t.a=C},204:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(10),r=a.n(i),o=a(4),l=a.n(o),c=a(5),u=a.n(c),_=a(6),d=a.n(_),h=a(8),m=a.n(h),f=a(3),p=a.n(f),g=a(0),y=a.n(g),v=a(2),b=a(76),w=a(22),k=a(70),x=a(37),E=a(38),P=a(59),C=a(32),S=a(55),I=a(19),A=a(34),T=a(80),O=a(130),R=a(131);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var s=p()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return m()(this,a)}}var D=[],j=function(e){d()(n,e);var t=W(n);function n(e){var a;return l()(this,n),(a=t.call(this,e)).set_fav=function(e){var t="";API_.getConfig("favorite_channels",a.state.favorite).then((function(n){n.includes(e)?(n=n.filter((function(t){if(t!=e)return t})),t="\u062a\u0645\u062a \u0625\u0632\u0627\u0644\u062a\u0647\u0627 \u0645\u0646"):(n.push(e),t="\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u062a\u0647\u0627 \u0625\u0644\u0649"),a.setState({favorite:n}),API_.setConfig("favorite_channels",n),API_.showMsg("\u0627\u0644\u0642\u0646\u0627\u0629 \u066d"+e+"\u066d "+t+" \u0627\u0644\u0645\u0641\u0636\u0644\u0629!")})),a.setState({})},a.set_fav_p=function(e){API_.getConfig("favorite_players",a.state.favorite_p).then((function(t){var n="";t.includes(e)?(t=t.filter((function(t){if(t!=e)return t})),n="\u062a\u0645\u062a \u0625\u0632\u0627\u0644\u062a\u0647 \u0645\u0646"):(t.push(e),n="\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u062a\u0647 \u0625\u0644\u0649"),a.setState({favorite_p:t}),API_.setConfig("favorite_players",t),API_.showMsg("\u0627\u0644\u0644\u0627\u0639\u0628 \u066d"+e+"\u066d "+n+" \u0627\u0644\u0645\u0641\u0636\u0644\u0629!")})),a.setState({})},a.get_player_info=function(e){a.setState({modalVisible_player:!0,player_id:e})},a.state={list:D,modalVisible_match:!1,player_type:1,key_:"en_name",channel:null,matche_details:a.props.route.params.match_item,visible_tab:"general",loading:!0,show_res:!1,height:"100%",dynamic_style:I.i,favorite:[],favorite_p:[],modalVisible_player:!1,player:!1,favorite_t:[],is_live_match:!1},a.sub_out={home:[],away:[]},a}return u()(n,[{key:"componentDidMount",value:function(){var e=this;this.get_Match(this.props.route.params.match_item.id),Object(I.c)("styles_match").then((function(t){return e.setState({dynamic_style:t})})),backup.check_live_match(this.props.route.params.match_item.id).then((function(t){return e.setState({is_live_match:!!t})})),API_.getConfig("favorite_channels",this.state.favorite).then((function(t){e.setState({favorite:t})})),API_.getConfig("favorite_players",this.state.favorite_p).then((function(t){e.setState({favorite_p:t})})),API_.getConfig("favorite_teams_k",this.state.favorite_t).then((function(t){e.setState({favorite_t:t})})),this.set_title()}},{key:"set_title",value:function(){this.home_name=this.state.matche_details&&this.state.matche_details.home_team_ar?this.state.matche_details.home_team_ar:this.state.matche_details.home_team,this.away_name=this.state.matche_details&&this.state.matche_details.away_team_ar?this.state.matche_details.away_team_ar:this.state.matche_details.away_team,this.props.navigation.setOptions({title:y.a.createElement(Text,null,this.home_name+" - "+this.away_name)})}},{key:"get_Match",value:function(e){var t=this;if(!this.props.route.params.match_item.is_kora_star)return this.state.matche_details.is_koora?this.get_Match_k(e):void API_.get_match(e).then((function(e){e.data&&e.data[0]&&(t.setState({matche_details:e.data[0],loading:!1}),t.home_team_ar=t.state.matche_details.home_team_ar?t.state.matche_details.home_team_ar:t.state.matche_details.home_team,t.away_team_ar=t.state.matche_details.away_team_ar?t.state.matche_details.away_team_ar:t.state.matche_details.away_team,API_.setTitleWeb(t.home_team_ar+" - "+t.away_team_ar))}));this.setState({matche_details:this.props.route.params.match_item,loading:!1})}},{key:"load_logos",value:function(){var e=this;if(this.state.matche_details.home_team_logo&&this.state.matche_details.away_team_logo)return!0;this.home_team_ar&&API_.getTeam_logo(this.home_team_ar).then((function(t){e.state.matche_details.home_team_logo=!(!t||!t.logo_url)&&t.logo_url,e.away_team_ar&&API_.getTeam_logo(e.away_team_ar).then((function(t){e.state.matche_details.away_team_logo=!(!t||!t.logo_url)&&t.logo_url,e.setState({})}))}))}},{key:"get_Match_k",value:function(e){var t=this;API_.get_match_k(e).then((function(e){e&&(t.set_title(),t.state.matche_details=L(L({},t.state.matche_details),e),t.setState({loading:!1}),t.home_team=t.state.matche_details.home_team_ar?t.state.matche_details.home_team_ar:t.state.matche_details.home_team,t.away_team=t.state.matche_details.away_team_ar?t.state.matche_details.away_team_ar:t.state.matche_details.away_team,API_.setTitleWeb(t.home_team+" - "+t.away_team_ar))}))}},{key:"onmt_clicked",value:function(e){if(void 0==e.is_koora&&void 0==this.state.matche_details.is_kora_star)this.props.navigation.navigate("Channel",{channel_id:e.id,channel_photo:e.channel_photo});else if(1==this.state.matche_details.is_kora_star&&e.url){e.id=e.category_id=e.url,e.category_name=e.codename=e.name=e.en_name,e.category_photo="",e.is_external=!0;try{var t=JSON.parse(JSON.stringify(e));this.props.navigation.navigate("Video",{item:t})}catch(a){API_.debugMsg(a,"danger")}}}},{key:"get_fav_icon",value:function(e){var t=this,a=null;return this.state.favorite&&(a=this.state.favorite.includes(e.en_name)?y.a.createElement(A.a,{name:"star",style:{height:30,width:50},color:I.d.text_color_default,onPress:function(){return t.set_fav(e.en_name)}}):y.a.createElement(A.a,{name:"star-o",style:{height:30,width:50},color:I.d.text_color_default,onPress:function(){return t.set_fav(e.en_name)}})),a}},{key:"get_View_general",value:function(){var e=this;this.state.matche_details.channels=this.state.matche_details.channels?this.state.matche_details.channels:[],this.state.matche_details.channels=this.state.matche_details.channels.sort((function(t,a){return e.state.favorite.indexOf(t.en_name)>=e.state.favorite.indexOf(a.en_name)?-1:1})),this.state.matche_details.channels=this.state.matche_details.channels.sort((function(t,a){return void 0!=t.commentator&&-1==e.state.favorite.indexOf(a.en_name)?-1:0}));var t=this.state.matche_details.channels?this.state.matche_details.channels.map((function(t){var a=t.id,n=t.commentator,s=API_.fix_channel_name(t.en_name),i=void 0==(t=API_.channels_dict&&s in API_.channels_dict?API_.channels_dict[s]:t).is_koora?{backgroundColor:I.d.fav_background}:{};return y.a.createElement(v.a,{style:[{margin:1,flex:1},i],key:a},y.a.createElement(x.a,{style:[{flexDirection:"row",flexWrap:"wrap",width:"100%",marginLeft:10,justifyContent:"center"}],onPress:function(){return e.onmt_clicked(t)}},e.get_fav_icon(t),y.a.createElement(Text,{style:[{flex:1,backgroundColor:I.d.background_color_default,color:I.d.text_color_default,paddingVertical:4},i]},t.en_name,""!=n?" - "+n:"")))})):null;if(this.state.matche_details=={})return null;this.state.matche_details.status=this.state.matche_details.status?this.state.matche_details.status:"-",this.state.matche_details.league=this.state.matche_details.league?this.state.matche_details.league:"-",this.state.matche_details.phase=this.state.matche_details.phase?this.state.matche_details.phase:"-",this.state.matche_details.group=this.state.matche_details.group?this.state.matche_details.group:"-",this.state.matche_details.round=this.state.matche_details.round?this.state.matche_details.round:"-",this.state.matche_details.retour_score=this.state.matche_details.retour_score?this.state.matche_details.retour_score:"-",this.state.matche_details.stadium=this.state.matche_details.stadium?this.state.matche_details.stadium:"-";!(!this.state.matche_details||!this.state.matche_details.home_team_logo)&&this.state.matche_details.home_team_logo,!(!this.state.matche_details||!this.state.matche_details.away_team_logo)&&this.state.matche_details.away_team_logo,I.d.text_color_default;var a=this.state.matche_details.live?{color:I.d.live_borderColor}:{};return y.a.createElement(v.a,{style:this.state.dynamic_style.view_tab},y.a.createElement(Text,{style:this.state.dynamic_style.text_info},this.state.matche_details.datetime?this.state.matche_details.datetime:this.state.matche_details.date+" "+API_.convert_time(this.state.matche_details.time)," "),null,null,"-"!=this.state.matche_details.status?y.a.createElement(Text,{style:this.state.dynamic_style.text_info},"Status : ",this.state.matche_details.status):null,this.state.matche_details.time_played&&"-"!=this.state.matche_details.time_played?y.a.createElement(Text,{style:[this.state.dynamic_style.text_info,a]},"Playing time : ",this.state.matche_details.time_played):null,"-"!=this.state.matche_details.league?y.a.createElement(Text,{style:this.state.dynamic_style.text_info},"League : ",this.state.matche_details.league):null,"-"!=this.state.matche_details.phase?y.a.createElement(Text,{style:this.state.dynamic_style.text_info},"Phase : ",this.state.matche_details.phase):null,"-"!=this.state.matche_details.group?y.a.createElement(Text,{style:this.state.dynamic_style.text_info},"Group : ",this.state.matche_details.group):null,"-"!=this.state.matche_details.round?y.a.createElement(Text,{style:this.state.dynamic_style.text_info},"Round : ",this.state.matche_details.round):null,"-"!=this.state.matche_details.retour_score?y.a.createElement(Text,{style:this.state.dynamic_style.text_info},"First leg : ",this.state.matche_details.retour_score):null,"-"!=this.state.matche_details.stadium?y.a.createElement(Text,{style:this.state.dynamic_style.text_info},"Staduim : ",this.state.matche_details.stadium):null,y.a.createElement(v.a,{style:{flexDirection:"row",flexWrap:"wrap",flex:1}},y.a.createElement(Text,{style:this.state.dynamic_style.text_info},"Live match :"),y.a.createElement(k.a,{style:{justifyContent:"center",marginVertical:"auto",marginHorizontal:10,width:40},trackColor:{false:"#767577",true:"#81b0ff"},thumbColor:this.state.is_live_match?"#f5dd4b":"#f4f3f4",ios_backgroundColor:"#3e3e3e",onValueChange:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.is_live_match){t.next=6;break}return t.next=3,s.a.awrap(backup.remove_live_match(e.state.matche_details.id,e.away_name+" VS "+e.home_name));case 3:e.state.is_live_match=!t.sent,t.next=9;break;case 6:return t.next=8,s.a.awrap(backup.save_live_match(e.state.matche_details,e.away_name+" VS "+e.home_name));case 8:e.state.is_live_match=t.sent;case 9:e.setState({is_live_match:!!e.state.is_live_match});case 10:case"end":return t.stop()}}),null,null,null,Promise)},value:this.state.is_live_match})),null!=t&&t.length>0?y.a.createElement(Text,{style:this.state.dynamic_style.text_info},"Channels :"):null,null!=t&&t.length>0?t:null)}},{key:"get_subs",value:function(e){var t=[];try{t="home"==e?JSON.parse(JSON.stringify(this.state.matche_details.home_substitutions)):JSON.parse(JSON.stringify(this.state.matche_details.away_substitutions))}catch(r){return[]}for(var a=[],n=0;n<t.length;n++){var s=t[n],i=s.substitution?s.substitution.split("|"):["",s.lineup_player];""!=s.time&&a.push({player_key:s.player_key,lineup_player:i[1].trim(),player_out:i[0].trim(),time:s.time,lineup_number:s.time?s.time.split("+")[0]+'"':""})}return a=a.sort((function(e,t){return e.time<t.time?-1:1}))}},{key:"get_View_lineup_2",value:function(){var e=this,t=this.state.matche_details.home_lineup?this.state.matche_details.home_lineup:[],a=this.state.matche_details.away_lineup?this.state.matche_details.away_lineup:[];t.sort((function(e,t){return e.lineup_position<t.lineup_position?-1:e.lineup_position>t.lineup_position?1:0})),a.sort((function(e,t){return e.lineup_position<t.lineup_position?-1:e.lineup_position>t.lineup_position?1:0}));var n=-1;t=[{lineup_player:this.home_team_ar,lineup_number:""}].concat(t),a=[{lineup_player:this.away_team_ar,lineup_number:""}].concat(a);var s=this.get_subs("home"),i=this.get_subs("away");t=t.concat(s),a=a.concat(i),this.state.matche_details.home_lineup.map((function(t){t.subs_out_time>0&&e.sub_out.home.push(t.lineup_player)})),this.state.matche_details.away_lineup.map((function(t){t.subs_out_time>0&&e.sub_out.away.push(t.lineup_player)})),this.state.matche_details.home_substitutions;var r=(t.length>=a?t:a).map((function(s){n++;var i=void 0!=t[n]&&t[n],r=void 0!=a[n]&&a[n],o=e.scorers_h.filter((function(e){return e===i.lineup_player})).length,l=e.scorers_a.filter((function(e){return e===r.lineup_player})).length,c=e.scorers_h&&i&&e.scorers_h.includes(i.lineup_player)?"\u26bd".repeat(o):"",u=e.scorers_a&&r&&e.scorers_a.includes(r.lineup_player)?"\u26bd".repeat(l):"",_=e.assist_h.filter((function(e){return e===i.lineup_player})).length,d=e.assist_a.filter((function(e){return e===r.lineup_player})).length,h=e.assist_h&&i&&e.assist_h.includes(i.lineup_player)?"\u2605".repeat(_):"",m=e.assist_a&&r&&e.assist_a.includes(r.lineup_player)?"\u2605".repeat(d):"",f=e.sub_out.home&&r&&e.sub_out.home.includes(i.lineup_player)?"\u2195":"",p=e.sub_out.away&&r&&e.sub_out.away.includes(r.lineup_player)?"\u2195":"",g=i.lineup_number&&i.lineup_number.indexOf&&i.lineup_number.indexOf('"')>=0?e.state.dynamic_style.lineup2_number_subs:{},b=r.lineup_number&&r.lineup_number.indexOf&&r.lineup_number.indexOf('"')>=0?e.state.dynamic_style.lineup2_number_subs:{},w=i.lineup_player&&e.state.favorite_p.includes(i.lineup_player)?{backgroundColor:I.d.fav_background}:{},k=r.lineup_player&&e.state.favorite_p.includes(r.lineup_player)?{backgroundColor:I.d.fav_background}:{};return y.a.createElement(v.a,{style:e.state.dynamic_style.lineup2_container,key:i.lineup_number+i.lineup_player+r.lineup_player},y.a.createElement(Text,{style:[e.state.dynamic_style.lineup2_number,b,k]},r&&r.lineup_number?r.lineup_number:""),y.a.createElement(x.a,{delayLongPress:300,activeOpacity:.7,onLongPress:function(){return e.set_fav_p(r.lineup_player)},onPress:function(){return e.get_player_info(r.player_key)},style:[e.state.dynamic_style.lineup2_lr_container]},y.a.createElement(Text,{style:[0==n?e.state.dynamic_style.stats_frag_l_:e.state.dynamic_style.lineup2_l,k],numberOfLines:1},r&&r.lineup_player?p+" "+u+" "+m+" "+r.lineup_player:"")),y.a.createElement(x.a,{delayLongPress:300,activeOpacity:.7,onLongPress:function(){return e.set_fav_p(i.lineup_player)},onPress:function(){return e.get_player_info(i.player_key)},style:[e.state.dynamic_style.lineup2_lr_container]},y.a.createElement(Text,{style:[0==n?e.state.dynamic_style.stats_frag_r_:e.state.dynamic_style.lineup2_r,w],numberOfLines:1},i&&i.lineup_player?i.lineup_player+" "+h+" "+c+" "+f:"")),y.a.createElement(Text,{style:[e.state.dynamic_style.lineup2_number,g,w]},i&&i.lineup_number?i.lineup_number:""),11==n?y.a.createElement(v.a,{style:e.state.dynamic_style.hairline}):null)}));return y.a.createElement(v.a,{style:this.state.dynamic_style.view_tab},r||null)}},{key:"get_View_stats",value:function(){var e=this,t=[{home:this.home_team_ar,away:this.away_team_ar,type:"VS"}].concat(this.state.matche_details.statistics),a=-1,n=t.map((function(t){return a++,y.a.createElement(v.a,{style:e.state.dynamic_style.stats_container,key:t?t.type+"":"-"},y.a.createElement(Text,{style:0==a?e.state.dynamic_style.stats_frag_l_:e.state.dynamic_style.stats_frag_l},t?t.away:""),y.a.createElement(Text,{style:0==a?e.state.dynamic_style.stats_frag_m_:e.state.dynamic_style.stats_frag_m},t?t.type:"-"),y.a.createElement(Text,{style:0==a?e.state.dynamic_style.stats_frag_r_:e.state.dynamic_style.stats_frag_r},t?t.home:""))}));return y.a.createElement(v.a,{style:this.state.dynamic_style.view_tab},n||y.a.createElement(v.a,{style:this.state.dynamic_style.view_tab},y.a.createElement(Text,{style:this.state.dynamic_style.title},"Line-up not available")))}},{key:"generate_lineup",value:function(e){for(var t={},n=0;n<e.length;n++){var s=e[n];t[parseInt(s.lineup_position)>0?parseInt(s.lineup_position):n+1]=s}return y.a.createElement(v.a,{style:this.state.dynamic_style.view_tab},y.a.createElement(P.a,{style:this.state.dynamic_style.background_pitch,source:a(494)},y.a.createElement(v.a,{style:this.state.dynamic_style.view_inline},y.a.createElement(Text,{style:this.state.dynamic_style.lineup_player},t[1]?t[1].lineup_player:"")),y.a.createElement(v.a,{style:this.state.dynamic_style.view_inline},y.a.createElement(Text,{style:this.state.dynamic_style.lineup_player},t[2]?t[2].lineup_player:""),y.a.createElement(Text,{style:this.state.dynamic_style.lineup_player},t[5]?t[5].lineup_player:""),y.a.createElement(Text,{style:this.state.dynamic_style.lineup_player},t[4]?t[4].lineup_player:""),y.a.createElement(Text,{style:this.state.dynamic_style.lineup_player},t[3]?t[3].lineup_player:"")),y.a.createElement(v.a,{style:this.state.dynamic_style.view_inline},y.a.createElement(Text,{style:this.state.dynamic_style.lineup_player},t[7]?t[7].lineup_player:""),y.a.createElement(Text,{style:this.state.dynamic_style.lineup_player},t[8]?t[8].lineup_player:""),y.a.createElement(Text,{style:this.state.dynamic_style.lineup_player},t[10]?t[10].lineup_player:""),y.a.createElement(Text,{style:this.state.dynamic_style.lineup_player},t[6]?t[6].lineup_player:"")),y.a.createElement(v.a,{style:this.state.dynamic_style.view_inline},y.a.createElement(Text,{style:this.state.dynamic_style.lineup_player},t[11]?t[11].lineup_player:""),y.a.createElement(Text,{style:this.state.dynamic_style.lineup_player},t[9]?t[9].lineup_player:""))))}},{key:"get_View_lineup",value:function(){var e=this;if(this.state.matche_details=={}||void 0==this.state.matche_details.home_lineup||void 0==this.state.matche_details.away_lineup||this.state.matche_details.home_lineup.length<11||this.state.matche_details.away_lineup.length<11)return y.a.createElement(v.a,{style:this.state.dynamic_style.view_tab},y.a.createElement(Text,{style:this.state.dynamic_style.title},"Line-up not available"));var t=void 0==this.state.lineup_type||"home"==this.state.lineup_type;return y.a.createElement(v.a,{style:this.state.dynamic_style.view_tab},y.a.createElement(v.a,{style:this.state.dynamic_style.view_inline_teams_lu},y.a.createElement(x.a,{style:1==t?this.state.dynamic_style.lineup_team_:this.state.dynamic_style.lineup_team,onPress:function(){e.setState({lineup_type:"home"})}},y.a.createElement(Text,{style:this.state.dynamic_style.view_tab_text},this.home_team_ar)),y.a.createElement(x.a,{style:0==t?this.state.dynamic_style.lineup_team_:this.state.dynamic_style.lineup_team,onPress:function(){e.setState({lineup_type:"away"})}},y.a.createElement(Text,{style:this.state.dynamic_style.view_tab_text},this.away_team_ar))),1==t?this.generate_lineup(this.state.matche_details.home_lineup):null,0==t?this.generate_lineup(this.state.matche_details.away_lineup):null)}},{key:"get_scores",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"home";"home"==t?(this.scorers_h=[],this.assist_h=[]):(this.scorers_a=[],this.assist_a=[]);var a="home"==t?this.state.dynamic_style.match_results_team_name_r:this.state.dynamic_style.match_results_team_name_l;if(this.state.matche_details.goal_scorer){this.state.matche_details.goal_scorer=this.state.matche_details.goal_scorer.sort((function(e,t){return(isNaN(e.time)?e.time:parseInt(e.time))<(isNaN(t.time)?t.time:parseInt(t.time))?-1:1}));var n=this.state.matche_details.goal_scorer.map((function(n){if(void 0==n[t+"_scorer"]||""==n[t+"_scorer"]||null==n[t+"_scorer"])return!1;var s="";return"away"==t?(s=0==API_.is_ascii(n[t+"_scorer"])?(n.time?n.time+'"':"-")+" "+n[t+"_scorer"]:n[t+"_scorer"]+" "+(n.time?n.time+'"':"-"),e.scorers_a.push(n[t+"_scorer"]),e.assist_a.push(n[t+"_assist"])):(s=0==API_.is_ascii(n[t+"_scorer"])?n[t+"_scorer"]+" "+(n.time?n.time+'"':"-"):(n.time?n.time+'"':"-")+" "+n[t+"_scorer"],e.scorers_h.push(n[t+"_scorer"]),e.assist_h.push(n[t+"_assist"])),y.a.createElement(Text,{style:[a,e.state.dynamic_style.match_results_scorer_text],key:s},s)}));return y.a.createElement(v.a,{style:[a]},n||null)}}},{key:"render",value:function(){var e=this,t="",a="",n=this.state.dynamic_style.match_results_drawer,s=this.state.dynamic_style.match_results_drawer,i=this.get_scores("home"),r=this.get_scores("away");try{t=this.state.matche_details.home_team_score&&"-"!=this.state.matche_details.home_team_score?parseInt(this.state.matche_details.home_team_score):"-",a=this.state.matche_details.away_team_score&&"-"!=this.state.matche_details.away_team_score?parseInt(this.state.matche_details.away_team_score):"-",void 0==this.state.matche_details.home_team_status&&t>a||this.state.matche_details.home_team_status&&"w"==this.state.matche_details.home_team_status?n=this.state.dynamic_style.match_results_winer:void 0==this.state.matche_details.home_team_status&&t==a||this.state.matche_details.home_team_status&&"d"==this.state.matche_details.home_team_status?n=this.state.dynamic_style.match_results_drawer:(void 0==this.state.matche_details.home_team_status&&t<a||this.state.matche_details.home_team_status&&"l"==this.state.matche_details.home_team_status)&&(n=this.state.dynamic_style.match_results_loser),void 0==this.state.matche_details.away_team_status&&t<a||this.state.matche_details.away_team_status&&"w"==this.state.matche_details.away_team_status?s=this.state.dynamic_style.match_results_winer:void 0==this.state.matche_details.away_team_status&&t==a||this.state.matche_details.away_team_status&&"d"==this.state.matche_details.away_team_status?s=this.state.dynamic_style.match_results_drawer:(void 0==this.state.matche_details.away_team_status&&t>a||this.state.matche_details.away_team_status&&"l"==this.state.matche_details.away_team_status)&&(s=this.state.dynamic_style.match_results_loser)}catch(d){return y.a.createElement(v.a,{style:this.state.dynamic_style.container},y.a.createElement(Text,null,"ERR"))}void 0!=this.state.matche_details.home_team_score_penalties&&y.a.createElement(v.a,{style:this.state.dynamic_style.matche_team_score_penalties},y.a.createElement(Text,{style:this.state.dynamic_style.matche_team_score_text_penalties,noFonts:!0},this.state.matche_details.home_team_score_penalties?this.state.matche_details.home_team_score_penalties:"-"),y.a.createElement(Text,{style:this.state.dynamic_style.matche_team_score_text_penalties,noFonts:!0},this.state.matche_details.away_team_score_penalties?this.state.matche_details.away_team_score_penalties:"-"));var o=this.state.favorite_t.includes(this.state.matche_details.home_team_id)?{backgroundColor:I.d.fav_background}:{},l=this.state.favorite_t.includes(this.state.matche_details.away_team_id)?{backgroundColor:I.d.fav_background}:{},c=this.state.matche_details.away_team_badge?this.state.matche_details.away_team_badge:this.state.matche_details.away_team_logo,u=this.state.matche_details.home_team_badge?this.state.matche_details.home_team_badge:this.state.matche_details.home_team_logo,_=this.state.matche_details.live?{borderColor:I.d.live_borderColor,borderWidth:2}:{};return y.a.createElement(C.a,{style:this.state.dynamic_style.container},y.a.createElement(x.a,{style:[this.state.dynamic_style.header_container,_],onPress:function(){return e.setState({show_res:!e.state.show_res})},activeOpacity:.7},y.a.createElement(v.a,{style:[s]},y.a.createElement(E.a,{style:{height:100,width:"95%",justifyContent:"center",resizeMode:"contain"},source:{uri:c}}),y.a.createElement(v.a,{styles:{flex:1}},y.a.createElement(b.a,{activeOpacity:.4,style:[this.state.dynamic_style.match_results_team_name,l],onPress:function(){e.state.matche_details.away_team_id&&e.setState({modalVisible_team:!0,team_id:e.state.matche_details.away_team_id})},delayLongPress:300},y.a.createElement(Text,{style:this.state.dynamic_style.match_results_team_name,numberOfLines:1}," ",this.away_name)),y.a.createElement(Text,{style:[this.state.dynamic_style.match_results_team_scor_t]},a),void 0==this.state.matche_details.home_team_score_penalties?null:y.a.createElement(Text,{style:this.state.dynamic_style.match_results_team_scor_penalties_t,noFonts:!0},this.state.matche_details.away_team_score_penalties?this.state.matche_details.away_team_score_penalties:"-")),this.state.show_res?y.a.createElement(v.a,{style:{}},r):null),y.a.createElement(v.a,{style:[this.state.dynamic_style.match_results_team_name_r,n]},y.a.createElement(T.a,{name:"home",size:28,color:I.d.list_header_backgroundColor,style:{position:"absolute",right:5}}),y.a.createElement(E.a,{style:{height:100,width:"95%",resizeMode:"contain"},source:{uri:u}}),y.a.createElement(v.a,{styles:[this.state.dynamic_style.match_results_team_name_r,{flex:1}]},y.a.createElement(b.a,{activeOpacity:.4,style:[this.state.dynamic_style.match_results_team_name,o],onPress:function(){e.state.matche_details.home_team_id&&e.setState({modalVisible_team:!0,team_id:e.state.matche_details.home_team_id})},delayLongPress:300},y.a.createElement(Text,{style:this.state.dynamic_style.match_results_team_name,numberOfLines:1}," ",this.home_name)),y.a.createElement(Text,{style:[this.state.dynamic_style.match_results_team_scor_t]},t),void 0==this.state.matche_details.home_team_score_penalties?null:y.a.createElement(Text,{style:this.state.dynamic_style.match_results_team_scor_penalties_t,noFonts:!0},this.state.matche_details.home_team_score_penalties?this.state.matche_details.home_team_score_penalties:"-")),this.state.show_res?y.a.createElement(v.a,{style:{}},i):null)),y.a.createElement(v.a,{style:this.state.dynamic_style.tabs_list},y.a.createElement(v.a,{style:{flex:1}},y.a.createElement(w.a,{title:"General",onPress:function(){return e.setState({visible_tab:"general"})}})),y.a.createElement(v.a,{style:{flex:1}},y.a.createElement(w.a,{title:"Stats",onPress:function(){return e.setState({visible_tab:"stats"})}})),y.a.createElement(v.a,{style:{flex:1}},y.a.createElement(w.a,{title:"Line-up",onPress:function(){if(e.setState({visible_tab:"lineup2",loading:!0}),e.state.matche_details.details&&void 0==e.state.matche_details.home_lineup)return API_.get_lineup_k(e.state.matche_details.id).then((function(t){for(var a=0;a<Object.keys(t).length;a++)e.state.matche_details[Object.keys(t)[a]]=t[Object.keys(t)[a]];e.setState({visible_tab:"lineup2",loading:!1})})),null;e.setState({visible_tab:"lineup2",loading:!1})}})),y.a.createElement(v.a,{style:{flex:1}},y.a.createElement(w.a,{title:"League",onPress:function(){var t=e.state.matche_details.league_badge?API_.domain_o+e.state.matche_details.league_badge.path:null;e.props.navigation.navigate("League",{league_details:{id:e.state.matche_details.league_id,league:e.state.matche_details.league,league_img:t}})}}))),this.state.loading?y.a.createElement(S.a,null):y.a.createElement(v.a,{style:this.state.dynamic_style.container_scrl},this.state.matche_details!={}&&"general"==this.state.visible_tab?this.get_View_general():null,this.state.matche_details!={}&&"stats"==this.state.visible_tab?this.get_View_stats():null,this.state.matche_details!={}&&"lineup"==this.state.visible_tab?this.get_View_lineup():null,this.state.matche_details!={}&&"lineup2"==this.state.visible_tab?this.get_View_lineup_2():null),1==this.state.modalVisible_player?y.a.createElement(O.a,{modal_visible:this.state.modalVisible_player,dynamic_style:this.state.dynamic_style,player_id:this.state.player_id,closeModal:function(){e.setState({modalVisible_player:!1})}}):null,1==this.state.modalVisible_team?y.a.createElement(R.a,{modal_visible:this.state.modalVisible_team,team_id:this.state.team_id,get_player_info:this.get_player_info,set_fav_p:this.set_fav_p,favorite_p:this.state.favorite_p,league_name:this.league_name,league_id:this.real_id,closeModal:function(){e.setState({modalVisible_team:!1}),e.load_logos()}}):null)}}]),n}(y.a.Component);t.a=j},205:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(4),r=a.n(i),o=a(5),l=a.n(o),c=a(6),u=a.n(c),_=a(8),d=a.n(_),h=a(3),m=a.n(h),f=a(0),p=a.n(f),g=a(2),y=a(63),v=a(25),b=a(32),w=a(59),k=a(69),x=a(244),E=a(55),P=a(19),C=a(199),S=a(34);function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m()(e);if(t){var s=m()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return d()(this,a)}}var A=function(e){u()(a,e);var t=I(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).get_video=function(){var e,t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(0==n.state.loading&&n.setState({loading:!0}),!n.state.video.is_external){a.next=19;break}return n.props.navigation.setOptions({headerRight:function(){return p.a.createElement(S.a,{name:"chrome",size:n.state.dynamic_style.title.fontSize,style:n.state.dynamic_style.icons,onPress:function(){API_.open_ext_url(n.state.video.url)}})}}),a.prev=3,a.next=6,s.a.awrap(API_.get_iframe(n.state.video.url));case 6:e=a.sent,n.state.video.url=e&&e.length>0?e:n.state.video.url,a.next=13;break;case 10:a.prev=10,a.t0=a.catch(3),API_.showMsg(a.t0,"danger");case 13:return n.is_external_loaded=!0,n.state.video.desc=n.state.video.url,n.setState({}),a.abrupt("return",!0);case 19:if(!n.state.video.is_yt||!n.state.video.videoId){a.next=22;break}return setTimeout((function(){n.setState({loading:!1}),API_.setTitleWeb(n.state.video.title_news)}),500),a.abrupt("return",!0);case 22:t=n.state.video.title_news.length>0?n.state.video.title_news.slice(0,30)+"...":n.state.video.title_news,n.props.navigation.setOptions({title:t}),n.state.video.videoId=!1,API_.get_video(n.props.route.params.item.link,n.props.route.params.item.source_id).then((function(e){var t="https://www.dailymotion.com/embed/video/"+e;"http"==e.slice(0,4)&&(t=e),n.state.video.videoId=e,setTimeout((function(){n.setState({loading:!1}),API_.setTitleWeb(n.state.video.title_news)}),500),n.props.navigation.setOptions({headerRight:function(){return p.a.createElement(S.a,{name:"chrome",size:n.state.dynamic_style.title.fontSize,style:n.state.dynamic_style.icons,onPress:function(){y.a.openURL(t)}})}})}));case 26:case"end":return a.stop()}}),null,null,[[3,10]],Promise)},n.state={list:[],modalVisible_match:!1,loading:!0,video:n.props.route.params.item,dynamic_style:P.e,videoQuality:"380"},n.is_external_loaded=!1,n.js_setIframeWidth="(function() { const iframes = document.getElementsByTagName('iframe');for(let i = 0; i<iframes.length;i++ )iframes[0].width = '100%';})();",n}return l()(a,[{key:"componentDidMount",value:function(){var e=this;this.state.video.title_news=this.state.video.name?this.state.video.name:this.state.video.title_news,this.get_video(),Object(x.a)();var t=this.state.video.title_news.length>0?this.state.video.title_news.slice(0,30)+"...":Object(P.c)("styles_article").then((function(t){return e.setState({dynamic_style:t})}));this.props.navigation.setOptions({title:p.a.createElement(Text,null,t)})}},{key:"componentWillUnmount",value:function(){Object(x.b)()}},{key:"LoadingIndicatorView",value:function(){return p.a.createElement(k.a,{color:"#009b88",size:"large"})}},{key:"render_wv",value:function(){var e=this;if(!1===this.state.video.videoId)return null;var t="";if(this.state.video.is_external){if(t=this.state.video.url,0==this.is_external_loaded)return}else{var a="https://www.dailymotion.com/embed/video/"+this.state.video.videoId+"?quality="+this.state.videoQuality+"&info=0&logo=0&autoplay=false",n="https://www.youtube.com/embed/"+this.state.video.videoId+"?autoplay=0&&vq="+this.state.videoQuality+"&color="+P.d.text_color_default,s=this.state.video.videoId&&"http"==this.state.video.videoId.slice(0,4)?this.state.video.videoId:"";t=this.state.video.is_yt?n:a,t=3==this.state.video.source_id?s:t}return API_.isWeb?p.a.createElement("iframe",{src:t,style:{flex:1,backgroundColor:"#353b48",borderWidth:0,height:"100%",width:"100%"},seamless:!0}):p.a.createElement(C.a,{allowsFullscreenVideo:!0,style:{flex:1,backgroundColor:"#353b48"},javaScriptEnabled:!0,domStorageEnabled:!0,ref:function(t){return e.webview=t},onShouldStartLoadWithRequest:function(a){return e.webview.injectJavaScript(e.js_setIframeWidth),a.url.replace("/m.","/").replace("/www.","/")==t.replace("/m.","/").replace("/www.","/")||(console.log("stopLoading"),!1)},source:{uri:t},userAgent:this.state.video.is_external?API_.user_agents["Android 10"]:API_.user_agents["Windows 10"]})}},{key:"render",value:function(){var e=this,t=this.state.video&&this.state.video.url?500:300,a={height:t,width:"100%",position:"absolute"};return a=this.state.video&&(this.state.video.videoId||this.state.video.url)?a:{width:1,height:1},p.a.createElement(b.a,{style:this.state.dynamic_style.container},p.a.createElement(w.a,{style:{height:t,width:"100%"},source:{uri:this.state.video.img}}),p.a.createElement(g.a,{style:a,source:{uri:this.state.video.img}},this.render_wv()),p.a.createElement(g.a,{style:this.state.dynamic_style.article_v},p.a.createElement(Text,{style:this.state.dynamic_style.article_date_t},this.state.video&&this.state.video.date?this.state.video.date:""),p.a.createElement(Text,{style:this.state.dynamic_style.article_title_t},this.state.video&&this.state.video.title_news?this.state.video.title_news:"")),p.a.createElement(Text,{style:this.state.dynamic_style.article_body_t},this.state.video&&this.state.video.desc?this.state.video.desc:""),this.state.video&&(this.state.video.videoId||this.state.video.url||this.is_external_loaded)?null:p.a.createElement(E.a,null),p.a.createElement(v.a,{selectedValue:this.state.videoQuality,style:{height:"90%",flex:1,backgroundColor:"#2d3436",color:"#dfe6e9"},onValueChange:function(t,a){e.setState({videoQuality:t})}},p.a.createElement(v.a.Item,{label:"144",value:"144p",key:"144"}),p.a.createElement(v.a.Item,{label:"240",value:"240p",key:"240"}),p.a.createElement(v.a.Item,{label:"360",value:"360p",key:"360"}),p.a.createElement(v.a.Item,{label:"480",value:"480p",key:"480"}),p.a.createElement(v.a.Item,{label:"720",value:"hd720&hd=1",key:"720"}),p.a.createElement(v.a.Item,{label:"1080",value:"hd1080&hd=1",key:"1080"})))}}]),a}(p.a.Component);t.a=A},206:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(4),r=a.n(i),o=a(5),l=a.n(o),c=a(6),u=a.n(c),_=a(8),d=a.n(_),h=a(3),m=a.n(h),f=a(0),p=a.n(f),g=a(2),y=a(22),v=a(37),b=a(38),w=a(32),k=a(59),x=a(53),E=(a(121),a(55)),P=a(19),C=a(71),S=a(130),I=a(131);function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m()(e);if(t){var s=m()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return d()(this,a)}}var T=[],O=function(e){u()(a,e);var t=A(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).get_matches_k=function(){var e,t,a,i,r;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n.setState({loading:!0}),e={},o.next=4,s.a.awrap(Object(C.a)());case 4:return t=o.sent,o.next=7,s.a.awrap(API_.get_matches_league_k(n.real_id));case 7:a=o.sent,i=a&&a.length>0?a:[],r={};try{r=JSON.parse(JSON.stringify(i[0]))}catch(l){}r.data=[],i.data;try{i=(i=i&&i.length>0&&i[0].data?i[0].data:[]).map((function(t){var a=t.date,s="";try{s=API_.days[API_.convert_time_o(a+" 00:00").getDay()]}catch(l){}(1!=n.state.matches_only_fav||n.state.favorite.includes(t.home_team_id)||n.state.favorite.includes(t.away_team_id))&&(void 0==e[a]&&(e[a]=JSON.parse(JSON.stringify(r)),e[a].title=a+" - "+s),e[a].data.push(t))}))}catch(c){console.log(c)}return e=Object.values(e)?Object.values(e):[],o.next=17,s.a.awrap(API_.set_logos(e));case 17:e=o.sent,n._isMounted&&n.setState({matches:e,loading:!1,visible_tab:"matches",notifications_matches:t});case 19:case"end":return o.stop()}}),null,null,null,Promise)},n.onMatch_clicked=function(e){n.props.navigation.navigate("Match",{match_item:e})},n._onMatch_LongPressed=function(e){Object(C.b)(e).then((function(e){Object(C.a)().then((function(e){return n.setState({notifications_matches:e})}))}))},n.set_fav_p=function(e){var t,a;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,s.a.awrap(API_.getConfig("favorite_players",n.state.favorite_p));case 2:return t=i.sent,a="",t.includes(e)?(t=t.filter((function(t){if(t!=e)return t})),a="\u062a\u0645\u062a \u0625\u0632\u0627\u0644\u062a\u0647 \u0645\u0646"):(t.push(e),a="\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u062a\u0647 \u0625\u0644\u0649"),n.setState({favorite_p:t}),API_.setConfig("favorite_players",t),API_.showMsg("\u0627\u0644\u0644\u0627\u0639\u0628 \u066d"+e+"\u066d "+a+" \u0627\u0644\u0645\u0641\u0636\u0644\u0629!"),n.setState({}),i.abrupt("return",t);case 10:case"end":return i.stop()}}),null,null,null,Promise)},n.get_player_info=function(e){n.setState({modalVisible_player:!0,player_id:e.player_id})},n.set_fav=function(e,t){var a,i,r;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e=parseInt(e),a="",0!=e){o.next=4;break}return o.abrupt("return","");case 4:return i=n.is_k?"favorite_teams_k":"favorite_teams",o.next=7,s.a.awrap(API_.getConfig(i,n.state.favorite));case 7:return(r=o.sent).includes(e)?(r=r.filter((function(t){if(t!=e)return t})),a="\u062a\u0645\u062a \u0625\u0632\u0627\u0644\u062a\u0647 \u0645\u0646"):(r.push(e),a="\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u062a\u0647 \u0625\u0644\u0649"),n.setState({favorite:r}),o.next=12,s.a.awrap(API_.setConfig(i,r));case 12:n.setState({}),API_.showMsg("\u0627\u0644\u0641\u0631\u064a\u0642 \u066d"+t+"\u066d "+a+" \u0627\u0644\u0645\u0641\u0636\u0644\u0629!");case 14:case"end":return o.stop()}}),null,null,null,Promise)},n.showMatchesTab=function(){"matches"==n.state.visible_tab&&(n.state.matches_only_fav=!n.state.matches_only_fav,n.state.matches=void 0),void 0==n.state.matches?(n.setState({loading:!0,matches:[]}),n.get_matches()):n.setState({visible_tab:"matches"})},n.state={list:T,modalVisible_match:!1,player_type:1,key_:"en_name",channel:null,league_details:[],visible_tab:"standing",loading:!0,show_res:!1,height:"100%",dynamic_style:P.h,notifications_matches:{},scorers:[],favorite:[],favorite_p:[],modalVisible_player:!1,player:!1,matches_only_fav:!1,modalVisible_team:!1},n.league_name=n.props.route.params.league_details.league,n.league_img=n.props.route.params.league_details.league_img,n.real_id=n.props.route.params.league_details.id,n.league_id=API_.leagueId_byTitle(n.league_name)>0?API_.leagueId_byTitle(n.league_name):0,API_.leagues_dict[n.league_name]&&API_.leagues_dict[n.league_name].koora_id&&1==api_type&&(n.real_id=API_.leagues_dict[n.league_name].koora_id),n}return l()(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,Object(P.c)("styles_league").then((function(t){return e.setState({dynamic_style:t})})),this.props.navigation.setOptions({title:p.a.createElement(Text,null,this.league_name)}),this.get_standing(this.league_id)}},{key:"componentWillUnmount",value:function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this._isMounted=!1;case 1:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"get_standing",value:function(e){var t,a;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.is_k=!1,this.real_id==this.league_id||void 0==this.real_id){n.next=4;break}return this.is_k=!0,n.abrupt("return",this.get_standing_k());case 4:return n.next=6,s.a.awrap(API_.getConfig("favorite_teams",this.state.favorite));case 6:return t=n.sent,n.next=9,s.a.awrap(API_.get_standing(e));case 9:(a=n.sent).data&&a.data&&this.setState({league_details:a.data,loading:!1,favorite:t});case 11:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"get_standing_k",value:function(){var e,t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(API_.getConfig("favorite_teams_k",this.state.favorite));case 2:return e=a.sent,a.next=5,s.a.awrap(API_.get_standing_k(this.real_id));case 5:return t=a.sent,a.next=8,s.a.awrap(API_.set_logos_standing(t));case 8:0==(t=a.sent).length&&this.showMatchesTab(),this.setState({league_details:t,loading:!1,favorite:e});case 11:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"get_matches",value:function(e){var t=this;if(Object(C.a)().then((function(e){t._isMounted&&t.setState({notifications_matches:e})})),this.real_id!=this.league_id&&void 0!=this.real_id)return this.get_matches_k();API_.get_league_matches(this.league_id).then((function(e){if(e&&"true"==e.status){var a={},n=Object.keys(e.data).map((function(n){for(var s="",i=(!!(e.data[n]&&e.data[n].length>0&&e.data[n][0].league_badge&&e.data[n][0].league_badge.path)&&e.data[n][0].league_badge.path,0);i<e.data[n].length;i++){if(e.data[n][i].time=API_.convert_time(e.data[n][i].time),e.data[n][i].live){var r=API_.convert_time_spent(e.data[n][i].date+" "+e.data[n][i].time);e.data[n][i].time_played=r||"",(0==r||r<-10)&&(e.data[n][i].live=0)}var o="";try{o=API_.days[API_.convert_time_o(e.data[n][i].date+" 00:00").getDay()]}catch(l){}(1!=t.state.matches_only_fav||t.state.favorite.includes(e.data[n][i].home_team_id)||t.state.favorite.includes(e.data[n][i].away_team_id))&&(s=e.data[n][i].date,void 0==a[s]?a[s]={title:s+" - "+o,data:[e.data[n][i]]}:a[s].data.push(e.data[n][i]))}return a=(a=Object.values(a)).sort((function(e,t){return e.title>t.title?1:-1}))}));t.setState({matches:n[0],loading:!1,visible_tab:"matches"});for(var s=0;s<n.length;s++);}}))}},{key:"render_matches",value:function(){return p.a.createElement(x.a,{favorite_teams:this.state.favorite,loading:this.state.loading,list:this.state.matches,onclick:this.onMatch_clicked,onLongPress:this._onMatch_LongPressed,key_:"home_team",key_key:"id"})}},{key:"render_scorers",value:function(){var e=this;return void 0==this.state.league_details||0==this.state.scorers.length?null:[{player_name_ar:"Player name",player_id:1,team_badge:"",overall_league_payed:"",goals:"Gls"}].concat(this.state.scorers).map((function(t){var a=t&&t.player_name_ar?t.player_name_ar:t.player_name_en,n=!(!t||!t.team_badge||""==t.team_badge)&&t.team_badge,s=e.state.favorite_p.includes(a)?{backgroundColor:P.d.fav_background}:{};return p.a.createElement(v.a,{style:[e.state.dynamic_style.team_view,s],key:t.player_id+a,delayLongPress:300,activeOpacity:.7,onLongPress:function(){return e.set_fav_p(a)},onPress:function(){return e.get_player_info(t)}},p.a.createElement(g.a,{style:{flex:1,padding:2}},0!=n?p.a.createElement(b.a,{style:{height:"95%",width:"95%"},source:{uri:n}}):null),p.a.createElement(g.a,{style:{flex:7}},p.a.createElement(Text,{style:e.state.dynamic_style.team_name_t},a)),p.a.createElement(g.a,{style:{flex:1}},p.a.createElement(Text,{style:e.state.dynamic_style.team_name_t},"")),p.a.createElement(g.a,{style:{flex:1}},p.a.createElement(Text,{style:e.state.dynamic_style.team_name_t},t.goals)))}))}},{key:"get_fav_icon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(e=parseInt(e))<=0?"":0==t?this.state.favorite.includes(e)?"\u2605":"\u2606":!!this.state.favorite.includes(e)}},{key:"render_standing",value:function(){var e=this;if(void 0==this.state.league_details||0==this.state.league_details.length)return null;var t=[],a={"":this.state.league_details};for(var n in 1==Object.keys(this.state.league_details[0]).length&&(a=this.state.league_details),a.sort&&a.sort((function(e,t){return Object.keys(e)[0]>Object.keys(t)[0]?1:-1})),a){var s=a[n];if(""!=n){var i=Object.keys(s)[0];s=s[i],t=t.concat(p.a.createElement(g.a,{style:{flex:1,alignItems:"center"},key:i},p.a.createElement(Text,{style:this.state.dynamic_style.group_name_t},i)))}s=[{team_name:"Team name",team_badge:"",overall_league_payed:"Pld",overall_league_PTS:"Pts",goals:"Gls",id:"h_"+n}].concat(s),t=t.concat(s.map((function(t){var a=t.team?e.get_fav_icon(t.team.id):"",n="";t&&t.team_name&&(n=API_.is_ascii(t.team_name)?a+t.team_name:t.team_name+a);var s=t&&t.team_badge?t.team_badge:"",i=(t&&t.overall_league_position&&t.overall_league_position,t&&t.overall_league_PTS?t.overall_league_PTS:"0"),r=t&&t.overall_league_payed?t.overall_league_payed:"0",o=t&&t.overall_league_GF>=0?t.overall_league_GF:0;o=t&&t.overall_league_GA?o-t.overall_league_GA:o,o=t&&"Gls"==t.goals?t.goals:o;var l=t.team&&e.get_fav_icon(t.team.id,!0)?{backgroundColor:P.d.fav_background}:{},c=!!(t&&t.c_code&&t.c_code.split("~").length>=2)&&t.c_code.split("~")[2];return p.a.createElement(v.a,{activeOpacity:.7,style:[e.state.dynamic_style.team_view,l],key:n+t.id,onPress:function(){t&&t.team&&t.team.id&&e.setState({modalVisible_team:!0,team_id:t.team.id})},delayLongPress:300,onLongPress:function(){return e.set_fav(t.team?t.team.id:-1,n)}},p.a.createElement(g.a,{style:{flex:1,padding:2}},p.a.createElement(b.a,{style:{height:"95%",width:"95%"},source:{uri:s}})),p.a.createElement(g.a,{style:{flex:6}},p.a.createElement(Text,{style:e.state.dynamic_style.team_name_t,numberOfLines:1},n)),0!=c?p.a.createElement(g.a,{style:{flex:1,padding:1}},p.a.createElement(b.a,{style:{height:"95%",width:"95%"},source:{uri:API_.get_cc_img(c)}})):null,p.a.createElement(g.a,{style:{flex:1}},p.a.createElement(Text,{style:e.state.dynamic_style.team_name_t},r)),p.a.createElement(g.a,{style:{flex:1}},p.a.createElement(Text,{style:e.state.dynamic_style.team_name_t},o)),p.a.createElement(g.a,{style:{flex:1}},p.a.createElement(Text,{style:e.state.dynamic_style.team_name_t},i)))})))}return t}},{key:"onmt_clicked",value:function(e){this.props.navigation.navigate("Channel",{channel_id:e.id,channel_photo:e.channel_photo})}},{key:"render",value:function(){var e=this;return p.a.createElement(w.a,{style:this.state.dynamic_style.container},this.league_img?p.a.createElement(g.a,{style:this.state.dynamic_style.channel_logo_v},p.a.createElement(k.a,{style:{flex:1,width:"100%"},source:{uri:this.league_img}},p.a.createElement(g.a,{style:this.state.dynamic_style.news_img_v}),p.a.createElement(g.a,{style:this.state.dynamic_style.news_title_v},p.a.createElement(Text,{style:this.state.dynamic_style.news_title_t,numberOfLines:1},this.league_name)))):null,p.a.createElement(g.a,{style:this.state.dynamic_style.tabs_list},p.a.createElement(g.a,{style:{flex:1}},p.a.createElement(y.a,{title:"Standing",onPress:function(){return e.setState({visible_tab:"standing"})}})),p.a.createElement(g.a,{style:{flex:1}},p.a.createElement(y.a,{title:"Scorers",onPress:function(){var t,a;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!=e.state.scorers&&0!=e.state.scorers.length){n.next=9;break}return e.setState({loading:!0}),n.next=4,s.a.awrap(API_.getConfig("favorite_players",e.state.favorite_p));case 4:return t=n.sent,n.next=7,s.a.awrap(API_.get_scorers(e.real_id));case 7:a=n.sent,e.setState({scorers:a,loading:!1,favorite_p:t});case 9:e.setState({visible_tab:"scorers"});case 10:case"end":return n.stop()}}),null,null,null,Promise)}})),p.a.createElement(g.a,{style:{flex:1}},p.a.createElement(y.a,{title:"Matches",onPress:this.showMatchesTab}))),this.state.loading?p.a.createElement(E.a,null):p.a.createElement(g.a,{style:this.state.dynamic_style.container},this.state.league_details!={}&&"standing"==this.state.visible_tab?this.render_standing():null,this.state.league_details!={}&&"matches"==this.state.visible_tab?this.render_matches():null,this.state.league_details!={}&&"scorers"==this.state.visible_tab?this.render_scorers():null),1==this.state.modalVisible_player?p.a.createElement(S.a,{modal_visible:this.state.modalVisible_player,dynamic_style:this.state.dynamic_style,player_id:this.state.player_id,closeModal:function(){e.setState({modalVisible_player:!1})}}):null,1==this.state.modalVisible_team?p.a.createElement(I.a,{modal_visible:this.state.modalVisible_team,dynamic_style:this.state.dynamic_style,team_id:this.state.team_id,get_player_info:this.get_player_info,set_fav_p:this.set_fav_p,favorite_p:this.state.favorite_p,league_name:this.league_name,league_id:this.real_id,closeModal:function(){e.setState({modalVisible_team:!1})}}):null)}}]),a}(p.a.Component);t.a=O},207:function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(5),r=a.n(i),o=a(6),l=a.n(o),c=a(8),u=a.n(c),_=a(3),d=a.n(_),h=a(0),m=a.n(h),f=a(2),p=a(22),g=a(25),y=a(32),v=a(38),b=a(55),w=a(19),k=a(117),x=a(26),E=a(39),P=a(23),C=a(121),S=a.n(C),I=a(526);function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var s=d()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return u()(this,a)}}var T=function(e){l()(n,e);var t=A(n);function n(e){var a;return s()(this,n),(a=t.call(this,e)).state={modalVisible_match:a.props.modalVisible_match,dynamic_style:a.props.dynamic_style},a.playerRef=m.a.createRef(),a}return r()(n,[{key:"render_ReactHlsPlayer",value:function(){var e=this;return 1==this.props.player_type?m.a.createElement(S.a,{url:this.props.p_url,autoplay:!0,controls:!0,width:"100%",height:"auto",onError:function(e){return console.log("errr",e)},playerRef:this.playerRef}):m.a.createElement(I.a,{source:{uri:this.props.p_url},ref:function(t){e.player=t}})}},{key:"render",value:function(){var e=this,t=P.a.get("window").height,n=P.a.get("window").width;this.state.dynamic_style=this.props.dynamic_style;var s=API_.isWeb?a(93).default:E.a,i=t>n?this.state.dynamic_style.modal_view_meduim:this.state.dynamic_style.modal_view_large;return void 0==this.state.dynamic_style?null:m.a.createElement(s,{animationType:"slide",transparent:!0,visible:this.props.modalVisible_match,onRequestClose:function(){e.setState({modalVisible_match:!1})}},m.a.createElement(f.a,{style:this.state.dynamic_style.modal_view_container},m.a.createElement(f.a,{style:[this.state.dynamic_style.modal_view,i,this.state.dynamic_style.modal_view_fill_width]},m.a.createElement(f.a,{style:this.state.dynamic_style.modal_body},m.a.createElement(Text,null,"   ",this.props.url," "),1==this.props.modalVisible_match&&""!=this.props.p_url?this.render_ReactHlsPlayer():null),m.a.createElement(f.a,{style:this.state.dynamic_style.footer},m.a.createElement(f.a,{style:this.state.dynamic_style.footer_button},m.a.createElement(p.a,{title:"Close",color:"#f39c12",onPress:function(){return e.props.closeM()}}))))))}}]),n}(m.a.Component);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var s=d()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return u()(this,a)}}var R=function(e){l()(a,e);var t=O(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state={list:[],modalVisible_match:!1,player_type:1,key_:"en_name",key_key:"channel_id",url:"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8",actionType:"PLAYER",channel:null,loading:!0,dynamic_style:w.f,p_url:""},n.playerRef=m.a.createRef(),n}return r()(a,[{key:"componentDidMount",value:function(){var e=this;Object(w.c)("styles_channel").then((function(t){return e.setState({dynamic_style:t})})),Object(w.c)("styles_settings").then((function(t){return e.setState({dynamic_style_modals:t})})),this.get_channel(),k.c(x.b.ALL).catch((function(e){return API_.debugMsg(e+"","warning")}))}},{key:"get_channel",value:function(){var e=this;this.channel_photo=this.props.route.params.channel_photo;var t=this.props.route.params.ch_item;if(t)return console.log(t),void setTimeout((function(){e.setState({channel:t,loading:!1})}),300);API_.get_channel(this.props.route.params.channel_id).then((function(t){t&&t.data&&t.data.en_name&&e.setState({channel:t.data,loading:!1})})).catch((function(e){return API_.showMsg(e,"danger")}))}},{key:"render_modal_HLSP",value:function(){var e=this;return 0==this.state.modalVisible_match?null:m.a.createElement(T,{modalVisible_match:this.state.modalVisible_match,dynamic_style:this.state.dynamic_style_modals,p_url:this.state.p_url,player_type:this.state.player_type,closeM:function(){e.setState({modalVisible_match:!1})}})}},{key:"onch_clicked",value:function(e){if(1==e.is_external)API_.open_ext_url(e.url);else if("IPTV"==this.state.actionType)API_.saveLink(e.SecureUrl,this.state.channel.name,API_.domain_o+this.channel_photo).then((function(e){return API_.showMsg("\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0642\u0646\u0627\u0629!")}));else if("PLAYER"==this.state.actionType){if(API_.isWeb)return void this.setState({p_url:e.SecureUrl,modalVisible_match:!0});API_.open_ext_url(e.SecureUrl)}else if("inApp-IPTV"==this.state.actionType){var t=JSON.parse(JSON.stringify(this.state.channel));t.channel_photo=this.channel_photo,backup.save_iptv(t)}}},{key:"render",value:function(){var e=this;console.log(this.state.channel?this.state.channel.channel_servers:null);var t=this.state.channel&&this.state.channel.en_name?this.state.channel.en_name.toLocaleLowerCase().trim().replace(/\s/g,"").replace(/hd/g,""):"",a=API_.external_channels&&API_.external_channels[t]?API_.external_channels[t]:null,n=this.state.channel&&this.state.channel.channel_servers&&this.state.channel.channel_servers.map?this.state.channel.channel_servers:[];console.log(n),a&&n.push(a);var s=n.map((function(t){return t&&t.name?m.a.createElement(f.a,{style:{margin:8},key:t.id},m.a.createElement(p.a,{color:t.is_external?"#f39c12":"#3498db",onPress:function(){return e.onch_clicked(t)},title:t.name,style:{margin:5}})):null})),i=(backup&&backup.is_auth&&1==backup.admin?["IPTV","PLAYER","inApp-IPTV"]:["PLAYER","inApp-IPTV"]).map((function(e){return m.a.createElement(g.a.Item,{label:e,value:e,key:e})}));return m.a.createElement(y.a,{style:this.state.dynamic_style.container},m.a.createElement(f.a,{style:this.state.dynamic_style.channel_logo_v},this.channel_photo?m.a.createElement(v.a,{style:this.state.dynamic_style.channel_logo,source:{uri:"http"!=this.channel_photo.slice(0,4)?API_.domain_o+this.channel_photo:this.channel_photo}}):null),m.a.createElement(f.a,{style:this.state.dynamic_style.info_cont},this.state.loading?m.a.createElement(b.a,null):m.a.createElement(f.a,{style:this.state.dynamic_style.info_cont},m.a.createElement(Text,{style:this.state.dynamic_style.info_text}," Name : ",this.state.channel&&this.state.channel.en_name?this.state.channel.en_name:""),m.a.createElement(Text,{style:this.state.dynamic_style.info_text}," Language :",this.state.channel&&this.state.channel.language?this.state.channel.language:""),m.a.createElement(Text,{style:this.state.dynamic_style.info_text}," Type :",this.state.channel&&this.state.channel.type?this.state.channel.type:""),m.a.createElement(g.a,{selectedValue:this.state.actionType,style:{height:50,width:150,backgroundColor:"#2c3e50",color:"#fff"},onValueChange:function(t,a){return e.setState({actionType:t})}},i),s)),this.render_modal_HLSP())}}]),a}(m.a.Component);t.a=R},232:function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(5),r=a.n(i),o=a(1),l=a.n(o),c=(a(233),a(242)),u=a(106);c.a.configure({reachabilityUrl:"https://imadboy89.github.io/match/",reachabilityTest:function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",204===e.status);case 1:case"end":return t.stop()}}),null,null,null,Promise)},reachabilityLongTimeout:6e4,reachabilityShortTimeout:2e4,reachabilityRequestTimeout:15e3});var _=function(){function e(){var t=this;s()(this,e),this.checkCnx=function(){var e,a,n,s=arguments;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=!(s.length>0&&void 0!==s[0])||s[0],a=s.length>1&&void 0!==s[1]&&s[1],i.next=4,l.a.awrap(c.a.fetch());case 4:if(n=i.sent,t.isConnected=n.isConnected,!e||t.client&&t.client.callFunction){i.next=10;break}return i.next=9,l.a.awrap(t.setClientInfo());case 9:i.sent;case 10:if(!t.isConnected||!e){i.next=13;break}return i.next=13,l.a.awrap(t.checkConnectedUserChange());case 13:return 0==t.isConnected&&0==a&&API_.showMsg("\u062a\u062d\u062a\u0627\u062c \u0625\u0644\u0649 \u0627\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a!","warning"),i.abrupt("return",t.isConnected);case 15:case"end":return i.stop()}}),null,null,null,Promise)},this.setClientInfo=function(){var e;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l.a.awrap(t.get_default_appClient());case 3:t.client=a.sent,e=t.client.getServiceClient(u.b.factory,"mongodb-atlas");try{t.lastActivity=t.client.auth.activeUserAuthInfo.lastAuthActivity}catch(n){t.lastActivity=""}try{t.email=t.client.auth.activeUserAuthInfo.userProfile.data.email}catch(n){t.email=""}if(t.email=t.email?t.email.toLocaleLowerCase().trim():"",t.db=e.db("ba9al"),t.db_settings=t.db.collection("settings"),t.db_teams_info=t.db.collection("teams_info"),t.db_teams=t.db.collection("teams"),t.db_IPTV=t.db.collection("IPTV"),t.db_live_matches=t.db.collection("live_matches"),t.is_auth=""!=t.email&&void 0!=t.email,!t.is_auth){a.next=21;break}return setTimeout((function(){return API_.showMsg("\u0645\u0631\u062d\u0628\u0627 \u0628\u0639\u0648\u062f\u062a\u0643 \u066d"+t.email+"\u066d !","success")}),1e3),a.next=19,l.a.awrap(t.isAdmin());case 19:a.next=26;break;case 21:return a.next=23,l.a.awrap(t.client.auth.loginWithCredential(new u.a));case 23:return a.next=25,l.a.awrap(t.get_default_appClient());case 25:t.client=t.client=a.sent;case 26:return a.abrupt("return",t.is_auth);case 29:return a.prev=29,a.t0=a.catch(0),console.log(a.t0),a.abrupt("return",new Promise((function(e){e(!1)})));case 33:case"end":return a.stop()}}),null,null,[[0,29]],Promise)},this.executingQueued=function(){var e,a,n;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",!0);case 3:return s.next=5,l.a.awrap(t.checkCnx(!0,!0));case 5:if(s.sent){s.next=7;break}return s.abrupt("return",!1);case 7:for(t.executingQueued_running=!0,void 0==t.timer&&(t.timer=setInterval((function(){return t.executingQueued()}),1e4)),e=t.queue.slice(),a=0;a<t.queue.length;a++){n=e[a],console.log("executingQueued "+a,n[0]);try{n[0].apply(t,n[1])}catch(i){console.log(i)}}t.queue=[],t.executingQueued_running=!1;case 13:case"end":return s.stop()}}),null,null,null,Promise)},this.subscribeUser=function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"BPRLuFzkQnqlKVNs-ksQ34d24FtZFa_Fenl6ds6QbrlbadXlpmlTsJ_EGfIEW5STO_AaCuNPj6RhryOdXwIi6xM","BPRLuFzkQnqlKVNs-ksQ34d24FtZFa_Fenl6ds6QbrlbadXlpmlTsJ_EGfIEW5STO_AaCuNPj6RhryOdXwIi6xM",t.next=4,l.a.awrap(serviceWorker.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BPRLuFzkQnqlKVNs-ksQ34d24FtZFa_Fenl6ds6QbrlbadXlpmlTsJ_EGfIEW5STO_AaCuNPj6RhryOdXwIi6xM"}));case 4:return e=t.sent,t.abrupt("return",e);case 6:case"end":return t.stop()}}),null,null,null,Promise)},this.savePushToken=function(){var e;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!API_.isWeb){a.next=14;break}return a.prev=1,console.log("savePushToken start2"),a.next=5,l.a.awrap(t.subscribeUser());case 5:t.PushToken=a.sent,t.PushToken=JSON.stringify(t.PushToken),console.log("savePushToken END"),a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(1),API_.showMsg(a.t0,"danger"),a.abrupt("return",!1);case 14:return a.next=16,l.a.awrap(t.checkCnx());case 16:if(a.t2=!a.sent,a.t2){a.next=19;break}a.t2=void 0==t.PushToken;case 19:if(a.t1=a.t2,a.t1){a.next=22;break}a.t1=""==t.PushToken;case 22:if(!a.t1){a.next=24;break}return a.abrupt("return",new Promise((function(e){e(!1)})));case 24:return e={},a.prev=25,a.next=28,l.a.awrap(t.client.callFunction("savePushToken",[t.PushToken,"ar",API_.isWeb?1:0,t.appName]));case 28:e=a.sent,a.next=35;break;case 31:return a.prev=31,a.t3=a.catch(25),console.log(a.t3),a.abrupt("return",!1);case 35:return a.abrupt("return",e);case 36:case"end":return a.stop()}}),null,null,[[1,10],[25,31]],Promise)},this.checkConnectedUserChange=function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 5:return e.abrupt("return",void 0);case 6:case"end":return e.stop()}}),null,null,null,Promise)},this.changeClient=function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(t.checkCnx(!0));case 2:if(e.sent){e.next=4;break}return e.abrupt("return",!1);case 4:return t.email="",t.lastActivity="",e.next=8,l.a.awrap(t.login());case 8:case"end":return e.stop()}}),null,null,null,Promise)},this.get_default_appClient=function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e=!1,t.prev=1,e=u.c.defaultAppClient,t.next=10;break;case 5:return t.prev=5,t.t0=t.catch(1),t.next=9,l.a.awrap(u.c.initializeDefaultAppClient("ba9al-xpsly"));case 9:e=t.sent;case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}}),null,null,[[1,5]],Promise)},this.login=function(){var e,a,n,s,i=arguments;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=i.length>0&&void 0!==i[0]&&i[0],a=t.LS.getCredentials(),t.admin=!1,r.next=5,l.a.awrap(t.get_default_appClient());case 5:if(n=r.sent,r.prev=6,!(a&&a.email&&a.password&&""!=a.email&&""!=a.password&&0==e)){r.next=22;break}return t.email="",t.is_auth=!1,s=new u.e(a.email,a.password),r.next=13,l.a.awrap(n.auth.logout());case 13:return r.next=15,l.a.awrap(n.auth.loginWithCredential(s));case 15:return t.client=r.sent,API_.set_settings({}),r.next=19,l.a.awrap(t.setClientInfo());case 19:return r.abrupt("return",t.is_auth);case 22:if(!e){r.next=29;break}return t.email="",t.is_auth=!1,r.next=27,l.a.awrap(n.auth.logout());case 27:r.next=31;break;case 29:return r.next=31,l.a.awrap(t.setClientInfo());case 31:return t.loadingClient=!1,r.abrupt("return",!1);case 35:r.prev=35,r.t0=r.catch(6),API_.showMsg((r.t0.message?r.t0.message:r.t0)+"","danger"),t.LS.setCredentials("","");case 39:case"end":return r.stop()}}),null,null,[[6,35]],Promise)},this.user_log=function(){var e;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!=_ClientInfo&&t.client&&t.client.callFunction){a.next=2;break}return a.abrupt("return",!1);case 2:return a.next=4,l.a.awrap(_ClientInfo.getInfo());case 4:return(e=a.sent).email=t.email,a.prev=6,a.next=9,l.a.awrap(t.client.callFunction("users_log",[e]));case 9:a.sent,a.next=15;break;case 12:a.prev=12,a.t0=a.catch(6),API_.debugMsg(a.t0,"danger");case 15:case"end":return a.stop()}}),null,null,[[6,12]],Promise)},this.newUser=function(){var e,a;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(t.checkCnx());case 2:if(n.sent){n.next=4;break}return n.abrupt("return",!1);case 4:return e=t.LS.getCredentials(),a=u.c.defaultAppClient.auth.getProviderClient(u.d.factory),n.abrupt("return",a.registerWithEmail(e.email,e.password).then((function(t){return API_.showMsg("\u062a\u0645 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0628\u0646\u062c\u0627\u062d \u066d"+e.email+"\u066d !","success"),!0})).catch((function(e){API_.showMsg((e.message?e.message:e)+"","warning")})));case 7:case"end":return n.stop()}}),null,null,null,Promise)},this._loadClient=function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.loadingClient){e.next=2;break}return e.abrupt("return",!1);case 2:return t.loadingClient=!0,e.next=5,l.a.awrap(t.checkCnx(!1));case 5:if(e.sent){e.next=8;break}return t.loadingClient=!1,e.abrupt("return",!1);case 8:return e.next=10,l.a.awrap(t.login());case 10:case"end":return e.stop()}}),null,null,null,Promise)},this.clean=function(e){return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.email){a.next=10;break}return a.prev=1,a.next=4,l.a.awrap(e.deleteMany({}));case 4:return a.abrupt("return",a.sent);case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0);case 10:return a.abrupt("return",!1);case 11:case"end":return a.stop()}}),null,null,[[1,7]],Promise)},this.load_settings=function(){var e,a;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.is_settings_loaded=!1,t.is_mdb_ok()){n.next=3;break}return n.abrupt("return",!1);case 3:return n.next=5,l.a.awrap(t.db_settings.findOne({},{_id:!1}));case 5:if(null!=(e=n.sent)){n.next=12;break}return n.next=9,l.a.awrap(t.save_settings());case 9:e=n.sent,n.next=14;break;case 12:return n.next=14,l.a.awrap(API_.set_settings(e));case 14:return t.is_settings_loaded=!0,n.next=17,l.a.awrap(API_.get_settings());case 17:return a=n.sent,n.abrupt("return",JSON.stringify(e)!=JSON.stringify(a));case 19:case"end":return n.stop()}}),null,null,null,Promise)},this.save_settings=function(){var e;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.is_mdb_ok()&&0!=t.is_settings_loaded){a.next=2;break}return a.abrupt("return",!1);case 2:return a.next=4,l.a.awrap(API_.get_settings());case 4:if(0!=(e=a.sent).favorite_leagues.length||0!=e.favorite_teams_k.length||0!=e.favorite_channels.length){a.next=8;break}return API_.debugMsg("saving empty configs","info"),a.abrupt("return",!1);case 8:if(e.email=t.email,e.updated_at=new Date,delete e._id,!e){a.next=22;break}return a.prev=12,a.next=15,l.a.awrap(t.db_settings.updateOne({email:t.email},e,{upsert:!0}));case 15:a.sent,a.next=21;break;case 18:a.prev=18,a.t0=a.catch(12),API_.showMsg(message,"danger");case 21:return a.abrupt("return",e);case 22:case"end":return a.stop()}}),null,null,[[12,18]],Promise)},this.save_teams_o=function(){var e,a,n,s,i,r,o,c,u,_;return l.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(t.is_mdb_ok()){d.next=2;break}return d.abrupt("return",!1);case 2:return d.next=4,l.a.awrap(API_.getTeam_logo());case 4:return e=d.sent,d.next=7,l.a.awrap(API_.getTeam_logo_k());case 7:for(a=d.sent,n=Object.keys(e),s=Object.keys(a),i=[],r=0;r<n.length;r++)void 0==e[n[r]].is_backedup&&(e[n[r]].is_backedup=!0,i.push(e[n[r]]));for(o=0,c=s;o<c.length;o++)u=c[o],void 0==a[u].is_backedup&&(a[u].is_backedup=!0,i.push(a[u]));if(0!=i.length){d.next=15;break}return d.abrupt("return",!0);case 15:return d.next=17,l.a.awrap(t.client.callFunction("save_teams",[i]));case 17:if(!((_=d.sent).inserted>0||_.updated>0)){d.next=23;break}return d.next=21,l.a.awrap(API_.setTeams(e));case 21:console.log("["+i.length+"] Teams saved successfully!!"),API_.debugMsg("["+i.length+"] Teams saved successfully!!","success");case 23:case"end":return d.stop()}}),null,null,null,Promise)},this.save_teams=function(){var e,a,n,s,i,r,o;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t.is_mdb_ok()&&API_.mdb_save_teams){c.next=2;break}return c.abrupt("return",!1);case 2:return c.next=4,l.a.awrap(API_.getTeam_logo_k());case 4:for(e=c.sent,a=Object.keys(e),n=[],s=0,i=a;s<i.length;s++)r=i[s],1!=e[r].is_backedup&&(e[r].is_backedup=!0,n.push(e[r]));if(0!=n.length){c.next=10;break}return c.abrupt("return",!0);case 10:return console.log("saving remotly [count="+n.length+"] bck"),c.next=13,l.a.awrap(t.client.callFunction("save_teams",[n]));case 13:return((o=c.sent).inserted>0||o.updated>0)&&(API_.setTeams_k(e),console.log("["+n.length+"] Teams saved successfully!"),API_.debugMsg("["+n.length+"] Teams saved successfully!","success")),c.abrupt("return",o);case 16:case"end":return c.stop()}}),null,null,null,Promise)},this.load_teams=function(){var e,a,n,s;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(t.is_mdb_ok()&&void 0!=t.db_settings){i.next=2;break}return i.abrupt("return",!1);case 2:return i.next=4,l.a.awrap(API_.getTeam_logo_k());case 4:return e=(e=i.sent)||{},i.next=8,l.a.awrap(API_.get_teams_expired());case 8:if(!(0==i.sent&&Object.keys(e).length>0)){i.next=11;break}return i.abrupt("return",!1);case 11:return i.next=13,l.a.awrap(t.client.callFunction("load_teams",[{l:{$exists:!0}}]));case 13:for(a=i.sent,n={},s=0;s<a.length;s++)n[a[s].team_id]=a[s];return t.teams_ready=!0,i.next=19,l.a.awrap(API_.setTeams_k(n));case 19:return API_.debugMsg("Loaded ["+a.length+"] Teams.","success"),i.abrupt("return",!0);case 21:case"end":return i.stop()}}),null,null,null,Promise)},this.partnersManager=function(e,a){var n,s;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,l.a.awrap(t.checkCnx());case 2:if(i.sent){i.next=4;break}return i.abrupt("return",!1);case 4:return n=API_.get_date_time(),s={},i.prev=6,i.next=9,l.a.awrap(t.client.callFunction("partnersManager",[e,n,a]));case 9:s=i.sent,i.next=16;break;case 12:return i.prev=12,i.t0=i.catch(6),API_.debugMsg((i.t0.message?i.t0.message:i.t0)+"","danger"),i.abrupt("return",!1);case 16:return i.abrupt("return",s);case 17:case"end":return i.stop()}}),null,null,[[6,12]],Promise)},this.usersManager=function(e,a){var n;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,l.a.awrap(t.checkCnx());case 2:if(s.sent){s.next=4;break}return s.abrupt("return",!1);case 4:return n={},s.prev=5,s.next=8,l.a.awrap(t.client.callFunction("Users_managements",[e,a]));case 8:n=s.sent,API_.showMsg("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d!","success"),s.next=16;break;case 12:return s.prev=12,s.t0=s.catch(5),API_.debugMsg((s.t0.message?s.t0.message:s.t0)+"","danger"),s.abrupt("return",!1);case 16:return s.abrupt("return",n);case 17:case"end":return s.stop()}}),null,null,[[5,12]],Promise)},this.pushNotification=function(){var e,a,n,s,i,r,o,c,u,_,d,h,m=arguments;return l.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return e=m.length>0&&void 0!==m[0]?m[0]:"",a=m.length>1&&void 0!==m[1]?m[1]:"",n=m.length>2&&void 0!==m[2]?m[2]:{},s=m.length>3&&void 0!==m[3]&&m[3],i=m.length>4&&void 0!==m[4]?m[4]:void 0,f.next=7,l.a.awrap(t.checkCnx());case 7:if(f.sent){f.next=9;break}return f.abrupt("return",new Promise((function(e){e(!1)})));case 9:if(""!=e&&""!=a){f.next=11;break}return f.abrupt("return",!1);case 11:if(r=(new Date).getTime(),!(t.last_notification_time&&r-t.last_notification_time<5e3)){f.next=14;break}return f.abrupt("return","Can't send 2 Notif in 5s");case 14:return o=API_.get_date_time(),c={},u=[s,e,a,n,o,i,t.appName],f.prev=17,f.next=20,l.a.awrap(t.client.callFunction("pushNotification",u));case 20:if(c=f.sent,t.last_notification_time=(new Date).getTime(),_=0,d="",c&&c.data&&c.data.length>0)for(h=0;h<c.data.length;h++)_+=c.data[h].status&&"ok"==c.data[h].status?1:0,d=c.data[h].status&&"error"==c.data[h].status?c.data[h].message:"";return _>0?API_.showMsg("\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0625\u062e\u0637\u0627\u0631 \u0628\u0646\u062c\u0627\u062d \u0625\u0644\u0649 "+_+" \u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646.","success"):""!=d&&API_.showMsg(d,"danger"),f.abrupt("return",_);case 29:return f.prev=29,f.t0=f.catch(17),API_.debugMsg((f.t0.message?f.t0.message:f.t0)+"","danger"),t.queue.push([t.pushNotification,[e,a,n,s,i]]),f.abrupt("return",!1);case 34:return f.abrupt("return",c);case 35:case"end":return f.stop()}}),null,null,[[17,29]],Promise)},this.insertMany=function(e,a){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e.insertMany(a).catch((function(e){var n=[];if(a&&a[0].name)for(var s=0;s<a.length;s++)n.push(a[s].name);var i=n.length>0&&n.length<=3?"("+n.join(",")+")":"("+n.length+")";return t.appendLog("    XXX Insert : "+e.message+" : "+i),e})));case 1:case"end":return n.stop()}}),null,null,null,Promise)},this.updateOne=function(e,a,n){return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",e.updateOne(a,n).catch((function(e){var a=n&&n.name?"("+n.name+")":"";return t.appendLog("    XXX rUpdate : "+e.message+a),e})));case 1:case"end":return s.stop()}}),null,null,null,Promise)},this.load_iptv=function(){var e;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l.a.awrap(t.db_IPTV.find({},{sort:{datetime:-1}}).asArray());case 3:return e=a.sent,a.abrupt("return",e);case 7:return a.prev=7,a.t0=a.catch(0),console.log(a.t0.message),API_.showMsg(a.t0,"danger"),a.abrupt("return",[]);case 12:case"end":return a.stop()}}),null,null,[[0,7]],Promise)},this.save_iptv=function(e){var a;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.user_id=t.client.auth.activeUserAuthInfo.userId,n.next=4,l.a.awrap(t.db_IPTV.insertOne(e));case 4:(a=n.sent)&&a.insertedId?API_.showMsg("\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0642\u0646\u0627\u0629  *"+e.name+"*","success"):API_.showMsg("Something wrong : "+JSON.stringify(a),"danger"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),API_.showMsg(n.t0,"danger");case 11:case"end":return n.stop()}}),null,null,[[0,8]],Promise)},this.save_live_match=function(e,a){var n,s,i;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=JSON.parse(JSON.stringify(e)),(n={match_id:e.id}).user_id=t.client.auth.activeUserAuthInfo.userId,n.user_email=t.email,n.active=!0,n.match_title=a,n.createdAt=new Date,n.startAt=new Date(e.datetime.replace(" ","T")+":00.000+01:00"),delete e.matches_list,delete e.details,delete e.channels,delete e.matches_list,n.match_details=e,n.isWeb=API_.isWeb,r.next=17,l.a.awrap(t.db_live_matches.deleteMany({match_id:e.id}));case 17:return r.sent,r.next=20,l.a.awrap(t.db_live_matches.insertOne(n));case 20:return s=r.sent,(i=s&&s.insertedId)?(API_.notifications_matches[n.match_id]=e,API_.showMsg("\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0645\u0628\u0627\u0631\u0627\u0629  *"+a+"*","success")):API_.showMsg("Something wrong : "+JSON.stringify(s),"danger"),r.abrupt("return",i);case 26:r.prev=26,r.t0=r.catch(0),API_.showMsg(r.t0,"danger");case 29:return r.abrupt("return",!1);case 30:case"end":return r.stop()}}),null,null,[[0,26]],Promise)},this.remove_live_match=function(e,a){var n,s,i;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,(n={match_id:e}).user_id=t.client.auth.activeUserAuthInfo.userId,n.user_email=t.email,n.isWeb=API_.isWeb,r.next=7,l.a.awrap(t.db_live_matches.deleteMany(n));case 7:return s=r.sent,(i=s&&s.deletedCount)&&(delete API_.notifications_matches[e],API_.showMsg("\u062a\u0645\u062a \u0625\u0632\u0627\u0644\u0629 \u0645\u0628\u0627\u0631\u0627\u0629  *"+a+"*","success")),r.abrupt("return",i);case 13:r.prev=13,r.t0=r.catch(0),API_.showMsg(r.t0,"danger");case 16:return r.abrupt("return",!0);case 17:case"end":return r.stop()}}),null,null,[[0,13]],Promise)},this.check_live_match=function(e){var a,n,s;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,(a={match_id:e}).user_id=t.client.auth.activeUserAuthInfo.userId,a.isWeb=API_.isWeb,i.next=6,l.a.awrap(t.db_live_matches.find(a).asArray());case 6:return n=i.sent,s=n&&n.length,i.abrupt("return",s);case 11:i.prev=11,i.t0=i.catch(0),API_.showMsg(i.t0,"danger");case 14:return i.abrupt("return",!1);case 15:case"end":return i.stop()}}),null,null,[[0,11]],Promise)},this.get_match_live=function(e){var a,n,s,i;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.is_mdb_ok()){r.next=2;break}return r.abrupt("return",!1);case 2:return a={active:!0,isWeb:API_.isWeb},e&&(n=new Date(e),(s=new Date(e)).setHours(23),s.setMinutes(59),s.setSeconds(59),a.startAt={$gte:n,$lte:s}),r.next=6,l.a.awrap(t.db_live_matches.find(a).asArray());case 6:return i=r.sent,r.abrupt("return",i);case 8:case"end":return r.stop()}}),null,null,null,Promise)},this.appName="almatch",this.LS=API_,this.lastActivity="",this.email="",this.doClean=!1,this.admin=!1,this.isConected=!1,this.PushToken="",this.executingQueued_running=!1,this.queue=[],this.last_notification_time=!1,this.is_auth=!1,this.is_settings_loaded=!1,this.teams_ready=!1}return r()(e,[{key:"isAdmin",value:function(){var e=this;return this.client.callFunction("isAdmin").then((function(t){e.admin=t})).catch((function(e){API_.debugMsg((e.message?e.message:e)+"","warning")}))}},{key:"is_mdb_ok",value:function(){return void 0!=this.db_settings&&void 0!=this.db_settings.findOne&&void 0!=this.client&&0!=this.is_auth}},{key:"getMDB",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{projection:{_id:0}};return e.find(a,n).asArray().then((function(e){return e})).catch((function(e){t.appendLog("    XXX Found : "+e.message)}))}}]),e}();t.a=_},233:function(e,t,a){"use strict";var n=a(10),s=a.n(n),i=a(1),r=a.n(i),o=a(4),l=a.n(o),c=a(5),u=a.n(c),_=a(13),d=a(23),h=a(45),m=a.n(h),f=a(368).DOMParser,p=function(){function e(){l()(this,e),this.error=null,this.html="",this.isWeb=API_.isWeb,this.img_q="410w"}return u()(e,[{key:"get_article",value:function(e){var t=e.match(/var\s*article_content\s*=\s*".*/gi),a=t&&t.length>0?t[0].replace(/\\"/g,"'"):"";a=a.split('"').length>1?a.split('"')[1]:"Error";var n={};return n.related=this.get_var_array(e,"article_links",'\\"\\"\\);'),n.related_news=this.get_var_array(e,"article_related",'\\"\\"\\);'),n.related_images=this.get_var_array(e,"article_images",'\\"\\"\\);'),n.related=n.related.map((function(e){return{related_link:e[0],related_title:e[1]}})),n.related_news=n.related_news.map((function(e){return{related_news_id:e[0],related_news_title:e[1]}})),n.related_images=n.related_images.map((function(e){return{img_link:e[0].replace(/^\/\//,"https://"),img_desc:e[1]}})),n.body=this.decodeEntities(a),n}},{key:"parse_details",value:function(e){e=e.split("~");for(var t={},a=0;a<e.length;a++){var n=e[a].trim();0!=(n=n.split("|")).length&&(void 0==t[n[0]]?t[n[0]]=[n]:t[n[0]].push(n))}return t}},{key:"get_matche_k",value:function(e,t){var a=this.get_matches_k(e,t,!0),n=a&&1==a.length&&a[0].title?a[0].title:"",s=!(!a||1!=a.length||!a[0].data||1!=a[0].data.length)&&a[0].data[0];if(0==s)return[];var i=this.parse_details(s.details),r=this.parse_details(s.home_scorers),o=this.parse_details(s.away_scorers);if(i.l&&i.l.length>0){for(var l=[],c=0;c<i.l.length;c++){var u=i.l[c].length>=4&&i.l[c][4]?i.l[c][4]:"";l.push({id:i.l[c][1],en_name:i.l[c][2],is_koora:!0,commentator:u})}s.channels=l}i.a&&i.a.length>0&&(s.stadium=i.a[0]&&i.a[0].length>=3?i.a[0][3]:"",s.stadium=i.a[0]&&i.a[0][5]?i.a[0][5]+" | "+s.stadium:s.stadium),s.league=n;for(var _=[],d=["p","g","o"],h=0;h<d.length;h++){var m=d[h];if(r[m]&&r[m].length>0)for(var f=0;f<r[m].length;f++){var p={home_scorer:"",home_assist:"",away_scorer:"",away_assist:"",time:""};p.home_scorer=r[m][f][3],p.time=r[m][f][1],_.push(p)}if(o[m]&&o[m].length>0)for(var g=0;g<o[m].length;g++){var y={home_scorer:"",home_assist:"",away_scorer:"",away_assist:"",time:""};y.away_scorer=o[m][g][3],y.time=o[m][g][1],_.push(y)}}return s.goal_scorer=_,s.round=i.o&&i.o.length>0?"\u0627\u0644\u062c\u0648\u0644\u0629 "+i.o[0][1]:"-",s.round="-"==s.round&&i.w&&i.w.length>0?"\u0627\u0644\u0623\u0633\u0628\u0648\u0639 "+i.w[0][1]:s.round,s.phase=i.e&&i.e.length>0?i.e[0][2]:"-",s.group=i.sl&&i.sl.length>0?i.sl[0][1]:"-",s.retour_score=i.sl&&i.sl.length>0?s.away_team+" "+i.sl[0][2]+" - "+i.sl[0][1]+" "+s.home_team:"-",s}},{key:"get_lineup",value:function(e){var t={match_squads:[]};try{t=JSON.parse(e)}catch(l){return console.log(l),[]}var a={home_lineup:[],away_lineup:[],home_substitutions:[],away_substitutions:[]};if(t&&t.match_squads&&JSON.stringify(t.match_squads)==JSON.stringify([-1]))return console.log("empty"),a;var n=["team","player_key","lineup_position","lineup_number","lineup_player","player_is_subs","subs_in_time","subs_out_time","info_1","info_2","info_3","info_4","info_5","info_6","info_7","info_8","info_9","info_10","info_11","info_12","info_13","info_14","info_15","info_16","info_17"],s=0,i={};try{for(var r=0;r<t.match_squads.length;r++)if(i[n[s]]=t.match_squads[r],++s==n.length){i.subs_in_time=i.subs_in_time+"",i.time="-1"!=i.subs_in_time?i.subs_in_time:"";var o=1==i.team?"home_lineup":"away_lineup";a[o=o.replace("lineup","s"==i.player_is_subs?"lineup":"substitutions")].push(i),s=0,i={}}}catch(l){console.log(l)}return a}},{key:"get_standing",value:function(e){var t={match_squads:[]};try{t=JSON.parse(e)}catch(_){return console.log(_),[]}var a=[];if(t&&t.ranks_table&&JSON.stringify(t.ranks_table)==JSON.stringify([-1]))return notifyMessage("empty"),a;var n=["table_r","info_1","position","team","c_code","played","info_2","draws","loses","rest","goals_scored","goals_received","goals_difference","points","i","last_matches_res"],s=0,i={},r=!1;t.ranks_table=t.ranks_table?t.ranks_table:[];for(var o=["table_r","info_1","position","team","played","info_2","draws","loses","rest","goals_scored","goals_received","goals_difference","points","i","last_matches_res"],l=0;l<t.ranks_table.length;l++)try{if(0==a.length&&4==s&&t.ranks_table[l].includes("~")&&(o=n),0==s&&"g"==t.ranks_table[l-1]){r=t.ranks_table[l];continue}if(0==s&&"r"!=t.ranks_table[l])continue;if(i[o[s]]=t.ranks_table[l],++s==o.length){var c=i.team.split("~");if(i.played=i.played.includes("~")?i.info_2:i.played,i.team={id:c[2],team_name:c[3],team_badge:""},i.team_name=i.team.team_name,i.team_badge=i.team.team_badge,i.overall_league_position=parseInt(i.position)>0?parseInt(i.position):0,i.overall_league_PTS=parseInt(i.points)>0?parseInt(i.points):0,i.overall_league_payed=parseInt(i.played)>0?parseInt(i.played):0,i.overall_league_GF=parseInt(i.goals_scored)>0?parseInt(i.goals_scored):0,i.overall_league_GA=parseInt(i.goals_received)>0?parseInt(i.goals_received):0,i.overall_league_GD=parseInt(i.goals_difference)>0?parseInt(i.goals_difference):0,r)if(a.length>0&&Object.keys(a[a.length-1])[0]==r)a[a.length-1][r].push(i);else{var u={};u[r]=[i],a.push(u)}else a.push(i);s=0,i={}}}catch(_){console.log(_)}return a}},{key:"get_matches_kora_star",value:function(e,t){if(""==e)return[];var a=(new f).parseFromString(e,"text/html"),n=a.querySelect("#today")[0].getElementsByClassName("alba_sports_events-event_item"),s={};API_.test_doc=a;for(var i=0;i<n.length;i++){var r={league_id:"",url:"",com_id_page:"",id:"",datetime:"",time:"",home_team_id:"",home_team_status:"",home_team:"",home_scorers:"",score:"",away_team_id:"",away_team_status:"",away_team:"",away_scorers:"",details:"",home_team_badge:"",away_team_badge:"",channels:[],commenter:"",league:"",is_kora_star:!0},o=n[i];r.url=o.querySelect("a")&&o.querySelect("a").length?o.querySelect("a")[0].getAttribute("href"):"",r.id=o.getAttribute("id"),r.id=r.id&&r.id.split&&2==r.id.split("_").length?r.id.split("_")[1]:"",r.datetime=o.getAttribute("rel"),r.league=o.getElementsByClassName("league-title")&&o.getElementsByClassName("league-title").length?o.getElementsByClassName("league-title")[0].childNodes+"":"";var l=o.querySelect("img");r.datetime=r.datetime.replace(/\//g,"-").trim(),r.time=r.datetime&&r.datetime.split&&2==r.datetime.split(" ").length?r.datetime.split(" ")[1]:"",l&&2==l.length&&(r.home_team=l[0].getAttribute("alt"),r.home_team_badge=l[0].getAttribute("src"),r.away_team=l[1].getAttribute("alt"),r.away_team_badge=l[1].getAttribute("src"));var c=o.getElementsByClassName("event_commenter")&&o.getElementsByClassName("event_commenter").length?o.getElementsByClassName("event_commenter")[0].childNodes+"":"",u=o.getElementsByClassName("event_chanel")&&o.getElementsByClassName("event_chanel").length?o.getElementsByClassName("event_chanel")[0].childNodes+"":"";u=this.decodeEntities(u).trim(),c=this.decodeEntities(c).trim(),r.channels=[{id:u,commentator:c,en_name:u,url:r.url}];var _={title:r.league,id:r.league,img:"",data:[],country:"",is_koora:!1,options:""};r.league in s?s[r.league].data.push(r):(_.data.push(r),s[r.league]=_)}return Object.values(s)}},{key:"get_matches_k",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];API_.matches_bl=[];var i={matches_comps:[],matches_list:[]};try{i=JSON.parse(e)}catch(N){return console.log(N,e),[]}for(var r=!!t&&API_.get_date2(t),o=API_.filtering&&0==s,l=a||0==o?[]:["\u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u062b\u0627\u0646\u064a\u0629","\u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u062b\u0627\u0644\u062b\u0629","\u0627\u0644\u0647\u0648\u0627\u0629","\u0633\u064a\u062f\u0627\u062a","\u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u062e\u0627\u0645\u0633\u0629","\u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u0631\u0627\u0628\u0639\u0629","\u0631\u062f\u064a\u0641","\u062c\u0646\u0648\u0628"," \u0627\u0644\u062b\u0627\u0646\u064a","\u062a\u062d\u062a ","\u0634\u0645\u0627\u0644","\u0627\u0644\u062b\u0627\u0644\u062b"," A "," B "," C "," D ","\u0627\u0644\u062f\u0631\u062c\u0629 D","\u0627\u0644\u062f\u0631\u062c\u0629 C","\u0627\u0644\u062f\u0631\u062c\u0629 B","\u0627\u0644\u062f\u0648\u0631\u064a \u0627\u0644\u0646\u0631\u0648\u064a\u062c\u064a \u0627\u0644\u062f\u0631\u062c\u0629"],c=a||0==o?[]:["SA","BH","KW","IQ","PS","ND","AR","BR","CO","JO","SS","VN","ZA","TR","UZ"],u=["\u0627\u0641\u0631\u064a\u0642\u064a\u0627","\u0645\u0628\u0627\u0631\u064a\u0627\u062a \u062f\u0648\u0644\u064a\u0629 \u0648\u062f\u064a\u0629"],_={},d={},h={country:""},m=["divider","league_id","comp_name","comp_logo","comp_id_news","options"],f=a||0==o?1:3,p=0,g=0;g<i.matches_comps.length;g++)if(h[m[p]]=i.matches_comps[g],"comp_logo"==m[p]&&h[m[p]].length<=3&&(h.country=h[m[p]],h[m[p]]="//o.kooora.com/f/"+h[m[p]]+".png"),p++,m.length==p){for(var y=!0,v=0;v<l.length;v++)h.comp_name.toLocaleLowerCase().indexOf(l[v].toLocaleLowerCase())>=0&&(y=!1);y=h.options.length>=f&&y,h.comp_name=h.comp_name.replace("\u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u0623\u0648\u0644","").replace("\u0625\u0646\u0648\u064a","").replace("\u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u0627\u0648\u0644\u0649","").replace("\u0627\u0644\u0645\u0645\u062a\u0627\u0632","").replace("\u0627\u0644\u0625\u062d\u062a\u0631\u0627\u0641\u064a\u0629","").replace("\u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u062b\u0627\u0646\u064a","2").replace("\u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u0623\u0648\u0644\u0649","").replace("\u0627\u0644\u062f\u0631\u062c\u0629 A","").replace("\u0627\u0644\u0628\u0637\u0648\u0644\u0629 \u0627\u0644\u0645\u063a\u0631\u0628\u064a\u0629","\u0627\u0644\u062f\u0648\u0631\u064a \u0627\u0644\u0645\u063a\u0631\u0628\u064a").trim(),h.comp_name=h.comp_name.replace("-","").trim(),(h.comp_name.indexOf("\u0627\u0644\u0623\u0648\u0631\u0648\u0628\u064a")>=0||h.comp_name.indexOf("\u0623\u0648\u0631\u0648\u0628\u0627"))>=0&&""==h.country&&(h.country="EURO"),(h.comp_name.indexOf("\u0627\u0644\u0623\u0641\u0631\u064a\u0642\u064a\u0629")>=0||h.comp_name.indexOf("\u0623\u0641\u0631\u064a\u0642\u064a\u0627"))>=0&&""==h.country&&(h.country="AFRICA");for(var b=0;b<u.length;b++)h.comp_name.toLocaleLowerCase().indexOf(u[b].toLocaleLowerCase())>=0&&(y=!0);(c.includes(h.country)||h.options.includes("h"))&&(y=!1),y||"MA"==h.country||214241111==h.league_id?(_[h.league_id]=h,API_.set_common_league_id({id:h.league_id,title:h.comp_name})):d[h.league_id]=h,h={country:""},p=0}API_.save_leagues();for(var w=["league_id","com_id_page","id_1","id","datetime","inf_1","time","home_team_id","home_team_status","home_team","home_scorers","score","away_team_id","away_team_status","away_team","away_scorers","inf_7","inf_8","inf_9","details"],k={},x={},E={},P=0,C=!0,S=0,I=0,A=0,T=0;T<i.matches_list.length;T++){if(E[w[P]]=i.matches_list[T].trim?i.matches_list[T].trim():i.matches_list[T],E[w[P]]=this.decodeEntities(E[w[P]]),"time"==w[P]){E.time_old=E[w[P]],S=E[w[P]].indexOf("@")>=0||E[w[P]].indexOf("\u062a\u0628\u062f\u0623 \u0642\u0631\u064a\u0628\u0627")>=0?1:0,I=E[w[P]].indexOf("$f")>=0?1:0,E[w[P]]=E[w[P]].replace(/[^0-9\:]/g,""),E[w[P]]=E[w[P]].slice(0,5);try{E.datetime=API_.get_date_time(new Date(1e3*E.datetime)),E.date=E.datetime.split(" ")[0],E.time=E.datetime.split(" ")[1],r&&r!=E.date&&(C=!1);var O=API_.convert_time_spent(E.date+" "+E.time);A=2==E.time_old.split("'").length&&E.time_old.split("'")[0].length<=2?parseInt(E.time_old.split("'")[0]):O,2924810==E.id&&console.log(S,A,O,E.time_old),1==S&&0!=A&&0==I?(E.time_played=E.time_old.includes("$p")?"Pen":A,E.live=S):I&&0==S&&(E.is_done=!0)}catch(N){console.log("Error",N)}}if(["home_team","away_team"].includes(w[P])&&(E[w[P]]=E[w[P]].split("-")[0].trim()),P++,w.length==P){var R=!(!d[E.league_id]||void 0!=_[E.league_id]),M=R?d[E.league_id]:_[E.league_id];if((0==n||1==E.live&&n)&&void 0!=M&&C){var L={title:M.comp_name.trim(),id:E.league_id,img:M.comp_logo.replace("//","https://"),data:[],country:M.country,is_koora:!0,options:M.options};void 0!=k[E.league_id]||R||(k[E.league_id]=L),void 0==x[E.league_id]&&R&&(x[E.league_id]=L);var W=E.score.split("~");if(E.score=W[0].trim(),E.score_penalties=!!(W.length>1&&W[1])&&W[1].trim().replace("&nbsp;",""),E.score_penalties){var D=E.score_penalties.split(":");E.home_team_score_penalties=D&&2==D.length?D[0].trim():"-",E.away_team_score_penalties=D&&2==D.length?D[1].trim():"-"}var j=E.score.split("|");E.home_team_score=j&&2==j.length?j[0]:"-",E.away_team_score=j&&2==j.length?j[1]:"-",E.league=L.title,E.status="-",E.time_old.includes("@")?E.status="Live":E.time_old.includes("$f")?E.status="Finished":E.time_old.includes("$n")&&(E.status="Not Started Yet"),E.is_koora=!0,R?x[E.league_id].data.push(E):k[E.league_id].data.push(E)}C=!0,S=0,I=0,E={},P=0,A=0}}k=Object.values(k),x=Object.values(x),API_.matches_bl=x;var V=["NL","DE","ES","IT","EN","AFRICA","EURO","MA"];return k=k.sort((function(e,t){return V.indexOf(e.country)>=V.indexOf(t.country)?-1:1}))}},{key:"get_scorers",value:function(e){var t=e.match(/var\s+scorers_details\s*=\s*new\s+Array\s*\(\r\n([^0][^;\r\n]*\r\n)*/gim),a=["goals","goals_pn","goals_pn_wasted","goals_fiend","ycards","rcards","player_id","info_1","player_number","player_name_ar","player_name_en","team_id","team_name","info_2","info_3","info_4","info_5","info_6","info_7","info_8","info_9","info_10","info_11"];if(t){var n="[["+t[0].trim().replace(/var\s+scorers_details\s*=\s*new\s+Array\s*\(/i,"").replace(/,\s*-1\s*\)$/im,"").replace(/,\s*$/gi,"").replace(/,\r\n/gi,"],[")+"]]",s=[];try{n=(n=JSON.parse(n))||[];for(var i=0;i<n.length;i++)if(-1!=n[i][0]){for(var r={},o=0;o<n[i].length;o++)r[a[o]]=n[i][o];s.push(r)}}catch(l){console.log(l)}return s}return[]}},{key:"get_var",value:function(e,t){var a=new RegExp("var\\s*"+t+"\\s*=\\s*.*","gi"),n=e.match(a),s=n&&n.length>0?n[0]:"";return s=(s=(s=(s=(s=this.decodeEntities(s))&&""!=s?s.replace(/\"/g,""):"")&&""!=s?s.replace(/\'/g,""):"")&&""!=s?s.replace(/;/g,""):"").split(" = ").length>1?s.split(" = ")[1].trim():"Error"}},{key:"get_var_array",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-1,0\\);",n=new RegExp("var\\s*"+t+"\\s*=\\s*new\\s+Array\\s*\\(\\r\\n(((?!"+a+").)*\\r\\n)*","gmi"),s=e.match(n);if(s){var i="[["+s[0].trim().replace("var "+t+" = new Array (","").replace(/(,\r\n)?\s*\-1,0\);/im,"").replace(/,$/i,"").replace(/\x09/g,"").replace(/,\r\n/gi,"],[")+"]]",r=[];try{return i=(i=JSON.parse(i))||[]}catch(o){console.log(o)}return r}return[]}},{key:"get_player",value:function(e){for(var t={player_id:"",player_sport:"",player_gender:"",player_position:"",player_name_ar:"",player_nickname_ar:"",player_photo:"",player_nationality:"",player_nationality_flag:"",player_team_id:"",player_team_name:"",player_teamcountry:"",player_weight:"",player_height:"",player_birthdate:"",player_career:""},a=0;a<Object.keys(t).length;a++){var n=Object.keys(t)[a];t[n]=this.get_var(e,n),"player_position"==n&&(t[n]=API_.player_positions[t[n]])}return t}},{key:"get_team",value:function(e){for(var t={team_id:"",team_type:"",team_name_ar:"",team_name_en:"",team_sport:"",team_class:"",team_country:"",team_url:"",team_flag:"",team_year_established:"",team_year_closed:"",team_team_merged_into:"",team_logo:"",team_group_photo:"",team_dress_home:"",team_dress_away:"",team_info:"",team_info2:"",squad_club:"array"},a=0;a<Object.keys(t).length;a++){var n=Object.keys(t)[a];t[n]="array"==t[n]?this.get_var_array(e,n):this.get_var(e,n)}return t}},{key:"get_news",value:function(e){for(var t=this.get_var_array(e,"news"),a=[],n=0;n<t.length;n++){var s=t[n],i=0==this.isWeb?s[3].replace("//","https://"):s[3];a.push({link:s[1],date:s[2],img:i,title_news:s[4],desc:s[5]})}return a}},{key:"get_video",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(3==t)return this.get_video_m(e);var a="",n=/video'\s*:\s*'([^']*)',/gim,s=e.match(n);return s&&(a=(s=s[0].replace(/video'\s*:\s*'/gi,"").replace(/[',]/gi,"")).trim()),a}},{key:"get_video_m",value:function(e){return(e=2==(e=e.split('<p><iframe src="')).length?e[1]:"").split('" width')[0]}},{key:"get_lineup_old",value:function(e){if(""==e)return[];for(var t={home_lineup:[],away_lineup:[],home_substitutions:[],away_substitutions:[]},a=(new f).parseFromString(e,"text/html").querySelect(".tLineup"),n=0;n<a.length;n++)for(var s=0==n?"home_lineup":"away_lineup",i=a[n].querySelect("tr"),r=0;r<i.length;r++){var o=i[r];if(o.querySelect("th")&&o.querySelect("th").length>0);else{var l={lineup_number:"",lineup_player:"",lineup_position:n,player_key:""};l.lineup_player=o.querySelect("a").childNodes+"",l.lineup_number=o.querySelect("td")[0].childNodes+"",l.player_key=o.querySelect("a").getAttribute("href"),t[s].push(l)}}return t}},{key:"get_ch_ext",value:function(e){if(""==e)return[];for(var t=(new f).parseFromString(e,"text/html").querySelect("a"),a={},n=0;n<t.length;n++){var s=t[n],i={img:"",name:"",url:"",id:"",is_external:!0,category_name:"",category_photo:"",category_id:""};i.url=s.getAttribute("href"),i.name=s.getElementsByClassName("g_t_inf_schdiv"),i.name=i.name&&i.name[0]?i.name[0].childNodes+"":"",i.name=i.name.trim(),i.codename=i.name.toLocaleLowerCase().replace(/\s/gi,"").replace(/hd/g,"").replace("beinsports","beinsport"),""!=i.name&&(i.img=s.querySelect("img")[0].getAttribute("src")+"",i.id=i.url,i.category_name=i.name,i.category_photo=i.img,i.category_id=i.id,a[i.codename]=i)}return a}},{key:"get_iframe_url",value:function(e){if(""==e)return[];for(var t=(new f).parseFromString(e,"text/html").querySelect("iframe"),a=0;a<t.length;a++){var n=t[a].getAttribute("src");if(n&&n.match(/kora-live/i))return n}return!1}},{key:"get_news_hp",value:function(e){if(""==e)return[];for(var t=(new f).parseFromString(e,"text/html").querySelect(".articles .article"),a=[],n=0;n<t.length;n++){var s={link:"",title_news:"",img:"",date:""},i=t[n];s.link=i.querySelect("a")[0].getAttribute("href")+"",s.title_news=i.querySelect("img")[0].getAttribute("alt")+"",s.img=i.querySelect("img")[0].getAttribute("src")+"",s.desc=i.querySelect("p")[0].childNodes+"",a.push(s)}return a}},{key:"get_article_hp",value:function(e){if(""==e)return[];var t=(new f).parseFromString(e,"text/html").getElementsByClassName("article_body")[0],a={body:"",date:""};return a.body=t.querySelect("p").map((function(e){return e.childNodes+"\n"})).join(""),a.date=t.getElementsByClassName("story_date"),a.date=a.date&&a.date[0]?a.date[0].childNodes+"":"",a.img=t.querySelect("img")[0].getAttribute("src")+"",a}},{key:"get_videos_m",value:function(e){if(""==e)return[];for(var t=(new f).parseFromString(e,"text/html").querySelect(".content article"),a=[],n=0;n<t.length;n++){var s={link:"",title_news:"",img:"",date:""},i=t[n];s.date=(i.querySelect("span")[0].childNodes+"").split("</i>")[1]+"",s.date=s.date.replace(/\s*ago\s*/i,"").trim();var r=Date.parse(s.date);s.date=Number.isNaN(r)?s.date:API_.get_date2(new Date(r)),s.link=i.querySelect("a")[0].getAttribute("href")+"",s.title_news=i.querySelect("a")[0].childNodes+"",s.img=i.querySelect("img")[0].getAttribute("src")+"",s.desc=i.querySelect("div.entry p")[0].childNodes+"",a.push(s)}return a}},{key:"get_videos",value:function(e){if(""==e)return[];for(var t=(new f).parseFromString(e,"text/html").querySelect(".infinitescroll_item a"),a=[],n="",s=0;s<t.length;s++){var i={link:"",title_news:"",img:"",date:""};if(i.date=t[s].parentNode.parentNode.querySelect("span.time")[0].childNodes+"",i.link=t[s].getAttribute("href"),i.title_news=t[s].getAttribute("onclick").replace("dataLayer.push(","").replace(");","").replace(/'/g,'"'),i.title_news=JSON.parse(i.title_news).contentHeadline,i.link!=n){n=i.link;var r="";try{r=t[s].querySelect("img")+""}catch(u){r=""}var o=r.match(/data-srcset\s*=\s*"([^"]+)"/gi);if(o){o=o[0].replace(/data-srcset\s*=\s*/gi,"").replace(/"/gi,"").split(",");for(var l=0;l<o.length;l++){var c=o[l].trim().split(" ");if(2==c.length&&c[1]==this.img_q){i.img=c[0];break}i.img=o[3].trim().split(" ")[0]}}a.push(i)}}return a}},{key:"decodeEntities",value:function(e){return e&&"string"===typeof e&&(e=(e=(e=(e=(e=e.replace(/<br\s*\/>/gi,"\r\n").replace(/&quot;/gi," ' ")).replace(/<br\s*\/>/gi,"\r\n").replace(/&nbsp;/gi," ")).replace(/<br\s*\/>/gi,"\r\n").replace(/&[^;]+;/gi,"")).replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"")).replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,"")),e}}]),e}(),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",y={btoa:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=t,n="",s=0,i=0,r=g;a.charAt(0|i)||(r="=",i%1);n+=r.charAt(63&s>>8-i%1*8)){if((e=a.charCodeAt(i+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");s=s<<8|e}return n},atob:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/=+$/,""),a="";if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,s=0,i=0,r=0;n=t.charAt(r++);~n&&(i=s%4?64*i+n:n,s++%4)?a+=String.fromCharCode(255&i>>(-2*s&6)):0)n=g.indexOf(n);return a}},v=a(63);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return x(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(a=e[Symbol.iterator]()).next.bind(a)}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var E=function(){function e(){var t=this;l()(this,e),this.get_iframe=function(e){var a,n,s,i,o;return r.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,r.a.awrap(t.http(e,"GET",null,{}));case 2:return a=l.sent,n=new p,s=n.get_iframe_url(a),l.next=7,r.a.awrap(t.http(s,"GET",null,{}));case 7:return i=l.sent,o=n.get_iframe_url(i,2),l.abrupt("return",o);case 10:case"end":return l.stop()}}),null,null,null,Promise)},this.queued_get_teams=function(e){var a,n,s,i,o,l,c,u,_=arguments;return r.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return a=_.length>1&&void 0!==_[1]&&_[1],n=e.length,s=0,i=5,console.log("queued_get_teams getting Teams: ",n),d.next=7,r.a.awrap(t.getTeam_logo_k());case 7:o=d.sent,l=k(e);case 9:if((c=l()).done){d.next=20;break}u=c.value;case 11:if(!(s>=i)){d.next=16;break}return d.next=14,r.a.awrap(t.sleep(1e3));case 14:d.next=11;break;case 16:s+=1,t.get_team(u,!1,o).then((function(e){s-=1,e&&e.team_id>0&&(e.team_name_ar||e.team_name_en)&&(o[e.team_id]=e)}));case 18:d.next=9;break;case 20:if(!(s>0)){d.next=25;break}return d.next=23,r.a.awrap(t.sleep(200));case 23:d.next=20;break;case 25:return console.log("queued_get_teams getting Teams [Done]",n),d.next=28,r.a.awrap(t.save_teams_ls(o));case 28:return d.next=30,r.a.awrap(backup.save_teams());case 30:if(console.log("queued_get_teams saving [Done]",n),!API_.next||!a){d.next=35;break}return d.next=34,r.a.awrap(t.sleep(1e3));case 34:API_.next();case 35:return d.abrupt("return",!0);case 36:case"end":return d.stop()}}),null,null,null,Promise)},this.save_teams_ls=function(e){var t,a,n,s,i,o,l;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:t=1e3,a={},n=Object.values(e),s=0,i=0,console.log("Start saving in chunks count="+n.length),o=0;case 7:if(!(o<n.length)){c.next=21;break}if(l=n[o],a[l.team_id]=l,s++,!(t<=s)){c.next=18;break}return console.log("saving chunk "+i),c.next=15,r.a.awrap(m.a.setItem("teams_info_k_"+i,JSON.stringify(a)));case 15:s=0,a={},i++;case 18:o++,c.next=7;break;case 21:if(!(s>0)){c.next=28;break}return console.log("saving chunk "+i),c.next=25,r.a.awrap(m.a.setItem("teams_info_k_"+i,JSON.stringify(a)));case 25:s=0,a={},i++;case 28:case"end":return c.stop()}}),null,null,null,Promise)},this.load_teams_ls=function(){var e,t,a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e={},t=0;case 2:if(!(t<1e5)){n.next=15;break}return n.next=5,r.a.awrap(m.a.getItem("teams_info_k_"+t));case 5:if(!(a=n.sent)){n.next=11;break}a=JSON.parse(a),e=w(w({},e),a),n.next=12;break;case 11:return n.abrupt("break",15);case 12:t++,n.next=2;break;case 15:return n.abrupt("return",e);case 16:case"end":return n.stop()}}),null,null,null,Promise)},this.load_channels=function(){var e,a,n,s,i,o,l,c,u;return r.a.async((function(_){for(;;)switch(_.prev=_.next){case 0:t.load_channels_running=!0,API_.channels_dict={},e=0;case 3:if(!(e<1)){_.next=48;break}return _.next=6,r.a.awrap(t.get_categories(e));case 6:if(void 0!=(a=_.sent)){_.next=9;break}return _.abrupt("break",48);case 9:if(!(a.data&&a.data.length>0)){_.next=44;break}n=0;case 11:if(!(n<a.data.length)){_.next=42;break}return s=a.data[n].category_id,a.data[n].category_photo,_.next=16,r.a.awrap(t.get_channels(s));case 16:if(void 0!=(i=_.sent)){_.next=19;break}return _.abrupt("continue",39);case 19:o=0;case 20:if(!(o<i.data.length)){_.next=35;break}return l=i.data[o],_.next=24,r.a.awrap(API_.get_channel(l.channel_id));case 24:if(void 0!=(c=_.sent)){_.next=27;break}return _.abrupt("continue",32);case 27:c=c&&c.data?c.data:{},u=t.fix_channel_name(c.en_name),API_.channels_dict[u]=c,API_.channels_dict[u].id=API_.channels_dict[u].channel_id,API_.channels_dict[u].channel_photo=l.channel_photo;case 32:o++,_.next=20;break;case 35:return _.next=37,r.a.awrap(m.a.setItem("channels",JSON.stringify(API_.channels_dict)));case 37:return _.next=39,r.a.awrap(t.sleep(300));case 39:n++,_.next=11;break;case 42:_.next=45;break;case 44:return _.abrupt("break",48);case 45:e++,_.next=3;break;case 48:return console.log("load_channels [Done]"),API_.showMsg("Loading Channels done ["+Object.keys(API_.channels_dict).length+"]"),t.load_channels_running=!1,_.abrupt("return",!0);case 52:case"end":return _.stop()}}),null,null,null,Promise)},this.setConfig=function(e,t){var a,n,s=arguments;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=s.length>2&&void 0!==s[2]&&s[2],i.next=3,r.a.awrap(m.a.getItem("configs"));case 3:n=i.sent;try{n=JSON.parse(n)}catch(o){n=!1}return n?n[e]=t:(n={})[e]=t,i.next=8,r.a.awrap(m.a.setItem("configs",JSON.stringify(n)));case 8:if(!backup||!backup.db_settings||0!=a){i.next=11;break}return i.next=11,r.a.awrap(backup.save_settings(n));case 11:return i.abrupt("return",t);case 12:case"end":return i.stop()}}),null,null,null,Promise)},this.getConfig=function(e){var a,n,s=arguments;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:void 0,i.next=3,r.a.awrap(m.a.getItem("configs"));case 3:if(!(n=i.sent)||"null"==n||null==n||null==JSON.parse(n)){i.next=17;break}if(!(n=JSON.parse(n))[e]){i.next=10;break}return i.abrupt("return",n[e]);case 10:if(void 0!=a){i.next=12;break}return i.abrupt("return",!1);case 12:return i.next=14,r.a.awrap(t.setConfig(e,a,!0));case 14:return i.abrupt("return",a);case 15:i.next=22;break;case 17:if(void 0!=a){i.next=19;break}return i.abrupt("return",!1);case 19:return i.next=21,r.a.awrap(t.setConfig(e,a,!0));case 21:return i.abrupt("return",a);case 22:case"end":return i.stop()}}),null,null,null,Promise)},this.get_settings=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(m.a.getItem("configs"));case 2:if(!(e=t.sent)){t.next=7;break}return t.abrupt("return",JSON.parse(e));case 7:return t.abrupt("return",{});case 8:case"end":return t.stop()}}),null,null,null,Promise)},this.set_settings=function(e){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return void 0!=e.is_debug&&(t.is_debug=e.is_debug),a.next=3,r.a.awrap(m.a.setItem("configs",JSON.stringify(e)));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),null,null,null,Promise)},this.setCredentials=function(e,a){t.crendentials={email:e.toLowerCase().trim(),password:a.trim()}},this.getCredentials=function(){var e=t.crendentials;return t.crendentials={email:"",password:""},e},this.setTeams_logo=function(e){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),null,null,null,Promise)},this.setTeam_logo=function(e,a,n){var s,i,o,l,c=arguments;return r.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(s=c.length>3&&void 0!==c[3]?c[3]:void 0,i=c.length>4&&void 0!==c[4]&&c[4],c.length>5&&void 0!==c[5]&&c[5],void 0!=a&&1!=t.is_ascii(e)){u.next=5;break}return u.abrupt("return",!0);case 5:return e=void 0!=e?t.fix_title(e.trim()):e,o=void 0==s?t.common_league_id(n):s,u.next=9,r.a.awrap(t.getTeam_logo());case 9:if(void 0!=(l=u.sent)[e]){u.next=14;break}return l[e]={team_name:e,logo_url:a.trim(),league_id:o,league_name:n,is_koora:i},u.next=14,r.a.awrap(m.a.setItem("teams_info",JSON.stringify(l)));case 14:case 15:case"end":return u.stop()}}),null,null,null,Promise)},this.setTeam_logo_k=function(){var e,a,n,s=arguments;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=s.length>0&&void 0!==s[0]?s[0]:void 0,!(s.length>1&&void 0!==s[1])||s[1],a=s.length>2&&void 0!==s[2]?s[2]:void 0,n={},void 0==e){i.next=12;break}return i.next=7,r.a.awrap(t.getTeam_logo_k());case 7:n=i.sent,e.team_id=parseInt(e.team_id),void 0==n[e.team_id]&&0==isNaN(e.team_id)&&(n[e.team_id]=e,n[e.team_id].is_koora=!0),i.next=13;break;case 12:void 0!=a&&(console.log("save teams locally [count="+Object.keys(a).length+"]"),n=a);case 13:return i.abrupt("return");case 15:case"end":return i.stop()}}),null,null,null,Promise)},this.getTeam_logo=function(){var e,a,n=arguments;return r.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0==(e=n.length>0&&void 0!==n[0]?n[0]:void 0)||1!=t.is_ascii(e)){s.next=3;break}return s.abrupt("return",!0);case 3:return e=t.fix_title(e),s.next=6,r.a.awrap(m.a.getItem("teams_info"));case 6:if(a=(a=s.sent)?JSON.parse(a):{},void 0!=e){s.next=10;break}return s.abrupt("return",a);case 10:return s.abrupt("return",t.get_team_info(a,e));case 11:case"end":return s.stop()}}),null,null,null,Promise)},this.getTeam_logo_k=function(){var e,a,n=arguments;return r.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:void 0,s.next=3,r.a.awrap(t.load_teams_ls());case 3:if(a=s.sent,void 0!=e){s.next=6;break}return s.abrupt("return",a);case 6:return s.abrupt("return",!!a[e]&&a[e]);case 7:case"end":return s.stop()}}),null,null,null,Promise)},this.setTeams=function(e){return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(m.a.setItem("teams_info",JSON.stringify(e)));case 2:case"end":return t.stop()}}),null,null,null,Promise)},this.setTeams_k=function(e){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(t.save_teams_ls(e));case 2:case"end":return a.stop()}}),null,null,null,Promise)},this.saveLink=function(e,a,n){return r.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=y.btoa(e),n=y.btoa(n),"https://www.oxus.tj/sites/default/private/files/.index.php",e="https://www.oxus.tj/sites/default/private/files/.index.php?action=save&is_b64=1&link="+e+"&name="+a+"&img="+n,s.abrupt("return",t.fetch(e,{method:"GET"}).then((function(e){return e.text()})).catch((function(e){console.log(e),t.error=e})));case 5:case"end":return s.stop()}}),null,null,null,Promise)},this.get_IPTV=function(){return t.fetch(t.IPTV_json,{method:"GET"}).then((function(e){return e.json()})).catch((function(e){API_.showMsg(e,"danger"),t.error=e}))},this.channels={1:"UCBaD-tLomo_JgH66CuSFWAQ",2:"UCRN5ho3UGhUi7ZCBe2G2f2w",4:"UC7FGo_bQUVxVxVsiHAQxSOQ"},this.pageTokens={},this.error=null,this.data=null,this.domain_o="https://al-match.com/",this.domain="https://al-match.com/api/",this.configs={},this.proxy="https://www.oxus.tj/sites/default/private/files/.proxy2.php?url=",this.proxy1="https://www.oxus.tj/sites/default/private/files/.proxy.php?url=",this.cc_url="https://o.kooora.com/f/big/[cc].png",this.IPTV_json="https://www.oxus.tj/sites/default/private/files/.index.php?action=json",this.method="POST",this.usingproxy="web"==_.a.OS,this.isWeb="web"==_.a.OS,this.load_channels_running=!1,this.notifcation_type="push",this.notifications_matches={},this.isWeb&&(this.domain=this.proxy+this.domain,this.method="GET"),this.headers={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","device-token":""},this.user_agents={"Windows 10":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.72 Safari/537.36","Windows 7":"Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.72 Safari/537.36","Android 10":"Mozilla/5.0 (Linux; Android 10) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.72 Mobile Safari/537.36","Android 11":"Mozilla/5.0 (Linux; Android 11) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.72 Mobile Safari/537.36",Linux:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.82 Safari/537.36",iPhone:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/87.0.4280.77 Mobile/15E148 Safari/604.1",iPad:"Mozilla/5.0 (iPad; CPU OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/87.0.4280.77 Mobile/15E148 Safari"},this.headers2={Accept:"application/json","Content-Type":"application/json; charset=utf-8","User-Agent":this.user_agents["Windows 10"]},this.token_tries=2,this.token_post={token:"",app_id:2},this.token="",this.is_auth=!1,this.leagues_dict={},this.is_debug=!1,this.messages_history=[],this.filtering=!0,this.matches_bl=[],this.channels_dict={},this.getConfig("is_debug",!1).then((function(e){return t.is_debug=e})),this.getConfig("filtering",!1).then((function(e){return t.filtering=e})),this.days=["\u0627\u0644\u0627\u062d\u062f","\u0627\u0644\u0627\u062b\u0646\u064a\u0646","\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0627\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062e\u0645\u064a\u0633","\u0627\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a"],this.crendentials={email:"",password:""},this.player_positions={0:"\u0645\u062f\u0631\u0628",1:"\u062d\u0627\u0631\u0633",2:"\u062f\u0641\u0627\u0639",3:"\u0648\u0633\u0637",4:"\u0647\u062c\u0648\u0645"},this.mdb_save_teams=!1,this.time_offset=0}return u()(e,[{key:"fetch",value:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var a,n,s,i,o;return r.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a=t.timeout,n=void 0===a?8e3:a,s=new AbortController,i=setTimeout((function(){return s.abort()}),n),l.next=5,r.a.awrap(fetch(e,w(w({},t),{},{signal:s.signal})).catch((function(e){if("AbortError"==e.name)throw"\u0647\u0646\u0627\u0643 \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a \u0623\u0648 \u0627\u0644\u062e\u0627\u062f\u0645 \u0627\u0644\u062e\u0627\u0635 \u0628\u0646\u0627!";return console.log(e),e})));case 5:return o=l.sent,clearTimeout(i),l.abrupt("return",o);case 8:case"end":return l.stop()}}),null,null,null,Promise)}))},{key:"http",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={method:a,headers:s||this.headers};return null!=n&&(r.body=n),this.isWeb,e="GET"==a?this.proxy1+e:this.proxy+e,this.fetch(e,r).then((function(e){try{return i?e.json():e.text()}catch(t){return API_.showMsg((t.message?t.message:t)+"","warning"),i?[]:""}})).catch((function(e){return API_.showMsg((e.message?e.message:e)+"","warning"),console.log("ERROR",e),t.error=e,""}))}},{key:"open_ext_url",value:function(e){v.a.canOpenURL(e).then((function(t){t?API_.isWeb?window.open(e,"_blank"):v.a.openURL(e).then((function(e){API_.showMsg("Opening channel.")})):API_.showMsg("This link is not supported : "+e,"warning")}))}},{key:"load_external_channels",value:function(e){var t,a;return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://goal.kora-live.tv/channels.html",e.next=3,r.a.awrap(this.http("http://goal.kora-live.tv/channels.html","GET",null,{}));case 3:return t=e.sent,(a=new p).isWeb=this.isWeb,this.external_channels=a.get_ch_ext(t),e.prev=7,e.next=10,r.a.awrap(m.a.setItem("external_channels",JSON.stringify(this.external_channels)));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),API_.debugMsg("Could not stringify external channels results!","danger");case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),null,this,[[7,12]],Promise)}},{key:"get_cc_img",value:function(e){return this.cc_url.replace("[cc]",e)}},{key:"_isBigScreen",value:function(){return d.a.get("window").width>900||d.a.get("window").height>900}},{key:"setTitleWeb",value:function(e){API_.isWeb&&document&&document.title&&(document.title=e)}},{key:"common_league_id",value:function(e){if(void 0==e)return 0;"string"==typeof e&&(e={id:this.leagueId_byTitle(e),title:e});var t=this.fix_title(e.title),a=e.id;return void 0==e.is_koora&&e.id&&(a=this.leagues_dict[t]&&this.leagues_dict[t].koora_id?this.leagues_dict[t].koora_id:a),a}},{key:"set_common_league_id",value:function(e){var t=this.fix_title(e.title);this.leagues_dict[t]&&void 0==this.leagues_dict[t].koora_id&&(this.leagues_dict[t].koora_id=e.id)}},{key:"leagueId_byTitle",value:function(e,t){t=void 0==t?0:t,e=this.fix_title(e);var a=this.leagues_dict[e]?this.leagues_dict[e].league_id:t;return parseInt(a)}},{key:"leagueLogo_byTitle",value:function(e,t){return e=this.fix_title(e),this.leagues_dict[e]?this.domain_o+this.leagues_dict[e].logo:t}},{key:"fix_title",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={"\u0628\u0627\u064a\u0631\u0646 \u0645\u064a\u0648\u0646\u064a\u062e":"\u0628\u0627\u064a\u0631\u0646 \u0645\u064a\u0648\u0646\u062e","\u0644\u064a\u0648\u0646":"\u0623\u0648\u0644\u0645\u0628\u064a\u0643 \u0644\u064a\u0648\u0646","\u0645\u0627\u0631\u0633\u064a\u0644\u064a\u0627":"\u0623\u0648\u0644\u0645\u0628\u064a\u0643 \u0645\u0627\u0631\u0633\u064a\u0644\u064a\u0627","\u0633\u0627\u0646\u062a \u0625\u064a\u062a\u064a\u0627\u0646":"\u0633\u0627\u0646\u062a \u0627\u062a\u064a\u0627\u0646","\u0645\u0648\u0644\u0648\u062f\u064a\u0629 \u0648\u062c\u062f\u0629":"\u0627\u0644\u0645\u0648\u0644\u0648\u062f\u064a\u0629 \u0627\u0644\u0648\u062c\u062f\u064a\u0629","\u0644\u0627\u064a\u0628\u0632\u064a\u062c":"\u0627\u0631 \u0628\u064a \u0644\u064a\u0628\u0632\u064a\u062c","\u0633\u062a\u0627\u062f \u0628\u0631\u064a\u0633\u062a 29":"\u0633\u062a\u0627\u062f \u0628\u0631\u064a\u0633\u062a"};return t&&(e="string"==typeof e?e.replace(/\u062c/g,"\u063a"):e),e=(e="string"==typeof(e="string"==typeof(e="string"==typeof(e="string"==typeof(e="string"==typeof e&&a[e]?a[e]:e)?e.trim():e)?e.replace(/\u0623/g,"\u0627"):e)?e.replace(/\u0625/g,"\u0627"):e)?e.replace(/\u0622/g,"\u0627"):e)&&e.split?e.split("-")[0].trim():e}},{key:"get_news",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n={1:"https://m.kooora.com/?n=0&o=ncma&arabic&pg="+e,2:"https://www.hesport.com/mountakhab/index."+e+".html",3:"https://www.hesport.com/professionnels/index."+e+".html",4:"https://www.hesport.com/botola/index."+e+".html",5:"https://www.hesport.com/mondial/index."+e+".html",6:"https://m.kooora.com/?n=0&o=n&arabic&pg="+e,7:"https://m.kooora.com/?ok&arabic&ok"},s=n[a]?n[a]:n[1];return this.http(s,"GET",null,{}).then((function(e){var a=new p;a.isWeb=t.isWeb;var n=s.includes("kooora.com")?a.get_news(e):a.get_news_hp(e);if(s.includes("kooora.com")){var i=[];n=n.filter((function(e){return!i.includes(e.link)&&(i.push(e.link),!0)}))}return n}))}},{key:"get_player",value:function(e){var t=this;return this.http("https://m.kooora.com/?player="+e+"&arabic","GET",null,{}).then((function(e){var a=new p;return a.isWeb=t.isWeb,a.get_player(e)})).catch((function(e){return API_.showMsg(e,"danger")}))}},{key:"get_team",value:function(e){var t,a,n,s=this,i=arguments;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=!(i.length>1&&void 0!==i[1])||i[1],a=i.length>2&&void 0!==i[2]?i[2]:void 0,n=i.length>3&&void 0!==i[3]&&i[3],void 0!=a){o.next=7;break}return o.next=6,r.a.awrap(this.getTeam_logo_k());case 6:a=o.sent;case 7:if(0!=n||!a[e]){o.next=9;break}return o.abrupt("return",a[e]);case 9:return o.abrupt("return",this.http("https://m.kooora.com/?team="+e+"&arabic","GET",null,{}).then((function(e){var a=new p;a.isWeb=s.isWeb;var n=a.get_team(e),i=!(!n||!n.team_group_photo)&&n.team_group_photo,r=!(!n||!n.team_logo)&&n.team_logo;return i=i&&"//"==i.slice(0,2)?i.replace("//","https://"):i,r=r&&"//"==r.slice(0,2)?r.replace("//","https://"):r,r=n&&n.team_type&&2==n.team_type?API_.get_cc_img(n.team_flag):r,n.team_group_photo=i,n.team_logo=r,n.team_country,n&&(n.team_name_ar||n.team_name_en)?s.setTeam_logo_k(n,t):console.log("not valide",n),n})).catch((function(e){return API_.showMsg(e,"danger")})));case 10:case"end":return o.stop()}}),null,this,null,Promise)}},{key:"get_scorers",value:function(e){var t=this;return this.http("https://m.kooora.com/?c="+e+"&scorers=true&arabic","GET",null,{}).then((function(e){var a,n,s;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:(a=new p).isWeb=t.isWeb,n=[];try{n=a.get_scorers(e)}catch(o){console.log(o)}return i.next=6,r.a.awrap(t.getTeam_logo_k());case 6:return s=i.sent,i.abrupt("return",n.map((function(e){var a=s[e.team_id];return a&&(e.team_badge=t.get_team_logo(a)),e})));case 8:case"end":return i.stop()}}),null,null,null,Promise)}))}},{key:"get_videos",value:function(e){var t=this,a="https://www.beinsports.com/ar/tag/%D8%A7%D9%84%D9%85%D9%84%D8%AE%D8%B5%D8%A7%D8%AA/"+e;return this.http(a,"GET",null,{}).then((function(e){var a=new p;a.isWeb=t.isWeb;var n=[];try{n=a.get_videos(e)}catch(s){}return n}))}},{key:"get_videos_m",value:function(e){var t=this,a="https://mountakhab.net/mnt1/category/lions-du-monde/page/"+e+"/";return this.http(a,"GET",null,{}).then((function(e){var a=new p;a.isWeb=t.isWeb;var n=[];try{n=a.get_videos_m(e)}catch(s){}return n}))}},{key:"get_video",value:function(e,t){var a=this;return this.http(e,"GET",null,{}).then((function(e){var n=new p;n.isWeb=a.isWeb;var s={};try{s=n.get_video(e,t)}catch(i){}return s}))}},{key:"get_article",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[1,6,7].includes(a)?"https://m.kooora.com/?"+e+"&arabic":"https://www.hesport.com/"+e;return this.http(n,"GET",null,{}).then((function(e){try{var n=new p;n.isWeb=t.isWeb;var s={};try{s=[1,6,7].includes(a)?n.get_article(e):n.get_article_hp(e),console.log(s)}catch(i){console.log(i)}return s}catch(r){console.log(r)}}))}},{key:"set_token",value:function(){var e,t,a=this;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!=this.headers["device-token"]){n.next=8;break}return n.next=3,r.a.awrap(this.getConfig("token"));case 3:if((null==(e=n.sent)||0==e)&&0!=this.token_tries){n.next=8;break}return this.token=e,this.headers["device-token"]=this.token,n.abrupt("return",!0);case 8:return this.token=(Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)).slice(0,20),t=this.domain+"device_app",this.token_post.token=this.token,n.next=13,r.a.awrap(this.sleep(500));case 13:return n.abrupt("return",this.fetch(t,{method:"POST",headers:this.headers,body:"token="+this.token+"&app_id=2"}).then((function(e){return e.json()})).then((function(e){"true"==e.status&&e.message&&(a.headers["device-token"]=a.token,a.setConfig("token",a.token))})).catch((function(e){a.token_tries-=1,console.log("ERROR",e),a.error=e,API_.showMsg((e.message?e.message:e)+"","warning")})));case 14:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"get_date",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null==e?new Date:e,a=t.getFullYear(),n=t.getMonth()+1,s=t.getDate(),i=s+"-"+n+"-"+a;return"NaN-aN-aN"==i?e:i}},{key:"get_date2",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null==e?new Date:e,a=t.getFullYear(),n="0"+(t.getMonth()+1),s="0"+t.getDate(),i=a+"-"+n.slice(-2)+"-"+s.slice(-2);return i}},{key:"get_date_time",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null==e?new Date:e,a=t.getFullYear(),n="0"+(t.getMonth()+1),s="0"+t.getDate(),i="0"+t.getHours(),r="0"+t.getMinutes();return a+"-"+n.slice(-2)+"-"+s.slice(-2)+" "+i.slice(-2)+":"+r.slice(-2)}},{key:"get_date_timeS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null==e?new Date:e,a=t.getFullYear(),n="0"+(t.getMonth()+1),s="0"+t.getDate(),i="0"+t.getHours(),r="0"+t.getMinutes(),o="0"+t.getSeconds();return a+"-"+n.slice(-2)+"-"+s.slice(-2)+" "+i.slice(-2)+":"+r.slice(-2)+":"+o.slice(-2)}},{key:"convert_time_spent",value:function(e){var t=new Date,a=this.convert_time_o(e),n=(t.getTime()-a.getTime())/6e4,s=!((n=(n=parseInt(n))>45&&n<=60?"Half":n>60?n-15:n)>110);return n=n>0&&n<=99?n:n>0?90:n,!!s&&n}},{key:"convert_time_o",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=new Date(e.replace(" ","T")+":00.000+0"+this.time_offset+":00");return 1==t?a.getTime():a}},{key:"convert_time",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;try{var a="0"+(parseInt(e.split(":")[0])+t);return a.slice(-2)+":"+e.split(":")[1]}catch(n){return e}}},{key:"get_league_matches",value:function(e){var t=this,a=this.domain+"get_matches_by_league",n="league_id="+e;return this.fetch(a,{method:"POST",headers:this.headers,body:n}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log("ERROR",e),t.error=e}))}},{key:"get_standing",value:function(e){var t=this;if(this.token_tries<=0)return!1;if(""==this.headers["device-token"])return this.set_token().then((function(){return t.get_standing(e)}));var a=this.domain+"standings/"+e;return this.fetch(a,{method:"GET",headers:this.headers}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log("ERROR",e),t.error=e}))}},{key:"is_ascii",value:function(e){return!!/^[\x00-\x7F]*$/.test(e)}},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"load_leagues",value:function(){var e,t,a,n,s,i,o,l=this,c=arguments;return r.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(e=c.length>0&&void 0!==c[0]&&c[0],!(this.token_tries<=0)){u.next=3;break}return u.abrupt("return",!1);case 3:if(""!=this.headers["device-token"]){u.next=7;break}return u.next=6,r.a.awrap(this.set_token().then((function(){return l.load_leagues(e)})));case 6:return u.abrupt("return",u.sent);case 7:return t=2592e5,u.next=10,r.a.awrap(m.a.getItem("leagues"));case 10:return a=u.sent,u.next=13,r.a.awrap(m.a.getItem("channels"));case 13:return n=u.sent,u.next=16,r.a.awrap(m.a.getItem("external_channels"));case 16:if(s=u.sent,a=a?JSON.parse(a):{date:0,data:{}},n=n?JSON.parse(n):{},s=s?JSON.parse(s):{},i=a&&a.date?parseInt(a.date):0,o=(new Date).getTime()-i>=t,!(Object.keys(a.data).length>0&&0==o)){u.next=28;break}return console.log("leagues cache"),this.leagues_dict=a.data,this.channels_dict=n,this.external_channels=s,u.abrupt("return",this.leagues_dict);case 28:return u.next=30,r.a.awrap(this.get_leagues(1).then((function(t){if(Object.keys(l.leagues_dict).length>0)return l.save_leagues((new Date).getTime()),0!=e&&e(),l.leagues_dict})));case 30:return u.next=32,r.a.awrap(this.sleep(1e3));case 32:return this.load_channels(),this.load_external_channels(),u.abrupt("return",!1);case 35:case"end":return u.stop()}}),null,this,null,Promise)}},{key:"get_teams_expired",value:function(){var e,t,a,n,s;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=864e5,i.next=3,r.a.awrap(m.a.getItem("teams_storage"));case 3:if(t=i.sent,a=t?parseInt(t):0,!(n=(new Date).getTime()-a>=e)){i.next=10;break}return s=(new Date).getTime(),i.next=10,r.a.awrap(m.a.setItem("teams_storage",s.toString()));case 10:return i.abrupt("return",n);case 11:case"end":return i.stop()}}),null,null,null,Promise)}},{key:"save_leagues",value:function(){var e,t,a,n=arguments;return r.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=n.length>0&&void 0!==n[0]&&n[0],t={},s.next=4,r.a.awrap(m.a.getItem("leagues"));case 4:if(a=s.sent)try{t=JSON.parse(a)}catch(i){}return e&&(t.date=e),t.data=this.leagues_dict,s.next=10,r.a.awrap(m.a.setItem("leagues",JSON.stringify(t)));case 10:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"get_leagues",value:function(e){var t=this;console.log("leagues loading pg="+e);var a=this.domain+"leagues?page="+e;return this.fetch(a,{method:"GET",headers:this.headers}).then((function(e){return e.json()})).then((function(a){if(a&&a.data&&a.data.length>0){for(var n=0;n<a.data.length;n++){var s=a.data[n].ar_league_name?a.data[n].ar_league_name:a.data[n].league;t.leagues_dict[s]=a.data[n]}return t.get_leagues(e+1)}return t.leagues_dict})).catch((function(e){t.setConfig("token",""),t.headers["device-token"]="",console.log("ERROR",e),t.error=e}))}},{key:"get_matches_k",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i="";return 1==n?(i="https://www.kooora.com/?region=-1&area=0&dd=",i=t?"https://www.kooora.com/?region=-1&area=6&dd=":i,i+=e.getDate()+"&mm="+(e.getMonth()+1)+"&yy="+e.getFullYear()+"&arabic&ajax=1"):2==n&&(i="https://table.super-kora.tv/"),this.http(i,"GET",null,{}).then((function(i){var o=new p;o.isWeb=a.isWeb;var l=[];t=!1;try{if(1==n?l=o.get_matches_k(i,e,!1,t):2==n&&(l=o.get_matches_kora_star(i,e,!1,t)),a.mdb_save_teams){var c=[];1==backup.teams_ready&&a.getTeam_logo_k().then((function(e){l.map((function(t){t.data.map((function(t){var a=parseInt(t.home_team_id),n=parseInt(t.away_team_id);a>0&&void 0==e[a]&&c.push(a),n>0&&void 0==e[n]&&c.push(n)}))}))})).then((function(e){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:a.queued_get_teams(c,s);case 1:case"end":return e.stop()}}),null,null,null,Promise)}))}}catch(u){console.log(u)}return l}))}},{key:"get_matches_league_k",value:function(e){var t=this,a="https://www.kooora.com/?c="+e+"&cm=m&ajax=1&arabic";return this.http(a,"GET",null,{}).then((function(e){var a=new p;a.isWeb=t.isWeb;var n=[];try{n=a.get_matches_k(e,!1,!1,!1,!0)}catch(s){console.log(s)}return n}))}},{key:"get_match_k",value:function(e){var t=this;return this.http("https://www.kooora.com/?ajax=1&m="+(""+e).replace("fav_","")+"&arabic","GET",null,{}).then((function(e){var a=new p;a.isWeb=t.isWeb;var n=[];try{n=a.get_matche_k(e,!1,!0)}catch(s){}return n}))}},{key:"get_lineup_k",value:function(e){var t=this;return this.http("https://www.kooora.com/?squads="+e+"&arabic","GET",null,{}).then((function(e){var a=new p;a.isWeb=t.isWeb;var n=[];try{n=a.get_lineup(e)}catch(s){}return n}))}},{key:"get_standing_k",value:function(e){var t=this;return this.http("https://www.kooora.com/?c="+e+"&cm=i&ajax=1&","GET",null,{}).then((function(e){var a=new p;a.isWeb=t.isWeb;var n=[];try{n=a.get_standing(e)}catch(s){}return n}))}},{key:"set_logos",value:function(e){var t,a,n,s,i,o,l;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t={},c.prev=1,c.next=4,r.a.awrap(this.getTeam_logo_k());case 4:t=c.sent,c.next=10;break;case 7:c.prev=7,c.t0=c.catch(1),alert(c.t0+"");case 10:for(a=0;a<e.length;a++)for(n=0;n<e[a].data.length;n++)e[a].data[n]&&void 0!=e[a].data[n].home_team&&(s=e[a].data[n].home_team_id,i=e[a].data[n].away_team_id,o=!(!t||!t[s])&&t[s],l=!(!t||!t[i])&&t[i],e[a].data[n].home_team_badge=o?this.get_team_logo(o):"",e[a].data[n].away_team_badge=l?this.get_team_logo(l):"");return c.abrupt("return",e);case 12:case"end":return c.stop()}}),null,this,[[1,7]],Promise)}},{key:"get_team_logo",value:function(e){return e.l&&"http"!=e.l.slice(0,4)?"https://img.kooora.com/"+e.l:e.l}},{key:"get_team_info",value:function(e,t){var a=e[this.fix_title(t)];return a=a||e[this.fix_title(t,!0)]}},{key:"set_logos_standing",value:function(e){var t,a,n,s,i,o=arguments;return r.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=o.length>1&&void 0!==o[1]&&o[1],l.next=3,r.a.awrap(this.getTeam_logo_k());case 3:a=l.sent,n=0;case 5:if(!(n<e.length)){l.next=22;break}if(1!=Object.keys(e[n]).length||0!=t){l.next=15;break}l.t0=r.a.keys(e[n]);case 8:if((l.t1=l.t0()).done){l.next=15;break}return s=l.t1.value,l.next=12,r.a.awrap(this.set_logos_standing(e[n][s],!0));case 12:e[n][s]=l.sent,l.next=8;break;case 15:if(void 0!=e[n].team_name){l.next=17;break}return l.abrupt("continue",19);case 17:i=e[n].team&&e[n].team.id?e[n].team.id:0,e[n].team_badge=a&&a[i]?this.get_team_logo(a[i]):void 0;case 19:n++,l.next=5;break;case 22:return l.abrupt("return",e);case 23:case"end":return l.stop()}}),null,this,null,Promise)}},{key:"get_logos",value:function(e){var t,a,n,s,i,o;return r.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:e=e||this.matches,console.log("-----",e),t=Object.keys(e),a=0;case 4:if(!(a<t.length)){l.next=20;break}n=0;case 6:if(!(n<e[t[a]].length)){l.next=17;break}return s=e[t[a]][n],i=s.home_team_ar?s.home_team_ar:s.home_team,o=s.away_team_ar?s.away_team_ar:s.away_team,l.next=12,r.a.awrap(this.setTeam_logo(i,s.home_team_badge,s.league));case 12:return l.next=14,r.a.awrap(this.setTeam_logo(o,s.away_team_badge,s.league));case 14:n++,l.next=6;break;case 17:a++,l.next=4;break;case 20:case"end":return l.stop()}}),null,this,null,Promise)}},{key:"get_matches",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.token_tries<=0)return new Promise((function(e,t){return e([])}));if(""==this.headers["device-token"])return this.set_token().then((function(){return e.get_matches(t,a)}));this.matches=1==a?{}:this.matches;var n=this.domain+"get_matches?page="+a;t=t||new Date;var s="match_date="+this.get_date(t);return this.fetch(n,{method:"POST",headers:this.headers,body:s}).then((function(t){return t.ok?t.json():(notifyMessage("There is something wrong with this request\nstatus code:"+t.status+"\nurl: "+t.url+"\ntoken :"+e.headers["device-token"]),{})})).then((function(n){if("true"==n.status){for(var s=Object.keys(n.data),i=0;i<s.length;i++)void 0==e.matches[s[i]]?e.matches[s[i]]=n.data[s[i]]:e.matches[s[i]]=e.matches[s[i]].concat(n.data[s[i]]);return Object.keys(n.data).length>0&&e.get_logos(),Object.keys(n.data).length>0?e.get_matches(t,a+1):e.matches}return n})).catch((function(t){console.log("api_ error",t,n),e.setConfig("token",""),e.headers["device-token"]="";e.error;e.error=t}))}},{key:"get_match",value:function(e){var t=this;if(this.token_tries<=0)return new Promise((function(e,t){return e([])}));if(""==this.headers["device-token"])return this.set_token().then((function(){return t.get_matches(e)}));void 0==e&&notifyMessage("match id invalid");var a=this.domain+"match_details",n="match_id="+e;return this.fetch(a,{method:"POST",headers:this.headers,body:n}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log("ERROR",e),t.error=e}))}},{key:"get_channel",value:function(e){var t=this;if(this.token_tries<=0)return new Promise((function(e,t){return e([])}));if(""==this.headers["device-token"])return this.set_token().then((function(){return t.get_channel(e)}));var a=this.domain+"get_channel";return this.fetch(a,{method:"POST",headers:this.headers,body:"channel_id="+e}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){API_.showMsg(e,"danger"),console.log("ERROR",e),t.error=e}))}},{key:"get_channels",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.token_tries<=0)return new Promise((function(e,t){return e([])}));if(""==this.headers["device-token"])return this.set_token().then((function(){return t.get_channels(e,a)}));var n=this.domain+"get_channels";return this.fetch(n,{method:"POST",headers:this.headers,body:"category_id="+e+"&page="+a}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log("ERROR",e),t.error=e}))}},{key:"fix_channel_name",value:function(e){return e=(e=(e=(e=e.replace(/\s/g,"").toLocaleLowerCase().trim()).replace("beinsports","beinsport")).replace("ontimesports","ontimesport")).replace("hd","")}},{key:"get_categories",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.token_tries<=0)return new Promise((function(e,t){return e([])}));if(""==this.headers["device-token"])return this.set_token().then((function(){return e.get_categories(t)}));var a=this.domain+"get_categories?page="+t;return this.fetch(a,{method:"GET",headers:this.headers}).then((function(e){return e.json()})).then((function(e){return e&&e.data&&e.data.length,e})).catch((function(t){console.log("ERROR",t),e.error=t}))}},{key:"get_channel_info",value:function(e){var t=this,a="https://youtube.googleapis.com/youtube/v3/channels?part=snippet%2CcontentDetails%2Cstatistics&id="+(e=this.channels[e])+"&key=AIzaSyBAd3__pfFSDfSSDL64TJkgGrzmq84lhL0";return this.fetch(a,{method:"GET",headers:this.headers2}).then((function(e){return e.json()})).catch((function(e){console.log("ERROR",e),t.error=e}))}},{key:"get_channel_items",value:function(e){var t=this,a="https://youtube.googleapis.com/youtube/v3/playlistItems?part=snippet%2CcontentDetails&maxResults=25&playlistId="+e+"&key=AIzaSyBAd3__pfFSDfSSDL64TJkgGrzmq84lhL0"+(void 0==this.pageToken?"":"&pageToken="+this.pageToken);return this.fetch(a,{method:"GET",headers:this.headers2}).then((function(e){return e.json()})).then((function(e){return t.nextPageToken=e.nextPageToken,e})).catch((function(e){console.log("ERROR",e),t.error=e}))}},{key:"get_yt_vids",value:function(e){var t=this;return this.get_channel_info(e).then((function(e){var a="";if(0==Object.keys(e).length)return[];try{a=e.items[0].contentDetails.relatedPlaylists.uploads}catch(n){return console.log(e),[]}return t.get_channel_items(a).then((function(e){var t=[];if(e.items&&e.items.length>0)for(var a=0;a<e.items.length;a++){var s=e.items[a];try{var i={link:s.contentDetails.videoId,videoId:s.contentDetails.videoId,title_news:s.snippet.title,img:s.snippet.thumbnails.medium.url,date:s.snippet.publishedAt.split("T")[0],is_yt:!0};t.push(i)}catch(n){console.log(n)}}return t}))}))}},{key:"get_url_content",value:function(e){var t=this;return e=encodeURIComponent(e),this.fetch("https://developers.facebook.com/tools/debug/?q="+e,{method:"GET"}).then((function(e){return e.json()})).then((function(a){return t.fetch("https://developers.facebook.com/tools/debug/echo/?q="+e,{method:"GET"})})).catch((function(e){console.log("ERROR",e),t.error=e}))}}]),e}();t.a=E},240:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(4),r=a.n(i),o=a(5),l=a.n(o),c=a(6),u=a.n(c),_=a(8),d=a.n(_),h=a(3),m=a.n(h),f=a(16),p=a(0),g=a.n(p),y=a(2),v=a(147);a(19);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m()(e);if(t){var s=m()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return d()(this,a)}}var w=f.c.Clock,k=f.c.Value,x=f.c.set,E=f.c.cond,P=f.c.startClock,C=f.c.clockRunning,S=f.c.timing,I=f.c.debug,A=f.c.stopClock,T=f.c.block;f.c.call;function O(e,t,a,n){var s={finished:new k(0),position:new k(0),time:new k(0),frameTime:new k(0)},i={duration:n,toValue:new k(0),easing:f.a.inOut(f.a.ease)};try{return T([E(C(e),[x(i.toValue,a)],[x(s.finished,0),x(s.time,0),x(s.position,t),x(s.frameTime,0),x(i.toValue,a),P(e)]),S(e,s,i),E(s.finished,I("stop clock",A(e))),s.position])}catch(r){console.log(r)}}var R=function(e){u()(a,e);var t=b(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).clock=new w,n.height=70,n.transofr_y=70,n.transofr_y_2=150,n.delay=3e3,n.speed=500,n.type="info",n.debug=!1,n.closing=function(){0!=n.mounted&&(n.setState({transY:O(new w,n.state.transofr_y,-1*n.state.transofr_y,n.state.speed,n.setend)}),setTimeout(n.setend,n.state.speed+100))},n.closing_im=function(){0!=n.mounted&&(n.setState({transY:O(new w,n.state.transofr_y,-1*n.state.transofr_y,n.state.speed/2,n.setend)}),clearTimeout(n.timeout_closing),setTimeout(n.setend,n.state.speed+100))},n.start=function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=n.mounted){e.next=2;break}return e.abrupt("return");case 2:if(API_.messages_history.push({body:n.state.body,type:n.state.type,time:API_.get_date_timeS(new Date),is_debug:n.state.is_debug}),!n.state.debug||0!=API_.is_debug){e.next=7;break}return n.empty_stats(),n.setend(),e.abrupt("return");case 7:console.log(n.notif_end,0==API_.is_debug),n.state.transY=O(new w,-1*n.state.transofr_y,n.state.transofr_y,n.state.speed,(function(){})),n.timeout_closing=setTimeout(n.closing,n.state.delay+n.state.speed);case 10:case"end":return e.stop()}}),null,null,null,Promise)},n.setend=function(){if(0!=n.mounted)return n.empty_stats(),console.log("....setend"),n.notif_end=!0,n.props.onEnd(),!0},n.state={dynamic_style:!1,delay:n.props.delay?n.props.delay:n.delay,height:n.props.height?n.props.height:n.height,speed:n.props.speed?n.props.speed:n.speed,body:"",transY:0,start:!1,type:n.props.type?n.props.type:n.type},n.transofr_y=n.props.is_second?n.transofr_y_2:n.transofr_y,n.state.transY=new k(-1*n.state.transofr_y),n.timeout_closing=0,n.previous_body="",console.log("TM constructor",n.props.body),n.notif_end=!0,n}return l()(a,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"empty_stats",value:function(){this.state.body="",this.state.delay=this.delay,this.state.height=this.height,this.state.speed=this.speed,this.state.type=this.type,this.state.debug=this.debug,this.previous_body="",this.timeout_closing=0}},{key:"fill_stats",value:function(){this.state.debug?(this.state.body=this.props.body&&this.props.body.message?this.props.body.message:this.props.body,console.log(this.state.body)):this.state.body=this.props.body?this.props.body:"",this.state.body=this.state.body&&this.state.body.charAt?this.state.body.charAt(0).toUpperCase()+this.state.body.slice(1):"",this.state.delay=this.props.delay?this.props.delay:this.delay,this.state.height=this.props.height?this.props.height:this.height,this.state.transofr_y=this.props.transofr_y?this.props.transofr_y:this.transofr_y,this.state.speed=this.props.speed?this.props.speed:this.speed,this.state.type=this.props.type?this.props.type:this.type,this.state.debug=this.props.debug?this.props.debug:this.debug}},{key:"render",value:function(){var e=this;this.fill_stats(),0==this.timeout_closing&&""!=this.state.body&&this.state.body!=this.previous_body?(this.notif_end=!1,this.start(),this.previous_body=this.state.body):this.previous_body="";var t=this.props.dynamic_style["txt_"+this.state.type]?this.state.type:this.type,a=this.props.dynamic_style["bg_"+t],n=this.props.dynamic_style["txt_"+t];return g.a.createElement(y.a,{style:this.props.is_second?this.props.dynamic_style.container_2:this.props.dynamic_style.container},g.a.createElement(f.c.View,{style:[this.props.dynamic_style.box,{height:this.state.height,transform:[{translateY:this.state.transY}]}]},g.a.createElement(v.a,{hitSlop:{top:0,bottom:0,left:0,right:0},style:this.props.dynamic_style.box_inside,activeOpacity:.7,onPress:function(){e.closing_im(),e.props.onCLicked&&e.props.onCLicked()}},g.a.createElement(Text,{style:[this.props.dynamic_style.body,n]},this.state.body),g.a.createElement(y.a,{style:[this.props.dynamic_style.indecator,a]}))))}}]),a}(g.a.Component);t.a=R},243:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(4),r=a.n(i),o=a(5),l=a.n(o),c=a(6),u=a.n(c),_=a(8),d=a.n(_),h=a(3),m=a.n(h),f=a(0),p=a(2),g=a(39),y=a(37),v=a(13),b=a(79),w=a(25),k=a(70),x=a(53),E=a(119),P=a(34),C=a(19),S=a(127),I=a(539),A=function(){return Math.floor(Date.now()/1e3)},T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.minRefreshSeconds,n=void 0===a?300:a,s=t.showDebugInConsole,i=void 0!==s&&s,o=t.beforeCheckCallback,l=void 0===o?null:o,c=t.beforeDownloadCallback,u=void 0===c?null:c,_=t.afterCheckCallback,d=void 0===_?null:_,h=t.throwUpdateErrors,m=void 0!==h&&h;r()(this,e),this.minRefreshSeconds=n,this.showDebugInConsole=i,this.beforeCheckCallback=l,this.beforeDownloadCallback=u,this.afterCheckCallback=d,this.throwUpdateErrors=m,this.lastCheck=0,this.appState=S.a.currentState||"error",this.updateLog=[],this.appStateChangeHandler=this.appStateChangeHandler.bind(this),this.isAppUpdateAvailable=this.isAppUpdateAvailable.bind(this),this.doUpdateIfAvailable=this.doUpdateIfAvailable.bind(this),this.log=this.log.bind(this)}return l()(e,[{key:"log",value:function(e){this.updateLog.push(e)}},{key:"registerAppStateChangeListener",value:function(){this.log("ExpoCustomUpdater: AppStateChange Handler Registered"),S.a.addEventListener("change",this.appStateChangeHandler)}},{key:"removeAppStateChangeListener",value:function(){this.log("ExpoCustomUpdater: AppStateChange Handler Removed"),S.a.removeEventListener("change",this.appStateChangeHandler)}},{key:"appStateChangeHandler",value:function(e){var t,a;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=!!this.appState.match(/inactive|background/)&&"active"===e,a=A()-this.lastCheck>this.minRefreshSeconds,this.appState=e,this.log("appStateChangeHandler: AppState: "+this.appState+", NeedToCheckForUpdate? "+(t&&a)),a&&t){n.next=7;break}return t&&!a&&this.log("appStateChangeHandler: Skip check, within refresh time"),n.abrupt("return",!1);case 7:return this.beforeCheckCallback&&this.beforeCheckCallback(),n.next=10,s.a.awrap(this.doUpdateIfAvailable());case 10:this.afterCheckCallback&&this.afterCheckCallback();case 11:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"doUpdateIfAvailable",value:function(e){var t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(this.isAppUpdateAvailable());case 2:t=a.sent,this.log("doUpdateIfAvailable: "+(t?"Doing":"No")+" update"),(t||e)&&this.doUpdateApp();case 5:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"isAppUpdateAvailable",value:function(){var e,t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:this.lastCheck=A(),a.next=4;break;case 4:return a.prev=4,a.next=7,s.a.awrap(I.a());case 7:return e=a.sent,t=e.isAvailable,this.log("isAppUpdateAvailable: "+t,!0),a.abrupt("return",t);case 13:if(a.prev=13,a.t0=a.catch(4),this.log("isAppUpdateAvailable: ERROR: "+a.t0.message),!this.throwUpdateErrors){a.next=18;break}throw a.t0;case 18:return a.abrupt("return",!1);case 19:case"end":return a.stop()}}),null,this,[[4,13]],Promise)}},{key:"doUpdateApp",value:function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.next=4;break;case 4:return this.beforeDownloadCallback&&this.beforeDownloadCallback(),this.log("doUpdateApp: Fetching Update",!0),e.next=8,s.a.awrap(I.b());case 8:return this.log("doUpdateApp: Update fetched, reloading...",!0),e.next=11,s.a.awrap(I.c());case 11:e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(0),this.log("doUpdateApp: ERROR: "+e.t0.message),!this.throwUpdateErrors){e.next=18;break}throw e.t0;case 18:case"end":return e.stop()}}),null,this,[[0,13]],Promise)}}]),e}(),O=a(540),R=a(55),M=a(71),L=a(326);function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m()(e);if(t){var s=m()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return d()(this,a)}}var D=function(e){u()(a,e);var t=W(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).goFullscreen=function(){API_.isWeb&&(document.fullscreenElement?(document.exitFullscreen(),API_.showMsg("Going Back to normal mode!","info")):document.body.requestFullscreen().then((function(e){API_.showMsg("Going full screen mode!","info")})).catch((function(e){API_.debugMsg(e,"warning")})))},n.escFunction=function(e){27===e.keyCode&&n.props.navigation.goBack(null)},n.componentDidMount=function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:API_.isWeb&&(API_.next=n.nextPage,API_.setDate=n.onChange,n.promtInstallWPA(),navigator&&navigator.serviceWorker&&navigator.serviceWorker.addEventListener&&(navigator.serviceWorker.removeEventListener("message",(function(){})),navigator.serviceWorker.addEventListener("message",(function(e){var t=!(!e.data||!e.data.data)&&e.data.data;t&&n.onMatch_clicked(t)}))),document.addEventListener("keydown",n.escFunction,!1),match_data&&(n.onMatch_clicked(match_data),match_id=!1)),n.get_matches(n.state.matches_date),0==n.is_authenting&&(n.is_authenting=!0,backup._loadClient().then((function(e){if(n.setState({is_auth:backup.is_auth}),n.render_header(),backup.user_log(),0==e)return!1;backup.load_teams(),backup.load_settings().then((function(e){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:0==API_.isWeb&&backup.savePushToken();case 1:case"end":return e.stop()}}),null,null,null,Promise)})).catch((function(e){console.log(e)})),Object(M.a)().then((function(e){API_.notifications_matches=e,n.refresh_leagues()}))})).catch((function(e){console.log(e),API_.debugMsg(e,"danger")}))),n.checkUpdAvailability(),O.a(n._handleNotification),O.b(n._handleNotificationResponse),!1;try{!1}catch(t){}n._isMounted=!0,Object(C.c)("styles_home").then((function(e){n.setState({dynamic_style:e}),n.render_header()})),n.interval_refresh=setInterval((function(){backup.is_auth&&backup.load_settings().then((function(e){e&&n.refresh_leagues(n.state.list)})),API_.get_date(n.state.matches_date)==API_.get_date(new Date)&&n.get_matches(null,!1)}),5e4);case 11:case"end":return e.stop()}}),null,null,null,Promise)},n.refresh_list=function(){var e=JSON.parse(JSON.stringify(n.state.list));n._isMounted?(n.setState({list:[],page:1}),n.setState({list:e})):alert("unmounted")},n.set_fav=function(e,t){var a="";API_.getConfig("favorite_leagues",n.state.favorite).then((function(s){s.includes(e)?(s=s.filter((function(t){if(t!=e)return t})),a="\u062a\u0645\u062a \u0625\u0632\u0627\u0644\u062a\u0647 \u0645\u0646"):(s.push(e),a="\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u062a\u0647 \u0625\u0644\u0649"),n.setState({favorite:s}),API_.setConfig("favorite_leagues",s),API_.showMsg("\u0627\u0644\u062f\u0648\u0631\u064a \u066d"+t+"\u066d "+a+" \u0627\u0644\u0645\u0641\u0636\u0644\u0629!")})),n.setState({})},n._onMatch_LongPressed=function(e){Object(M.b)(e).then((function(e){if(0==e)return!1;n.refresh_leagues()}))},n.changesource=function(e,t){n.end=!1,n.state.source_id=parseInt(e),n.setState({source_id:parseInt(e),page:1}),n.get_matches(),api_type=parseInt(e)},n.update_is_only_live=function(e,t){n.state.matches_date=1==e?new Date:n.state.matches_date,n.setState({is_only_live:e}),n.render_header(),n.get_matches()},n._handleNotification=function(e){try{var t=e.request.content.data.data,a="string"==typeof t?JSON.parse(t):t;a&&n.onMatch_clicked(a)}catch(s){API_.debugMsg(s,"danger")}},n._handleNotificationResponse=function(e){try{var t=e.notification.request.content.data.data,a="string"==typeof t?JSON.parse(t):t;a&&n.onMatch_clicked(a)}catch(s){API_.debugMsg(s,"danger")}},n.render_header=function(){var e=null,t=n.state.dynamic_style&&n.state.dynamic_style.title?n.state.dynamic_style.title.fontSize:15;e=!0===n.state.is_upd_available?function(){return f.createElement(P.a,{name:"cloud-download",size:t,style:n.state.dynamic_style.icons,onPress:function(){n.setState({list:[],loading:!0}),customUpdater.doUpdateApp()}})}:function(){return f.createElement(P.a,{name:1==API_.isWeb?"search-plus":"inbox",disabled:0==API_.isWeb&&-1===n.state.is_upd_available,size:t,style:n.state.dynamic_style.icons,onPress:function(){n.checkUpdAvailability(),n.goFullscreen()}})},n.props.navigation.setOptions({title:"AlMatch-\u0627\u0644\u0645\u0628\u0627\u0631\u064a\u0627\u062a",headerLeft:e,headerRight:function(){return f.createElement(p.a,{style:{flexDirection:"row",margin:5}},f.createElement(k.a,{style:{justifyContent:"center",marginVertical:"auto",marginHorizontal:10,width:40},trackColor:{false:"#767577",true:"#81b0ff"},thumbColor:n.state.is_only_live?"#f5dd4b":"#f4f3f4",ios_backgroundColor:"#3e3e3e",onValueChange:n.update_is_only_live,value:n.state.is_only_live}),0==API_.isWeb?null:f.createElement(P.a,{name:"refresh",size:t,style:n.state.dynamic_style.icons,onPress:function(){n.get_matches(n.state.matches_date)}}),f.createElement(P.a,{name:backup.is_auth?"user":"gears",size:t,style:n.state.dynamic_style.icons,onPress:function(){n.props.navigation.navigate("Settings")}}))}})},n.get_matches=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0==n.state.loading&&t&&n.setState({loading:!0}),0!=n.state.source_id)return n.get_matches_koora(e,a);e=null==e?n.state.matches_date:e,API_.getConfig("favorite_leagues",n.state.favorite).then((function(t){Object(M.a)().then((function(a){API_.load_leagues().then((function(s){API_.get_matches(e,n.state.page).then((function(e){var i=e||{},r=[];if(i&&Object.keys(i).length){r=(r=Object.keys(i).map((function(e){var t=i[e],a=!!(t&&t.length>0&&t[0].league_badge&&t[0].league_badge.path)&&t[0].league_badge.path,r=0;try{r=s&&s[e]?s[e].league_id:0}catch(c){console.log(c)}for(var o=0;o<t.length;o++)if(t[o].time=API_.convert_time(t[o].time),t[o].league_id=r,t[o].live){var l=API_.convert_time_spent(t[o].date+" "+t[o].time);t[o].time_played=l||"",(0==l||l<-10)&&(t[o].live=0)}return n.state.is_only_live&&(t=t.filter((function(e){return e.live}))),{title:e,img:a,data:t,id:r}}))).filter((function(e){return e.data.length>0}));try{r=r.sort((function(e,a){return t.indexOf(e.id)>t.indexOf(a.id)?-1:1}))}catch(o){console.log(o)}}n._isMounted&&n.setState({list:r,loading:!1,favorite:t,notifications_matches:a})}))}))}))}))},n.refresh_leagues=function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(n.get_favs(n.state.list));case 2:n.state.list=e.sent,n.setState({list:n.state.list});case 4:case"end":return e.stop()}}),null,null,null,Promise)},n.get_matches_koora=function(){var e,t,a,i,r=arguments;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:null,t=r.length>1&&void 0!==r[1]&&r[1],e=null==e?n.state.matches_date:e,API_.load_leagues(n.refresh_leagues),Object(M.a)().then((function(e){API_.notifications_matches=e,n.refresh_leagues()})),o.next=7,s.a.awrap(API_.getConfig("favorite_leagues",n.state.favorite));case 7:return API_.favorite_leagues=o.sent,a=[],o.next=11,s.a.awrap(API_.get_matches_k(e,n.state.is_only_live,n.state.source_id,t));case 11:return a=o.sent,i=a&&a.length>0?a:[],o.next=15,s.a.awrap(n.get_favs(i));case 15:return i=o.sent,o.next=18,s.a.awrap(API_.set_logos(i));case 18:i=o.sent,n._isMounted&&n.setState({list:i,loading:!1});case 20:case"end":return o.stop()}}),null,null,null,Promise)},n.onChange=function(e,t){void 0==t&&n.setState({show_datPicker:!1});var a=t||date;n.setState({show_datPicker:"ios"===v.a.OS,list:[],matches_date:a,loading:!0,is_only_live:!1}),n.get_matches(a),n.render_header()},n.onLeaguePressed=function(e,t,a){t=["https:/","http://"].includes(t.slice(0,7))?t:API_.domain_o+t,n.props.navigation.navigate("League",{league_details:{league:e,league_img:t,id:a}})},n.onMatch_clicked=function(e){n.props.navigation.navigate("Match",{match_item:e})},n.onSwipeRight=function(e){n.previousPage()},n.onSwipeLeft=function(e){n.nextPage()},n.nextPage=function(){n.end=!1,n.state.matches_date.setDate(n.state.matches_date.getDate()+1),n.setState({list:[],loading:!0,page:1,is_only_live:!1}),n.get_matches(n.state.matches_date,!0),n.render_header()},n.previousPage=function(){n.end=!1,n.state.matches_date.setDate(n.state.matches_date.getDate()-1),n.setState({list:[],loading:!0,page:1,is_only_live:!1}),n.get_matches(n.state.matches_date),n.render_header()},n.state={list:[],page:1,modalVisible_match:!1,show_datPicker:!1,matches_date:new Date,loading:!0,loading_fonts:!1,update_available:!1,dynamic_style:!1,notifications_matches:{},favorite:[],source_id:1,is_only_live:!1,is_upd_available:-1,is_auth:!1},api_type=n.state.source_id,n.is_authenting=!1,n.didBlurSubscription=n.props.navigation.addListener("focus",(function(e){n.refresh_leagues(),n.render_header()})),n}return l()(a,[{key:"componentWillUnmount",value:function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:API_.isWeb&&document.removeEventListener("keydown",this.escFunction,!1),this._isMounted=!1,clearInterval(this.interval_refresh),backup.timer&&clearInterval(backup.timer),this.didBlurSubscription&&this.didBlurSubscription.remove&&this.didBlurSubscription.remove();case 5:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"promtInstallWPA",value:function(){setTimeout((function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:0==window.matchMedia("(display-mode: standalone)").matches&&API_.showMsg("Click here to install *AlMatch* as PWA!","success",void 0,1e4,(function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!deferredPrompt||!deferredPrompt.prompt){t.next=8;break}return deferredPrompt.prompt(),t.next=4,s.a.awrap(deferredPrompt.userChoice);case 4:e=t.sent,e.outcome,t.next=9;break;case 8:console.log("not ok var");case 9:case"end":return t.stop()}}),null,null,null,Promise)}));case 1:case"end":return e.stop()}}),null,null,null,Promise)}),15e3)}},{key:"checkUpdAvailability",value:function(){var e=this;API_.isWeb||(this.state.is_upd_available=-1,this.render_header(),(new T).isAppUpdateAvailable().then((function(t){e.state.is_upd_available=t,e.render_header()})))}},{key:"get_favs",value:function(e){var t,a,n,i,r,o,l,c,u,_,d,h,m=this;return s.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return e&&e.length>0&&1==e[0].id&&(e=e.filter((function(e){return e.id&&1!=e.id}))),f.next=3,s.a.awrap(API_.getConfig("favorite_teams_k",[]));case 3:return this.state.favorite_teams=f.sent,f.next=6,s.a.awrap(API_.getConfig("favorite_leagues",this.state.favorite));case 6:for(this.state.favorite=f.sent,t={id:1,title:"\u0627\u0644\u0641\u0631\u0642 \u0627\u0644\u0645\u0641\u0636\u0644\u0629",img:"",data:[]},a=0;a<API_.matches_bl.length;a++){for(n=!1,i=0;i<API_.matches_bl[a].data.length;i++)r=JSON.parse(JSON.stringify(API_.matches_bl[a].data[i])),o=parseInt(r.home_team_id)?parseInt(r.home_team_id):0,l=parseInt(r.away_team_id)?parseInt(r.away_team_id):0,(API_.notifications_matches&&void 0!=API_.notifications_matches[r.id]||this.state.favorite_teams.includes(o)||this.state.favorite_teams.includes(l))&&(n=!0);(n||this.state.favorite.includes(API_.matches_bl[a].id))&&0==e.includes(API_.matches_bl[a])&&e.push(API_.matches_bl[a])}try{e=e.sort((function(e,t){return void 0!=API_.leagues_dict[API_.fix_title(e.title)]&&void 0==API_.leagues_dict[API_.fix_title(t.title)]?-1:0}))}catch(p){console.log(p)}for(e=e.sort((function(e,t){return m.state.favorite.indexOf(e.id)>m.state.favorite.indexOf(t.id)?-1:0})),c=0;c<e.length;c++)for(u=0;u<e[c].data.length;u++)_=JSON.parse(JSON.stringify(e[c].data[u])),d=parseInt(_.home_team_id)?parseInt(_.home_team_id):0,h=parseInt(_.away_team_id)?parseInt(_.away_team_id):0,(API_.notifications_matches&&void 0!=API_.notifications_matches[_.id]||this.state.favorite_teams.includes(d)||this.state.favorite_teams.includes(h))&&t.data.push(_);return e=t.data.length>0?[t].concat(e):e,f.abrupt("return",e);case 14:case"end":return f.stop()}}),null,this,null,Promise)}},{key:"show_DateP",value:function(){return 0==this.state.show_datPicker?null:f.createElement(E.a,{style:{color:"#fff",backgroundColor:"#000"},testID:"datePicker",value:this.state.matches_date,mode:"date",display:"default",onChange:this.onChange})}},{key:"render_modal_credentials",value:function(){var e=this;return f.createElement(g.a,{animationType:"slide",transparent:!0,visible:this.state.modalVisible_match,onRequestClose:function(){e.setState({modalVisible_match:!1})}},f.createElement(p.a,{style:{flex:.4,backgroundColor:"#2c3e5066"}}),f.createElement(p.a,{style:{height:400,width:"100%",backgroundColor:"#646c78"}},f.createElement(Text,null," ",this.state.match?this.state.match.id:""," : ")),f.createElement(p.a,{style:{flex:1,backgroundColor:"#2c3e5066"}}))}},{key:"render",value:function(){var e=this,t="";try{t=API_.days[this.state.matches_date.getDay()]}catch(n){}if(void 0==this.state.dynamic_style||!1===this.state.dynamic_style||0==LoadedFonts)return setTimeout((function(){return e.setState({})}),100),f.createElement(R.a,null);var a=f.createElement(p.a,{style:{flexDirection:"row",flexWrap:"wrap",alignSelf:"center",alignContent:"center",alignItems:"center"}},f.createElement(P.a,{disabled:this.state.loading,name:"minus",size:this.state.dynamic_style.title.fontSize,style:this.state.dynamic_style.icons,onPress:function(){return e.previousPage()}}),f.createElement(y.a,{disabled:this.state.loading,activeOpacity:.5,onPress:function(){return e.setState({show_datPicker:!0})}},f.createElement(Text,{style:[this.state.dynamic_style.date_text]},API_.get_date2(this.state.matches_date)+" - "+t)),f.createElement(P.a,{disabled:this.state.loading,name:"plus",size:this.state.dynamic_style.title.fontSize,style:this.state.dynamic_style.icons,onPress:function(){return e.nextPage()}}),f.createElement(w.a,{selectedValue:this.state.source_id,style:{height:"90%",width:80,backgroundColor:"#000",color:"#fff"},onValueChange:this.changesource},f.createElement(w.a.Item,{label:"AL match",value:0}),f.createElement(w.a.Item,{label:"Kooora",value:1}),f.createElement(w.a.Item,{label:"kora-star",value:2})));return f.createElement(L.a,{style:this.state.dynamic_style.container,directionalOffsetThreshold:60,onSwipeRight:function(t){return e.onSwipeRight(t)},onSwipeLeft:function(t){return e.onSwipeLeft(t)}},f.createElement(x.a,{ListHeaderComponent:a,favorite:this.state.favorite,favorite_teams:this.state.favorite_teams,set_fav:this.set_fav,refresh_list:this.refresh_list,refreshControl:f.createElement(b.a,{progressViewOffset:200,refreshing:this.state.loading,onRefresh:function(){e.state.page=1,e.get_matches()}}),loading:this.state.loading,list:this.state.list,onLeaguePressed:this.onLeaguePressed,onclick:this.onMatch_clicked,onLongPress:this._onMatch_LongPressed,key_:"home_team",key_key:"id"}),1==this.state.modalVisible_match?this.render_modal_credentials():null,!0===this.state.show_datPicker?this.show_DateP():null)}}]),a}(f.Component);t.a=D},302:function(e,t,a){"use strict";(function(e){var n=a(4),s=a.n(n),i=a(5),r=a.n(i),o=a(6),l=a.n(o),c=a(8),u=a.n(c),_=a(3),d=a.n(_),h=a(1),m=a.n(h),f=a(0),p=a(13),g=(a(120),a(525)),y=a(234),v=a(163),b=a(233),w=a(243),k=a(327),x=a(203),E=a(207),P=(a(493),a(204)),C=a(335),S=a(336),I=a(338),A=a(205),T=a(206),O=a(339),R=a(346),M=a(340),L=a(66),W=a(80),D=a(527),j=a(341),V=a(19),N=(a(524),a(528)),z=a(523),H=a(521),F=a(522),U=a(142),B=a(232),q=a(240),J=a(342);function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var s=d()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return u()(this,a)}}Text=j.a,e.API_=new b.a,e.API_.appname="AlMatch",e.Global_theme_name="dark violet",e.reloading_app=!1;var K=V.b;e.backup=new B.a,e.backup.executingQueued(),e.api_type=0,e._ClientInfo=new J.a,e.match_data=!1,API_.isWeb&&(e.Global_theme_name=window.matchMedia&&!0===window.matchMedia("(prefers-color-scheme: dark)").matches?"dark violet":"light",navigator&&navigator.serviceWorker&&navigator.serviceWorker.addEventListener&&(navigator.serviceWorker.addEventListener("message",(function(e){console.log(e.data),match_data=!!e.data&&e.data.data})),e.deferredPrompt=0,window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),deferredPrompt=e,console.log("'beforeinstallprompt' event was fired.")})))),e.LoadedFonts=!1,API_.isWeb&&window.addEventListener("beforeunload",(function(e){0==reloading_app&&(e.preventDefault(),e.returnValue="")})),D.b({"DroidKufi-Regular":a(498),"DroidKufi-Bold":a(499)}).then((function(){LoadedFonts=!0,console.log("FontsLoaded")})),N.a({handleNotification:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!0});case 1:case"end":return e.stop()}}),null,null,null,Promise)}}),function(){var e,t,a,n,s;m.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!API_.isWeb){i.next=2;break}return i.abrupt("return",new Promise((function(){return[]})));case 2:if(!L.a.isDevice){i.next=22;break}return i.next=5,m.a.awrap(U.c(U.a));case 5:if(e=i.sent,t=e.status,a=t,"granted"===t){i.next=14;break}return i.next=11,m.a.awrap(U.b(U.a));case 11:n=i.sent,s=n.status,a=s;case 14:if("granted"===a){i.next=17;break}return alert("Failed to get push token for push notification!"),i.abrupt("return");case 17:return i.next=19,m.a.awrap(z.a());case 19:backup.PushToken=i.sent.data,i.next=23;break;case 22:alert("Must use physical device for Push Notifications");case 23:"android"===p.a.OS&&H.a("default",{name:"default",importance:F.a.MAX,vibrationPattern:[0,250,250,250],lightColor:"#FF231F7C"});case 24:case"end":return i.stop()}}),null,null,null,Promise)}(),e.notifyMessage=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3;API_.showMsg(e,n,s)};var Q=Object(g.a)(),Y=Object(v.a)(),X=Object(v.a)(),$=Object(v.a)(),Z=Object(v.a)(),ee=Object(v.a)();function te(){return f.createElement(Y.Navigator,null,f.createElement(Y.Screen,{options:K.screenHeader,name:"ChannelsCat",component:k.a}),f.createElement(Y.Screen,{options:K.screenHeader,name:"Channels",component:x.a}),f.createElement(Y.Screen,{options:K.screenHeader,name:"Channel",component:E.a}),f.createElement(Y.Screen,{options:K.screenHeader,name:"Video",component:A.a}))}function ae(){return f.createElement(X.Navigator,null,f.createElement(X.Screen,{options:K.screenHeader,name:"Home",component:w.a}),f.createElement(X.Screen,{options:K.screenHeader,name:"Settings",component:R.a}),f.createElement(X.Screen,{options:K.screenHeader,name:"Match",component:P.a}),f.createElement(X.Screen,{options:K.screenHeader,name:"Channels",component:x.a}),f.createElement(X.Screen,{options:K.screenHeader,name:"Channel",component:E.a}),f.createElement(X.Screen,{options:K.screenHeader,name:"League",component:T.a}),f.createElement(X.Screen,{options:K.screenHeader,name:"Video",component:A.a}),f.createElement(X.Screen,{options:K.screenHeader,name:"TV",component:M.a}))}function ne(){return f.createElement(ee.Navigator,null,f.createElement(ee.Screen,{options:K.screenHeader,name:"Leagues",component:O.a}),f.createElement(ee.Screen,{options:K.screenHeader,name:"Home",component:w.a}),f.createElement(ee.Screen,{options:K.screenHeader,name:"Match",component:P.a}),f.createElement(ee.Screen,{options:K.screenHeader,name:"Channels",component:x.a}),f.createElement(ee.Screen,{options:K.screenHeader,name:"Channel",component:E.a}),f.createElement(ee.Screen,{options:K.screenHeader,name:"League",component:T.a}))}function se(){return f.createElement($.Navigator,null,f.createElement($.Screen,{options:K.screenHeader,name:"News",component:C.a}),f.createElement($.Screen,{options:K.screenHeader,name:"Article",component:S.a}),f.createElement(ee.Screen,{options:K.screenHeader,name:"Match",component:P.a}),f.createElement(ee.Screen,{options:K.screenHeader,name:"League",component:T.a}))}function ie(){return f.createElement(Z.Navigator,null,f.createElement(Z.Screen,{options:K.screenHeader,name:"Videos",component:I.a}),f.createElement(Z.Screen,{options:K.screenHeader,name:"Video",component:A.a}))}function re(){return f.createElement(Q.Navigator,{barStyle:{backgroundColor:"#000"},screenOptions:function(e){var t=e.route;return{tabBarIcon:function(e){e.focused;var a,n=e.color,s=e.size;return"Home"===t.name?a="home":"Channels"===t.name?a="tv":"News"===t.name?a="newspaper-o":"web"===t.name?a="chrome":"Videos"===t.name?a="youtube-play":"Leagues"===t.name&&(a="list-ol"),f.createElement(W.a,{name:a,size:s,color:n})},swipeEnabled:!0,tabBarPosition:"bottom"}},tabBarOptions:K.tabBarOptions,tabBarPosition:"bottom"},f.createElement(Q.Screen,{name:"Home",component:ae}),f.createElement(Q.Screen,{name:"Leagues",component:ne}),f.createElement(Q.Screen,{name:"Videos",component:ie}),f.createElement(Q.Screen,{name:"Channels",component:te}),f.createElement(Q.Screen,{name:"News",component:se}))}var oe=function(e){l()(a,e);var t=G(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).showMsg=function(e,t,a,s,i){console.log("msg1:",n.state.showMsg,"msg2:",n.state.showMsg),0==n.state.showMsg?n.setState({body:e,type:t,speed:a,delay:s,debug:!1,showMsg:!0,onCLicked:i}):1==n.state.showMsg&&0==n.state.showMsg_2&&n.setState({body_2:e,type_2:t,speed_2:a,delay_2:s,debug_2:!1,showMsg_2:!0,onCLicked:i})},n.debugMsg=function(e,t,a,s){0==n.state.showMsg?n.setState({body:e,type:t,speed:a,delay:s,debug:!0,showMsg:!0}):1==n.state.showMsg&&0==n.state.showMsg_2&&n.setState({body_2:e,type_2:t,speed_2:a,delay_2:s,debug_2:!0,showMsg_2:!0})},n.onMsgEnd=function(){n.mounted&&setTimeout((function(){n.setState({showMsg:!1})}),1)},n.onMsgEnd_2=function(){n.mounted&&setTimeout((function(){n.setState({showMsg_2:!1})}),1)},n.state={list:[],modalVisible_match:!1,show_datPicker:!1,matches_date:new Date,loading:!0,loading_fonts:!1,update_available:!1,dynamic_style:"styles_home",style_loaded:!1,msg:"",speed:0,delay:0,showMsg:!1,notif_dynamic_style:!1,showMsg:!1,showMsg_2:!1},Object(V.c)("app_styles").then((function(e){if(K==e)return!0;K=e,n.setState({style_loaded:!0})})),n}return r()(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,API_.showMsg=this.showMsg,API_.debugMsg=this.debugMsg,Object(V.c)("styles_notif").then((function(t){return e.setState({notif_dynamic_style:t})}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return 0==this.state.style_loaded?null:f.createElement(y.a,null,!0===this.state.showMsg?f.createElement(q.a,{dynamic_style:this.state.notif_dynamic_style,is_second:!1,body:this.state.body,speed:this.state.speed,delay:this.state.delay,type:this.state.type,debug:this.state.debug,onEnd:this.onMsgEnd,onCLicked:this.state.onCLicked}):null,!0===this.state.showMsg_2?f.createElement(q.a,{dynamic_style:this.state.notif_dynamic_style,is_second:!0,body:this.state.body_2,speed:this.state.speed_2,delay:this.state.delay_2,type:this.state.type_2,debug:this.state.debug_2,onEnd:this.onMsgEnd_2,onCLicked:this.state.onCLicked2}):null,f.createElement(re,{showMsg:this.showMsg}))}}]),a}(f.Component);t.a=oe}).call(this,a(65))},327:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(4),r=a.n(i),o=a(5),l=a.n(o),c=a(6),u=a.n(c),_=a(8),d=a.n(_),h=a(3),m=a.n(h),f=a(0),p=a(2),g=a(9),y=a(25),v=a(53),b=(a(121),a(34)),w=a(19);a(232);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m()(e);if(t){var s=m()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return d()(this,a)}}var x=[],E=function(e){u()(a,e);var t=k(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).refresh_list=function(){var e=JSON.parse(JSON.stringify(n.state.list));n.setState({list:[]}),n.setState({list:e})},n.show_channels=function(e){n.props.navigation.navigate("channels",{category_id:e.category_id,category_name:e.category_name})},n.get_local_saved_chs=function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e=Object.values(API_.channels_dict).map((function(e){return e.category_name=e.name,e.category_photo=e.channel_photo,e})),setTimeout((function(){n.setState({list:e,key_:"category_name",key_key:"name",loading:!1})}),300);case 2:case"end":return t.stop()}}),null,null,null,Promise)},n.get_IPTV=function(){var e,t,a,i,r;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,s.a.awrap(API_.get_IPTV());case 2:if(e=o.sent,t=[],void 0!=e){o.next=6;break}return o.abrupt("return");case 6:for(a=0;a<e.length;a++)i=e[a],(r={channel_photo:"",name:"",url:"",id:"",is_external:!1,category_name:"",category_photo:"",category_id:""}).name=i.name,r.channel_photo=i.img,r.category_photo=i.img,r.quality=i.quality?i.quality:"",r.id=i.name+"-"+i.quality,r.category_id=i.name+"-"+i.quality,r.category_name=i.name,r.ch_item=i,r.channel_servers=[{id:i.link,name:i.name,SecureUrl:i.link}],t.push(r);n.setState({list:t,key_:"category_name",key_key:"category_id",loading:!1});case 8:case"end":return o.stop()}}),null,null,null,Promise)},n.get_IPTV_ch=function(){var e,t,a,i;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.awrap(backup.load_iptv());case 2:for(e=r.sent,t=[],a=0;a<e.length;a++)(i={channel_photo:"",name:"",url:"",id:"",is_external:!1,category_name:"",category_photo:"",category_id:""}).name=e[a].name,i.channel_photo=e[a].channel_photo,i.category_photo=i.channel_photo,i.quality=e[a].quality,i.id=e[a].name+"-"+e[a].quality,i.category_id=e[a].name+"-"+e[a].quality,i.category_name=e[a].name,i.ch_item=e[a],t.push(i);n.setState({list:t,key_:"category_name",key_key:"category_id",loading:!1});case 6:case"end":return r.stop()}}),null,null,null,Promise)},n.onchannel_clicked=function(e){e.url?n.props.navigation.navigate("Video",{item:e}):3==n.state.source_id?n.props.navigation.navigate("Channel",{channel_id:e.ch_item.channel_id,channel_photo:e.ch_item.channel_photo,ch_item:e.ch_item}):4==n.state.source_id||5==n.state.source_id?(console.log(e),n.props.navigation.navigate("Channel",{channel_id:e.channel_id,channel_photo:e.channel_photo,ch_item:e})):n.props.navigation.navigate("Channels",{category_id:e.category_id,category_name:e.category_name})},n.changesource=function(e,t){n.state.source_id=parseInt(e),n.state.page=1,n.get_cats()},n.state={list:x,modalVisible_match:!1,player_type:1,key_:"category_name",key_key:"category_id",loading:!0,page:1,source_id:1},n.end=!1,n.get_cats(1),n}return l()(a,[{key:"componentDidMount",value:function(){var e=this;this.props.navigation.setOptions({title:"Channels categroires",headerRight:function(){return f.createElement(b.a,{name:"refresh",size:P.title.fontSize,style:P.icons,onPress:function(){e.get_cats(1)}})}})}},{key:"get_cats",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 2==this.state.source_id?this.get_externa_ch():3==this.state.source_id?this.get_IPTV_ch():4==this.state.source_id?this.get_local_saved_chs():5==this.state.source_id?this.get_IPTV():1!=this.end&&void API_.get_categories(t).then((function(a){if(a&&a.data&&a.data.length>0){var n=a.data;n=1==t?n:e.state.list.concat(n),e.setState({list:n,key_:"category_name",key_key:"category_id",loading:!1})}else e.end=!0}))}},{key:"get_externa_ch",value:function(){var e=this;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!=API_.external_channels){t.next=3;break}return t.next=3,s.a.awrap(API_.load_external_channels());case 3:setTimeout((function(){e.setState({list:Object.values(API_.external_channels),key_:"category_name",key_key:"category_id",loading:!1})}),300);case 4:case"end":return t.stop()}}),null,null,null,Promise)}},{key:"render",value:function(){var e=this;P.constructor===Object&&0==Object.entries(P).length&&Styles();var t=f.createElement(y.a,{selectedValue:this.state.source_id,style:{height:40,backgroundColor:"#2d3436",color:"#dfe6e9",width:150},onValueChange:this.changesource},f.createElement(y.a.Item,{label:"Almtch",value:1}),f.createElement(y.a.Item,{label:"kora-live",value:2}),f.createElement(y.a.Item,{label:"inApp-IPTV",value:3}),backup&&backup.is_auth&&1==backup.admin?f.createElement(y.a.Item,{label:"local-IPTV",value:4}):null,backup&&backup.is_auth&&1==backup.admin?f.createElement(y.a.Item,{label:"IPTV",value:5}):null);return f.createElement(p.a,{style:P.container},f.createElement(v.a,{ListHeaderComponent:t,minWidth:160,refresh_list:this.refresh_list,loading:this.state.loading,list:this.state.list,onclick:this.onchannel_clicked,key_:this.state.key_,key_key:this.state.key_key,disable_toTop:!0,onEndReached:function(t){1==e.state.source_id&&(e.state.page=e.state.page+1,e.get_cats(e.state.page))}}))}}]),a}(f.Component),P=g.a.create({container:{flex:1,justifyContent:"center",backgroundColor:"#000",color:"#fff"},title:{fontSize:20,fontWeight:"bold",textAlign:"center",color:"#fff"},icons:w.g.icons});t.a=E},335:function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(5),r=a.n(i),o=a(6),l=a.n(o),c=a(8),u=a.n(c),_=a(3),d=a.n(_),h=a(0),m=a(2),f=a(25),p=a(79),g=a(53),y=(a(119),a(34)),v=a(19);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var s=d()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return u()(this,a)}}var w=function(e){l()(a,e);var t=b(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).refresh_list=function(){var e=JSON.parse(JSON.stringify(n.state.list));n._isMounted&&(n.setState({list:[]}),n.setState({list:e}))},n.get_news=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];0==n.state.loading&&e&&n.setState({loading:!0}),API_.get_news(n.state.page,n.state.source_id).then((function(a){n._isMounted&&(t&&(a=n.state.list.concat(a)),e&&(n.state.loading=!1),n.setState({list:a}))}))},n.onItem_clicked=function(e){e.source=n.state.source_id,n.props.navigation.navigate("Article",{article:e})},n.changesource=function(e,t){n.state.source_id=parseInt(e),n.state.page=1,n.get_news()},n.state={list:[],page:1,loading:!0,dynamic_style:v.k,source_id:1},n.get_news(),n.interval_refresh=setInterval((function(){1==n.state.page&&n.get_news(!1)}),8e4),n}return r()(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,Object(v.c)("styles_news").then((function(t){return e.setState({dynamic_style:t})})),this.props.navigation.setOptions({title:"News",headerRight:function(){return h.createElement(y.a,{name:"refresh",size:e.state.dynamic_style.title.fontSize,style:e.state.dynamic_style.icons,onPress:function(){e.get_news()}})}})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,clearInterval(this.interval_refresh)}},{key:"render",value:function(){var e=this,t=h.createElement(m.a,{style:this.state.dynamic_style.nav_container},h.createElement(y.a,{disabled:this.state.loading,title:"arrow-back-circle",name:"chevron-left",size:this.state.dynamic_style.title.fontSize,style:this.state.dynamic_style.icons,onPress:function(){if(1==e.state.page)return!1;e.state.page--,e.get_news()}}),h.createElement(Text,{style:this.state.dynamic_style.text},this.state.page),h.createElement(y.a,{disabled:this.state.loading,title:"forward",name:"chevron-right",size:this.state.dynamic_style.title.fontSize,style:this.state.dynamic_style.icons,onPress:function(){e.state.page++,e.get_news()}}),h.createElement(f.a,{selectedValue:this.state.source_id,style:{height:"90%",backgroundColor:"#2d3436",color:"#dfe6e9",width:150},onValueChange:this.changesource},h.createElement(f.a.Item,{label:"Kr_MA",value:1}),h.createElement(f.a.Item,{label:"Kr_world",value:6}),h.createElement(f.a.Item,{label:"Kr_home",value:7}),h.createElement(f.a.Item,{label:"HP_mountakhab",value:2}),h.createElement(f.a.Item,{label:"HP_professionnels",value:3}),h.createElement(f.a.Item,{label:"HP_botola",value:4}),h.createElement(f.a.Item,{label:"HP_mondial",value:5})));return h.createElement(m.a,{style:this.state.dynamic_style.container},h.createElement(g.a,{ListHeaderComponent:t,ListFooterComponent:t,refresh_list:this.refresh_list,refreshControl:h.createElement(p.a,{progressViewOffset:200,refreshing:this.state.loading,onRefresh:this.get_news}),loading:this.state.loading,list:this.state.list,onclick:this.onItem_clicked,key_:"title_news",key_key:"title_news",page:this.state.page}))}}]),a}(h.Component);t.a=w},336:function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(5),r=a.n(i),o=a(6),l=a.n(o),c=a(8),u=a.n(c),_=a(3),d=a.n(_),h=a(0),m=a.n(h),f=a(2),p=a(32),g=a(59),y=a(55),v=a(19),b=(a(91),a(53)),w=a(130),k=a(131);function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var s=d()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return u()(this,a)}}var E=function(e){l()(a,e);var t=x(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).onItemClicked=function(e){if(e.related_news_id)e.source=n.state.article.source,e.link="n="+e.related_news_id,e.title_news=e.related_news_title,e.img=e.related_images&&e.related_images.length>0?e.article.related_images[0].img_link:null,n.props.navigation.push("Article",{article:e});else{var t={};try{var a=e.related_link.split("=");if("team"==a[0])t.modalVisible_team=!0,t.team_id=parseInt(a[1]);else if("player"==a[0])t.modalVisible_player=!0,t.player_id=parseInt(a[1]);else if("m"==a[0]){var s=void 0,i=void 0;if(e.related_title.split("-").length>2){var r=e.related_title.split("-")[2].split("\u0636\u062f");s=r.length>1?r[0].trim():void 0,i=r.length>1?r[1].trim():void 0}n.props.navigation.navigate("Match",{match_item:{id:a[1],is_koora:!0,home_team_ar:s,away_team_ar:i}})}else"c"==a[0]&&n.props.navigation.navigate("League",{league_details:{league:e.related_title,league_img:void 0,id:a[1]}})}catch(o){}n.setState(t)}},n.onLeaguePressed=function(e,t,a){t=["https:/","http://"].includes(t.slice(0,7))?t:API_.domain_o+t,n.props.navigation.navigate("League",{league_details:{league:e,league_img:t,id:a}})},n.state={list:[],modalVisible_match:!1,loading:!0,article:n.props.route.params.article,dynamic_style:v.e,modalVisible_player:!1,modalVisible_team:!1},n.get_article(),n}return r()(a,[{key:"componentDidMount",value:function(){var e=this;Object(v.c)("styles_article").then((function(t){return e.setState({dynamic_style:t})}));var t=this.state.article.title_news.length>0?this.state.article.title_news.slice(0,30)+"...":this.state.article.title_news;this.props.navigation.setOptions({title:m.a.createElement(Text,null,t)})}},{key:"get_article",value:function(){var e=this;this.state.article.date=this.state.article&&this.state.article.date?API_.get_date2(new Date(1e3*this.state.article.date.replace("#",""))):"",API_.get_article(this.props.route.params.article.link,this.state.article.source).then((function(t){t.constructor==Object?(e.state.article.body=t.body?t.body:e.state.article.body,e.state.article.img=t.img?t.img:e.state.article.img,e.state.article.date=t.date?t.date:e.state.article.date,e.state.article.related=t.related?t.related:e.state.article.related,e.state.article.related_news=t.related_news?t.related_news:e.state.article.related_news,e.state.article.img=void 0==e.state.article.img&&t.related_images&&t.related_images.length>0?t.related_images[0].img_link:e.state.article.img):e.state.article.body=t,e.setState({loading:!1}),API_.setTitleWeb(e.state.article.title_news)}))}},{key:"render",value:function(){var e=this,t=m.a.createElement(Text,{style:this.state.dynamic_style.article_date_t},"\u0623\u062e\u0628\u0627\u0631 \u0630\u0627\u062a \u0635\u0644\u0629 :"),a=this.state.article&&this.state.article.related_news&&this.state.article.related_news.length>0?m.a.createElement(b.a,{ListHeaderComponent:t,loading:!1,list:this.state.article.related_news,onclick:this.onItemClicked,key_:"related_news_title",key_key:"related_news_id",minWidth:800}):null,n=m.a.createElement(Text,{style:this.state.dynamic_style.article_date_t},"\u0630\u0627\u062a \u0635\u0644\u0629 :"),s=this.state.article&&this.state.article.related&&this.state.article.related.length>0?m.a.createElement(b.a,{ListHeaderComponent:n,loading:!1,list:this.state.article.related,onclick:this.onItemClicked,key_:"related_title",key_key:"related_link",minWidth:800}):null;return m.a.createElement(p.a,{style:this.state.dynamic_style.container},m.a.createElement(f.a,{style:this.state.dynamic_style.channel_logo_v},this.state.article.img?m.a.createElement(g.a,{style:{flex:1,width:"100%"},source:{uri:this.state.article.img}}):null),m.a.createElement(f.a,{style:this.state.dynamic_style.article_v},m.a.createElement(Text,{style:this.state.dynamic_style.article_date_t},this.state.article.date),m.a.createElement(Text,{style:this.state.dynamic_style.article_title_t},this.state.article&&this.state.article.title_news?this.state.article.title_news:""),this.state.loading?m.a.createElement(y.a,null):m.a.createElement(Text,{style:this.state.dynamic_style.article_body_t},this.state.article&&this.state.article.body?this.state.article.body:"")),null==a?a:m.a.createElement(f.a,{style:{width:"98%",flex:1}},a),null==s?a:m.a.createElement(f.a,{style:{width:"98%",flex:1}},s),1==this.state.modalVisible_player?m.a.createElement(w.a,{modal_visible:this.state.modalVisible_player,dynamic_style:this.state.dynamic_style,player_id:this.state.player_id,closeModal:function(){e.setState({modalVisible_player:!1})}}):null,1==this.state.modalVisible_team?m.a.createElement(k.a,{modal_visible:this.state.modalVisible_team,team_id:this.state.team_id,get_player_info:this.get_player_info,set_fav_p:this.set_fav_p,favorite_p:this.state.favorite_p,league_name:this.league_name,league_id:this.real_id,closeModal:function(){e.setState({modalVisible_team:!1})}}):null)}}]),a}(m.a.Component);t.a=E},338:function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(5),r=a.n(i),o=a(6),l=a.n(o),c=a(8),u=a.n(c),_=a(3),d=a.n(_),h=a(0),m=a(2),f=a(79),p=a(25),g=a(53),y=(a(119),a(34)),v=a(19);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var s=d()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return u()(this,a)}}var w=function(e){l()(a,e);var t=b(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).changesource=function(e,t){n.state.source_id=parseInt(e),n.state.page=1,n.get_Videos()},n.refresh_list=function(){var e=JSON.parse(JSON.stringify(n.state.list));n._isMounted&&(n.setState({list:[]}),n.setState({list:e}))},n.get_Videos=function(){if(0==n.state.loading&&n.setState({list:[],loading:!0}),0!=n.state.source_id)return n.get_Videos_m(n.state.page);API_.get_videos(n.state.page).then((function(e){return n.setState({list:e,loading:!1})}))},n.onItem_clicked=function(e){e.source_id=n.state.source_id,n.props.navigation.navigate("Video",{item:e})},n.state={list:[],page:1,loading:!0,dynamic_style:v.k,source_id:3},n.get_Videos(),n.pageTokens={},n}return r()(a,[{key:"componentDidMount",value:function(){var e=this;Object(v.c)("styles_news").then((function(t){return e.setState({dynamic_style:t})})),this.props.navigation.setOptions({title:"Videos",headerRight:function(){return h.createElement(y.a,{name:"refresh",size:e.state.dynamic_style.title.fontSize,style:e.state.dynamic_style.icons,onPress:function(){e.get_Videos(e.state.matches_date)}})}})}},{key:"get_Videos_m",value:function(){var e=this;if(3==this.state.source_id)return API_.get_videos_m(this.state.page).then((function(t){e.setState({list:t,loading:!1})}));void 0==this.pageTokens[this.state.source_id]?this.pageTokens[this.state.source_id]=["",""]:API_.pageToken=this.pageTokens[this.state.source_id]&&this.pageTokens[this.state.source_id][this.state.page]?this.pageTokens[this.state.source_id][this.state.page]:"",API_.get_yt_vids(this.state.source_id).then((function(t){e.setState({list:t,loading:!1}),e.pageTokens[e.state.source_id][e.state.page+1]=API_.nextPageToken,API_.nextPageToken=""}))}},{key:"render",value:function(){var e=this,t=h.createElement(m.a,{style:this.state.dynamic_style.nav_container},h.createElement(y.a,{disabled:this.state.loading,title:"arrow-back-circle",name:"chevron-left",size:this.state.dynamic_style.title.fontSize,style:this.state.dynamic_style.icons,onPress:function(){if(1==e.state.page)return!1;e.state.page--,e.get_Videos()}}),h.createElement(Text,{style:this.state.dynamic_style.text},this.state.page),h.createElement(y.a,{disabled:this.state.loading,title:"forward",name:"chevron-right",size:this.state.dynamic_style.title.fontSize,style:this.state.dynamic_style.icons,onPress:function(){e.state.page++,e.get_Videos()}}),h.createElement(p.a,{selectedValue:this.state.source_id,style:{height:"90%",backgroundColor:"#2d3436",color:"#dfe6e9",width:80},onValueChange:this.changesource},h.createElement(p.a.Item,{label:"BeIn",value:0}),h.createElement(p.a.Item,{label:"AlMthkb",value:1}),h.createElement(p.a.Item,{label:"arriadia",value:2}),h.createElement(p.a.Item,{label:"Mtkhb",value:3}),h.createElement(p.a.Item,{label:"heSport",value:4})));return h.createElement(m.a,{style:this.state.dynamic_style.container},h.createElement(g.a,{ListHeaderComponent:t,ListFooterComponent:t,refreshControl:h.createElement(f.a,{progressViewOffset:200,refreshing:this.state.loading,onRefresh:this.get_Videos}),loading:this.state.loading,list:this.state.list,onclick:this.onItem_clicked,key_:"title_news",key_key:"link",refresh_list:this.refresh_list,page:this.state.page}))}}]),a}(h.Component);t.a=w},339:function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(5),r=a.n(i),o=a(6),l=a.n(o),c=a(8),u=a.n(c),_=a(3),d=a.n(_),h=a(0),m=a(2),f=a(53),p=(a(119),a(34)),g=a(19);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var s=d()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return u()(this,a)}}var v=function(e){l()(a,e);var t=y(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).refresh_list=function(){var e=JSON.parse(JSON.stringify(n.state.list));n._isMounted&&(n.setState({list:[]}),n.setState({list:e}))},n.set_fav=function(e){API_.getConfig("favorite_leagues",n.state.favorite).then((function(t){t.includes(e)?t=t.filter((function(t){if(t!=e)return t})):t.push(e),n.setState({favorite:t}),API_.setConfig("favorite_leagues",t)})),n.setState({})},n.onItem_clicked=function(e){n.props.navigation.navigate("League",{league_details:{league:e.league_name,league_img:e.img}})},n.state={list:[],key:"league_name",page:1,loading:!0,dynamic_style:g.k,favorite:[]},setTimeout((function(){n.get_leagues()}),300),n}return r()(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,Object(g.c)("styles_news").then((function(t){return e.setState({dynamic_style:t})})),API_.getConfig("favorite_leagues",this.state.favorite).then((function(t){e.setState({favorite:t})})),this.props.navigation.setOptions({title:"Leagues",headerRight:function(){return h.createElement(p.a,{name:"refresh",size:e.state.dynamic_style.title.fontSize,style:e.state.dynamic_style.icons,onPress:function(){e.get_leagues()}})}})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"get_leagues",value:function(){var e=this;API_.getConfig("favorite_leagues",this.state.favorite).then((function(t){API_.load_leagues().then((function(a){if(void 0==a||null==a)return null;var n=Object.keys(a).map((function(e){var t=a[e],n=!(!t||!t.logo)&&t.logo,s=t.ar_league_name?t.ar_league_name:t.league;return{img:API_.domain_o+n,league_name:s,id:t.league_id,koora_id:t.koora_id}}));n=(n=n.sort((function(e,t){return void 0!=e.koora_id?-1:1}))).sort((function(e,a){return t.indexOf(e.id)>t.indexOf(a.id)?-1:1})),e.setState({loading:!1,list:n,favorite:t})}))}))}},{key:"render",value:function(){return h.createElement(m.a,{style:this.state.dynamic_style.container},h.createElement(f.a,{minWidth:160,refresh_list:this.refresh_list,favorite:this.state.favorite,set_fav:this.set_fav,loading:this.state.loading,list:this.state.list,onclick:this.onItem_clicked,key_:this.state.key,key_key:"id"}))}}]),a}(h.Component);t.a=v},34:function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(5),r=a.n(i),o=a(6),l=a.n(o),c=a(8),u=a.n(c),_=a(3),d=a.n(_),h=a(0),m=a.n(h),f=a(37),p=a(80),g=a(19);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var s=d()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return u()(this,a)}}var v=function(e){l()(a,e);var t=y(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state={},n}return r()(a,[{key:"render",value:function(){var e=void 0!=this.props.color?this.props.color:"#5abfd8";return e=this.props.disabled?g.d.inactiveTintColor:e,m.a.createElement(f.a,{disabled:!!this.props.disabled&&this.props.disabled,activeOpacity:this.props.activeOpacity?this.props.activeOpacity:.5,onPress:this.props.onPress,style:[{paddingHorizontal:5,paddingVertical:5,justifyContent:"center"},this.props.style]},m.a.createElement(p.a,{name:void 0!=this.props.name?this.props.name:"rocket",size:void 0!=this.props.size?this.props.size:28,color:e}))}}]),a}(m.a.Component);t.a=v},340:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(4),r=a.n(i),o=a(5),l=a.n(o),c=a(6),u=a.n(c),_=a(8),d=a.n(_),h=a(3),m=a.n(h),f=a(0),p=a.n(f),g=a(2),y=a(41),v=a(22),b=a(32),w=a(69),k=a(19);function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m()(e);if(t){var s=m()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return d()(this,a)}}var E=function(e){u()(a,e);var t=x(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).init_cnx=function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 10:t.next=17;break;case 12:return t.prev=12,t.t0=t.catch(6),console.log(t.t0),API_.showMsg(t.t0+"","danger"),t.abrupt("return",!1);case 17:return t.next=19,s.a.awrap(n.control.isAvailable());case 19:return t.sent,t.next=22,s.a.awrap(n.control.getTokenPromise());case 22:e=(e=t.sent)||"",API_.showMsg("Token : "+e,"info",void 0,1e3),n.setState({tv_token:token});case 26:case"end":return t.stop()}}),null,null,[[6,12]],Promise)},n.sendKey=function(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return API_.showMsg("Sending key ["+e+"] ...","info",void 0,800),t.next=3,s.a.awrap(n.control.sendKeyPromise(e));case 3:API_.showMsg("Sent","info",void 0,800);case 4:case"end":return t.stop()}}),null,null,null,Promise)},n.closeCnx=function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n.control.closeConnection();case 1:case"end":return e.stop()}}),null,null,null,Promise)},n.state={dynamic_style:k.l,list:[],tv_ip:"192.168.1.2",tv_port:8002,tv_mac:"a2:a4:45:55:aa:12",nameApp:"",tv_token:"",debug:!0},n.control=!1,n}return l()(a,[{key:"componentDidMount",value:function(){var e=this;Object(k.c)("styles_settings").then((function(t){return e.setState({dynamic_style:t})}))}},{key:"componentWillUnmount",value:function(){}},{key:"LoadingIndicatorView",value:function(){return p.a.createElement(w.a,{color:"#009b88",size:"large"})}},{key:"get_conf",value:function(){return{debug:this.state.debug,ip:this.state.tv_ip,mac:this.state.tv_mac,nameApp:this.state.nameApp,port:this.state.tv_port,token:this.state.tv_token}}},{key:"render",value:function(){var e=this;return p.a.createElement(b.a,{style:this.state.dynamic_style.container,keyboardShouldPersistTaps:"handled"},p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"TV ip "),p.a.createElement(y.a,{style:this.state.dynamic_style.settings_row_input,placeholder:" 0.0.0.0 ",placeholderTextColor:"#ecf0f1",onChangeText:function(t){e.setState({tv_ip:t.toLowerCase()})},value:this.state.tv_ip,autoCorrect:!1,autoCapitalize:"none",keyboardType:"numeric"})),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"TV port "),p.a.createElement(y.a,{style:this.state.dynamic_style.settings_row_input,placeholder:" 8002 ",placeholderTextColor:"#ecf0f1",onChangeText:function(t){e.setState({tv_port:t.toLowerCase()})},value:this.state.tv_port,autoCorrect:!1,autoCapitalize:"none",keyboardType:"numeric"})),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"TV mac "),p.a.createElement(y.a,{style:this.state.dynamic_style.settings_row_input,placeholder:" aa:ac:ad:ac ",placeholderTextColor:"#ecf0f1",onChangeText:function(t){e.setState({tv_mac:t.toLowerCase()})},value:this.state.tv_mac,autoCorrect:!1,autoCapitalize:"none"})),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Name APP "),p.a.createElement(y.a,{style:this.state.dynamic_style.settings_row_input,placeholder:" NodeJS ",placeholderTextColor:"#ecf0f1",onChangeText:function(t){e.setState({nameApp:t.toLowerCase()})},value:this.state.nameApp,autoCorrect:!1,autoCapitalize:"none"})),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"API token "),p.a.createElement(y.a,{style:this.state.dynamic_style.settings_row_input,placeholder:" abcd ",placeholderTextColor:"#ecf0f1",onChangeText:function(t){e.setState({tv_token:t.toLowerCase()})},value:this.state.tv_token,autoCorrect:!1,autoCapitalize:"none"})),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Init cnx "),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:"Cnx",onPress:function(){e.init_cnx()}}))),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Home key "),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:"Home",onPress:function(){e.sendKey(KEYS.KEY_HOME)}}))),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Power key "),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:"Power",onPress:function(){e.sendKey(KEYS.KEY_POWER)}}))))}}]),a}(p.a.Component);t.a=E},341:function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(5),r=a.n(i),o=a(6),l=a.n(o),c=a(8),u=a.n(c),_=a(3),d=a.n(_),h=a(0),m=a.n(h),f=a(35),p=a(9);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var s=d()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return u()(this,a)}}var y=function(e){l()(a,e);var t=g(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state={},n}return r()(a,[{key:"render",value:function(){var e=this.props.style,t=this.props.bold?v.kufi_bold:v.kufi_regular;if(e&&"bold"==e.fontWeight){try{e=JSON.parse(JSON.stringify(p.a.flatten(this.props.style)))}catch(a){}t=v.kufi_bold,e.fontWeight="normal"}return t=this.props.noFonts?e:[t,e],m.a.createElement(f.a,{style:t,numberOfLines:this.props.numberOfLines},this.props.children)}}]),a}(m.a.Component),v=p.a.create({kufi_regular:{fontFamily:"DroidKufi-Regular"},kufi_bold:{fontFamily:"DroidKufi-Bold"}});t.a=y},342:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(4),r=a.n(i),o=a(5),l=a.n(o),c=a(47),u=function(){function e(){var t=this;r()(this,e),this.getInfo=function(){var e,a,n;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e={},i.next=3,s.a.awrap(c.k());case 3:for(i.t0=i.sent,e.device_type=c.a[i.t0],e.osName=c.v,e.osInternalBuildId=c.u,e.manufacturer=c.r,e.brand=c.b,e.modelName=c.t,e.modelId=c.s,e.designName=c.c,e.productName=c.x,e.platformApiLevel=c.w,e.navigator=t.getinfoBrowser(),a=Object.keys(e),n=0;n<a.length;n++)e[a[n]]=null==e[a[n]]?"-":e[a[n]],e[a[n]]=e[a[n]].toLowerCase&&["unknown","unknown.unknown"].includes(e[a[n]].toLowerCase())?"-":e[a[n]];return i.abrupt("return",e);case 18:case"end":return i.stop()}}),null,null,null,Promise)},this._getInfo=function(){var e,a,n;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e={},i.next=3,s.a.awrap(c.getBaseOs());case 3:return e.base_od=i.sent,i.next=6,s.a.awrap(c.getBrand());case 6:return e.brand=i.sent,i.next=9,s.a.awrap(c.getDevice());case 9:return e.device=i.sent,i.next=12,s.a.awrap(c.getDeviceId());case 12:return e.device_id=i.sent,i.next=15,s.a.awrap(c.getDeviceName());case 15:return e.device_name=i.sent,i.next=18,s.a.awrap(c.getMacAddress());case 18:return e.mac_adress=i.sent,i.next=21,s.a.awrap(c.getBuildId());case 21:return e.build_id=i.sent,i.next=24,s.a.awrap(c.getFirstInstallTime());case 24:return e.first_install_time=i.sent,i.next=27,s.a.awrap(c.getReadableVersion());case 27:return e.readable_version=i.sent,i.next=30,s.a.awrap(c.getSystemVersion());case 30:return e.system_version=i.sent,i.next=33,s.a.awrap(c.getUniqueId());case 33:return e.unique_id=i.sent,i.next=36,s.a.awrap(c.getUserAgent());case 36:return e.user_agent=i.sent,e.navigator=t.getinfoBrowser(),i.next=40,s.a.awrap(c.getAvailableLocationProviders());case 40:for(e.available_location_providers=i.sent,a=Object.keys(e),n=0;n<a.length;n++)e[a[n]]=null==e[a[n]]?"-":e[a[n]],e[a[n]]=e[a[n]].toLowerCase&&["unknown","unknown.unknown"].includes(e[a[n]].toLowerCase())?"-":e[a[n]];return i.abrupt("return",e);case 44:case"end":return i.stop()}}),null,null,null,Promise)},this.getInfo().then((function(e){t.infos=e}))}return l()(e,[{key:"getinfoBrowser",value:function(){if(API_&&1==API_.isWeb&&void 0==navigator)return!1;for(var e in this.browser_infos={},navigator)try{if("string"!=typeof e||"string"!=typeof navigator[e])continue;this.browser_infos[e]=navigator[e]}catch(t){}return this.browser_infos}}]),e}();t.a=u},346:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(4),r=a.n(i),o=a(5),l=a.n(o),c=a(6),u=a.n(c),_=a(8),d=a.n(_),h=a(3),m=a.n(h),f=a(0),p=a.n(f),g=a(2),y=a(23),v=a(22),b=a(63),w=a(32),k=a(25),x=a(69),E=a(70),P=a(19),C=a(39),S=a(41);function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m()(e);if(t){var s=m()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return d()(this,a)}}var A=function(e){u()(n,e);var t=I(n);function n(e){var a;return r()(this,n),(a=t.call(this,e)).signUp=function(e,t){return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({savingCredents:!0}),n.next=3,s.a.awrap(API_.setCredentials(a.state.email,a.state.password));case 3:return n.next=5,s.a.awrap(backup.newUser(e,t));case 5:if(!n.sent){n.next=9;break}return n.next=9,s.a.awrap(a.saveCredentials());case 9:a.setState({savingCredents:!1});case 10:case"end":return n.stop()}}),null,null,null,Promise)},a.state={email:backup&&backup.email?backup.email:"",password:"",dynamic_style:a.props.dynamic_style,savingCredents:!1},a}return l()(n,[{key:"saveCredentials",value:function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({savingCredents:!0}),e.next=3,s.a.awrap(API_.setCredentials(this.state.email,this.state.password));case 3:return e.next=5,s.a.awrap(backup.changeClient());case 5:if(0==e.sent){e.next=12;break}return e.next=9,s.a.awrap(backup.load_settings());case 9:return this.props.closeModal(),e.next=12,s.a.awrap(backup.load_teams());case 12:this.setState({savingCredents:!1});case 13:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"render_loggeding",value:function(){}},{key:"render",value:function(){var e=this,t=API_.isWeb?a(93).default:C.a;return p.a.createElement(t,{animationType:"slide",transparent:!0,visible:this.props.modal_visible,onRequestClose:function(){return e.props.closeModal()}},p.a.createElement(g.a,{style:this.state.dynamic_style.modal_view_container},p.a.createElement(g.a,{style:[this.state.dynamic_style.modal_view,this.state.dynamic_style.modal_view_small]},p.a.createElement(g.a,{style:this.state.dynamic_style.modal_body},p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(S.a,{style:this.state.dynamic_style.settings_row_input,placeholder:" UserName/email ",placeholderTextColor:"#ecf0f1",onChangeText:function(t){e.setState({email:t.toLowerCase()})},value:this.state.email,autoCompleteType:"email",autoCorrect:!1,autoCapitalize:"none",keyboardType:"email-address"})),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(S.a,{style:this.state.dynamic_style.settings_row_input,placeholder:" Password ",placeholderTextColor:"#ecf0f1",onChangeText:function(t){e.setState({password:t})},value:this.state.password,type:"password",secureTextEntry:!0,autoCorrect:!1,autoCapitalize:"none"}))),p.a.createElement(g.a,{style:this.state.dynamic_style.footer},p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:"Sign in",disabled:this.state.savingCredents||""==this.state.email||""==this.state.password,color:"#2ecc71",onPress:function(){e.saveCredentials()}})),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:"Cancel",disabled:this.state.savingCredents,color:"#f39c12",onPress:function(){e.props.closeModal()}})),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:"SignUp",disabled:this.state.savingCredents||""==this.state.email||""==this.state.password,color:"#3498db",onPress:function(){e.signUp()}}))))))}}]),n}(p.a.Component),T=a(35);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m()(e);if(t){var s=m()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return d()(this,a)}}var R=function(e){u()(n,e);var t=O(n);function n(e){var a;return r()(this,n),(a=t.call(this,e)).state={dynamic_style:a.props.dynamic_style,savingCredents:!1,dynamic_style_colors:{}},a}return l()(n,[{key:"componentDidMount",value:function(){var e=this;Object(P.c)("styles_notif").then((function(t){return e.setState({dynamic_style_colors:t})}))}},{key:"render",value:function(){var e=this,t=API_.isWeb?a(93).default:C.a,n=0,s=[{time:" Time",type:"Type",body:"Body"}].concat(API_.messages_history).map((function(t){var a=e.state.dynamic_style_colors["txt_"+t.type]?t.type:"",s=""!=a?e.state.dynamic_style_colors["bg_"+a]:{},i=""!=a?e.state.dynamic_style_colors["txt_"+a]:{};return n+=1,p.a.createElement(g.a,{style:{flexDirection:"row",flexWrap:"wrap",width:"100%",paddingVertical:2},key:t.time+n},p.a.createElement(T.a,{style:e.state.dynamic_style.log_time_text},2==t.time.split(" ").length?t.time.split(" ")[1]:""),p.a.createElement(T.a,{style:[e.state.dynamic_style.log_type_text,i]},t.type),p.a.createElement(g.a,{style:[e.state.dynamic_style_colors.indecator_thin,s]}),p.a.createElement(T.a,{style:[e.state.dynamic_style.log_msg_text,i]},t.body))}));return p.a.createElement(t,{animationType:"slide",transparent:!0,visible:this.props.modal_visible,onRequestClose:function(){return e.props.closeModal()}},p.a.createElement(g.a,{style:this.state.dynamic_style.modal_view_container},p.a.createElement(g.a,{style:[this.state.dynamic_style.modal_view,this.state.dynamic_style.modal_view_large]},p.a.createElement(g.a,{style:[this.state.dynamic_style.modal_body,{justifyContent:"flex-start"}]},p.a.createElement(w.a,{style:{width:"100%",backgroundColor:"#646c78"}},s)),p.a.createElement(g.a,{style:this.state.dynamic_style.footer},p.a.createElement(g.a,{style:this.state.dynamic_style.footer_button},p.a.createElement(v.a,{title:"Cancel",color:"#f39c12",onPress:function(){return e.props.closeModal()}}))))))}}]),n}(p.a.Component),M=a(71),L=a(53);function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m()(e);if(t){var s=m()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return d()(this,a)}}var D=function(e){u()(n,e);var t=W(n);function n(e){var a;return r()(this,n),(a=t.call(this,e)).load_notif_matches=function(){var e,t,n,i,r;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:for(e=API_.notifications_matches,t=(t=(t=e?Object.values(e).map((function(e){var t=e.content&&e.content.data&&e.content.data.data?e.content.data.data:{};if(0==Object.keys(t).length&&e.id)return e;try{t=JSON.parse(t)}catch(a){console.log(a,t)}return t})):[]).filter((function(e){return e&&Object.keys(e)&&Object.keys(e).length>0}))).sort((function(e,t){return e.date<t.date?-1:0})),n={},i=0;i<t.length;i++)r=t[i],void 0==n[r.date]?n[r.date]=[r]:n[r.date].push(r);return t=n&&Object.keys(n).length>0?Object.keys(n).map((function(e){var t="";try{t=API_.days[API_.convert_time_o(n[e][0].date+" 00:00").getDay()]}catch(a){}return{title:e+"-"+t,data:n[e]}})):[],o.next=9,s.a.awrap(API_.set_logos(t));case 9:t=o.sent,a.setState({list:t});case 11:case"end":return o.stop()}}),null,null,null,Promise)},a._onMatch_LongPressed=function(e){Object(M.b)(e).then((function(e){if(0==e)return!1;a.setState({notifications_matches:[]}),Object(M.a)().then((function(e){a.setState({notifications_matches:e})}))}))},a.onMatch_clicked=function(e){var t=a.state.notifications_matches[e.id+""]?a.state.notifications_matches[e.id+""]:"not exeist : "+e.id;alert(t.trigger&&t.trigger.value?API_.get_date_time(new Date(t.trigger.value)):"No value")},a.refresh_list=function(){var e=JSON.parse(JSON.stringify(a.state.list));a._isMounted?(a.setState({list:[],page:1}),a.setState({list:e})):alert("unmounted")},a.state={dynamic_style:a.props.dynamic_style,dynamic_style_colors:{},list:[],notifications_matches:[],minWidth:0},a._isMounted=!1,a}return l()(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,Object(P.c)("styles_notif").then((function(t){return e.setState({dynamic_style_colors:t})})),this.load_notif_matches()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=API_.isWeb?a(93).default:C.a,n=p.a.createElement(L.a,{fixedWidth:!0,minWidth:this.state.minWidth,list:this.state.list,onclick:this.onMatch_clicked,onLongPress:this._onMatch_LongPressed,key_:"home_team",key_key:"id",disableHide:!0,refresh_list:this.refresh_list});return p.a.createElement(t,{animationType:"slide",transparent:!0,visible:this.props.modal_visible,onRequestClose:function(){return e.props.closeModal()}},p.a.createElement(g.a,{style:this.state.dynamic_style.modal_view_container},p.a.createElement(g.a,{style:[this.state.dynamic_style.modal_view,this.state.dynamic_style.modal_view_large]},p.a.createElement(g.a,{style:[this.state.dynamic_style.modal_body],onLayout:function(t){if(0==e.state.minWidth){var a=t.nativeEvent.layout,n=(a.x,a.y,a.width);a.height;e.state.minWidth=parseInt(n),e.setState({})}}},this.state.minWidth>0&&this.state.list.length>0?n:null),p.a.createElement(g.a,{style:this.state.dynamic_style.footer},p.a.createElement(g.a,{style:this.state.dynamic_style.footer_button},p.a.createElement(v.a,{title:"Cancel",color:"#f39c12",onPress:function(){return e.props.closeModal()}}))))))}}]),n}(p.a.Component),j=a(76),V=a(44),N=a(80),z=a(34);function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m()(e);if(t){var s=m()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return d()(this,a)}}var F=function(e){u()(n,e);var t=H(n);function n(e){var a;return r()(this,n),(a=t.call(this,e)).sendMsg=function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({actionRunning:!0}),e.next=3,s.a.awrap(backup.pushNotification(backup.email,a.state.msg_text,{action:"msg",msg:a.state.msg_text,by:backup.email},[a.msg_user]));case 3:e.sent,a.setState({actionRunning:!1,modalVisible_msg:!1});case 5:case"end":return e.stop()}}),null,null,null,Promise)},a.state={user_username:"",users:[],usersLoading:!0,actionRunning:!1,msg_text:"",modalVisible_msg:!1,dynamic_style:a.props.dynamic_style,focused_user:""},a}return l()(n,[{key:"componentDidMount",value:function(){this.loadUsers()}},{key:"setUser_admin_tmp",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tmp_admin";this.setState({actionRunning:!0}),backup.partnersManager(a,e).then((function(e){t.setState({actionRunning:!1}),t.loadUsers(),e[1]&&""!=e[1]&&alert(e[1])}))}},{key:"loadUsers",value:function(){var e=this;backup.partnersManager("getAll").then((function(t){t[1]&&""!=t[1]&&alert(t[1]),e.setState({users:t[0],usersLoading:!1,actionRunning:!1})}))}},{key:"updateUserStatus",value:function(e){var t=this;this.setState({actionRunning:!0}),backup.usersManager(e.email,e.disabled).then((function(e){e&&2==e.length&&0==e[0]&&alert(e[1]),t.loadUsers()}))}},{key:"render_users",value:function(){var e=this;return this.state.usersLoading?p.a.createElement(x.a,{size:"large",color:"#00ff00"}):this.state.users&&this.state.users.map?this.state.users.map((function(t,a){var n=t.email,s=!!t.is_tmp_adm&&t.is_tmp_adm,i=t.lastLogin?API_.get_date_time(t.lastLogin):"-";return p.a.createElement(g.a,{style:{flexDirection:"row",width:"95%",height:40,borderStyle:"solid",borderWidth:1,margin:3,alignItems:"center"},key:n+a},p.a.createElement(j.a,{style:{flex:1,height:"100%",justifyContent:"center"},onPress:function(){return e.setState({focused_user:n})}},p.a.createElement(g.a,{style:{flex:1,justifyContent:"center",width:"100%",height:"100%"}},p.a.createElement(T.a,{style:{color:t.disabled?"#95a5a6":"#fff",textAlign:"left",justifyContent:"center",width:"100%"}}," ",n," "),e.state.focused_user==n?p.a.createElement(T.a,{style:{color:t.disabled?"#95a5a6":"#fff",textAlign:"left",flex:50,fontSize:8,marginHorizontal:1,width:"100%"}},i):null)),p.a.createElement(g.a,{style:{flexDirection:"row",alignSelf:"center"}},p.a.createElement(z.a,{name:s?"minus":"plus",disabled:e.state.actionRunning,size:28,color:e.state.actionRunning?"#bdc3c7":s?"#e74c3c":"#2ecc71",onPress:function(){s?e.setUser_admin_tmp(n,"remove_tmp_admin"):e.setUser_admin_tmp(n,"tmp_admin")}}),p.a.createElement(z.a,{name:"paper-plane",disabled:e.state.actionRunning,size:28,color:e.state.actionRunning?"#bdc3c7":"#3498db",onPress:function(){e.msg_user=n,e.setState({modalVisible_msg:!0})}}),p.a.createElement(z.a,{name:t.disabled?"unlock":"lock",onPress:function(){return e.updateUserStatus(t)},size:28,color:e.state.actionRunning?"#bdc3c7":"#3498db",disabled:e.state.actionRunning})))})):null}},{key:"render_modal_msg",value:function(){var e=this,t=API_.isWeb?a(93).default:C.a;return p.a.createElement(t,{animationType:"slide",transparent:!0,visible:this.state.modalVisible_msg,onRequestClose:function(){e.setState({modalVisible_msg:!1})}},p.a.createElement(g.a,{style:{flex:.4,backgroundColor:"#2c3e5066"}}),p.a.createElement(g.a,{style:{height:350,width:"100%",backgroundColor:"#646c78",alignItems:"center"}},p.a.createElement(T.a,{style:{}}," Message to : ",this.msg_user),p.a.createElement(S.a,{style:{width:"95%",height:200,backgroundColor:"#95a5a6",padding:5,marginBottom:10,fontSize:25,color:"white",textAlignVertical:"top"},multiline:!0,editable:!0,maxLength:40,onChangeText:function(t){return e.setState({msg_text:t})},value:this.state.msg_text}),p.a.createElement(N.a.Button,{name:"paper-plane",disabled:this.state.actionRunning,onPress:function(){e.sendMsg()}},"Send")),p.a.createElement(g.a,{style:{flex:1,backgroundColor:"#2c3e5066"}}))}},{key:"render",value:function(){var e=this,t=API_.isWeb?a(93).default:C.a;return p.a.createElement(t,{animationType:"slide",transparent:!0,visible:this.props.modal_visible,onRequestClose:function(){V.a.dismiss(),e.props.closeModal()}},p.a.createElement(g.a,{style:this.state.dynamic_style.modal_view_container},p.a.createElement(g.a,{style:[this.state.dynamic_style.modal_view,this.state.dynamic_style.modal_view_large]},p.a.createElement(g.a,{style:this.state.dynamic_style.modal_body},p.a.createElement(w.a,{style:{width:"100%",backgroundColor:"#646c78"}},this.render_users()),this.render_modal_msg()),p.a.createElement(g.a,{style:this.state.dynamic_style.footer},p.a.createElement(g.a,{style:this.state.dynamic_style.footer_button},p.a.createElement(v.a,{title:"Cancel",color:"#f39c12",onPress:function(){return e.props.closeModal()}}))))))}}]),n}(p.a.Component),U=a(539),B=a(117),q=a(26);function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m()(e);if(t){var s=m()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return d()(this,a)}}var G=function(e){u()(a,e);var t=J(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).picker_themes=function(){var e=P.m.map((function(e){return p.a.createElement(k.a.Item,{label:e,value:e,key:e})}));return p.a.createElement(k.a,{selectedValue:n.state.theme,style:{height:"90%",flex:1,backgroundColor:"#2d3436",color:"#dfe6e9"},onValueChange:function(e,t){API_.setConfig("theme",e).then((function(e){API_.isWeb?(reloading_app=!0,location.reload()):U.c()}))}},e)},n.state={list:[],modalVisible_login:!1,modalVisible_history:!1,loading:!0,dynamic_style:P.l,theme:Global_theme_name,fav_teams_nbr:0,fav_teams_k_nbr:0,fav_leagues_nbr:0,fav_channels_nbr:0,fav_players_nbr:0,window_height:parseInt(y.a.get("window").height),window_width:parseInt(y.a.get("window").width),modalVisible_users:!1,modalVisible_matchesNotif:!1,is_debug:API_.is_debug,filtering:API_.filtering,is_landScape:!1},n.apk_url="https://github.com/imadboy89/download/raw/main/almatch.apk",n}return l()(a,[{key:"load_favs",value:function(){var e,t,a,n,i,r;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,s.a.awrap(API_.getConfig("favorite_leagues",[]));case 2:return e=o.sent,o.next=5,s.a.awrap(API_.getConfig("favorite_teams_k",[]));case 5:return t=o.sent,o.next=8,s.a.awrap(API_.getConfig("favorite_teams",[]));case 8:return a=o.sent,o.next=11,s.a.awrap(API_.getConfig("favorite_channels",[]));case 11:return n=o.sent,o.next=14,s.a.awrap(API_.getConfig("favorite_players",[]));case 14:return i=o.sent,o.next=17,s.a.awrap(API_.getTeam_logo_k());case 17:r=o.sent,this.setState({fav_leagues_nbr:e.length?e.length:0,fav_teams_nbr:a.length?a.length:0,fav_teams_k_nbr:t.length?t.length:0,fav_channels_nbr:n.length?n.length:0,fav_players_nbr:i.length?i.length:0,is_debug:API_.is_debug,filtering:API_.filtering,teams_inf_k:r&&Object.keys(r)&&Object.keys(r).length?Object.keys(r).length:0});case 19:case"end":return o.stop()}}),null,this,null,Promise)}},{key:"componentDidMount",value:function(){var e=this;this.load_favs();Object(P.c)("styles_settings").then((function(t){return e.setState({dynamic_style:t})})),B.b().then((function(e){})).catch((function(e){return API_.showMsg(e+"","warning")})),B.a().then((function(t){e.setState({is_landScape:[3,4].includes(t)})})).catch((function(e){return API_.showMsg(e+"","warning")}))}},{key:"componentWillUnmount",value:function(){}},{key:"LoadingIndicatorView",value:function(){return p.a.createElement(x.a,{color:"#009b88",size:"large"})}},{key:"render_modal_history",value:function(){var e=this;return p.a.createElement(R,{modal_visible:this.state.modalVisible_history,dynamic_style:this.state.dynamic_style,closeModal:function(){e.setState({modalVisible_history:!1})}})}},{key:"render_modal_matchesNotifs",value:function(){var e=this;return p.a.createElement(D,{navigation:this.props.navigation,modal_visible:this.state.modalVisible_matchesNotif,dynamic_style:this.state.dynamic_style,closeModal:function(){e.setState({modalVisible_matchesNotif:!1})}})}},{key:"render_modal_login",value:function(){var e=this;if(!backup||!backup.is_auth)return p.a.createElement(A,{modal_visible:this.state.modalVisible_login,dynamic_style:this.state.dynamic_style,closeModal:function(){e.state.modalVisible_login=!1,e.load_favs()}})}},{key:"render_modal_users",value:function(){var e=this;return p.a.createElement(F,{modal_visible:this.state.modalVisible_users,dynamic_style:this.state.dynamic_style,closeModal:function(){return e.setState({modalVisible_users:!1})}})}},{key:"render",value:function(){var e=this;this.state.video&&this.state.video.videoId;return p.a.createElement(w.a,{style:this.state.dynamic_style.container,keyboardShouldPersistTaps:"handled"},p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Login "),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:backup&&backup.is_auth?"LogOUT":"Login",color:backup&&backup.is_auth?"#f39c12":"#3498db",onPress:function(){backup&&backup.is_auth?backup.login(!0).then((function(t){API_.showMsg("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c \u060c \u0646\u0631\u0627\u0643 \u0644\u0627\u062d\u0642\u064b\u0627!","warning"),e.setState({})})):e.setState({modalVisible_login:!0})}}))),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"User "),p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_input},backup.email)),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Theme "),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},this.picker_themes())),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Clean cache "),p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_input},"clean")),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Filtering Matches "),p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(E.a,{style:{justifyContent:"center",marginVertical:"auto",marginHorizontal:10,width:40},trackColor:{false:"#767577",true:"#81b0ff"},thumbColor:this.state.is_debug?"#f5dd4b":"#f4f3f4",ios_backgroundColor:"#3e3e3e",onValueChange:function(){API_.filtering=!e.state.filtering,API_.setConfig("filtering",API_.filtering),e.setState({filtering:API_.filtering})},value:this.state.filtering}))),1!=backup.admin?null:p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Users "),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:"Manage",onPress:function(){return e.setState({modalVisible_users:!0})}}))),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Loaded Teams Info "),p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_input},this.state.teams_inf_k)),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Favorite Leagues "),p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_input},this.state.fav_leagues_nbr)),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Favorite teams "),p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_input},this.state.fav_teams_nbr," | ",this.state.fav_teams_k_nbr)),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Favorite channels "),p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_input},this.state.fav_channels_nbr)),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Favorite Players "),p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_input},this.state.fav_players_nbr)),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Screen size "),p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_input},this.state.window_height," X ",this.state.window_width)),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Download APK "),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:"Download",onPress:function(){API_.isWeb?window.open(e.apk_url,"_blank"):b.a.canOpenURL(e.apk_url).then((function(t){t?b.a.openURL(e.apk_url):notifyMessage("This link is not supported : "+url)}))}}))),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Debug mode "),p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(E.a,{style:{justifyContent:"center",marginVertical:"auto",marginHorizontal:10,width:40},trackColor:{false:"#767577",true:"#81b0ff"},thumbColor:this.state.is_debug?"#f5dd4b":"#f4f3f4",ios_backgroundColor:"#3e3e3e",onValueChange:function(){API_.is_debug=!e.state.is_debug,API_.setConfig("is_debug",API_.is_debug),e.setState({is_debug:API_.is_debug})},value:this.state.is_debug}))),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"landScape mode : "),p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(E.a,{style:{justifyContent:"center",marginVertical:"auto",marginHorizontal:10,width:40},trackColor:{false:"#767577",true:"#81b0ff"},thumbColor:this.state.is_debug?"#f5dd4b":"#f4f3f4",ios_backgroundColor:"#3e3e3e",onValueChange:function(){B.d(q.b.LANDSCAPE_LEFT).then((function(t){if(t){var a=e.state.is_landScape?q.b.PORTRAIT_UP:q.b.LANDSCAPE_LEFT;B.c(a).then((function(t){t&&e.setState({is_landScape:!e.state.is_landScape})})).catch((function(e){API_.showMsg(e+"","warning")}))}else API_.showMsg("LANDSCAPE_LEFT not supported on this device !")})).catch((function(e){return API_.showMsg(e+"","warning")}))},value:this.state.is_landScape}))),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"Testing notifff "),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:"Testing notifff",onPress:function(){return API_.showMsg("Testing notifff 123",["info","danger","warning","success","info","danger","warning","success","info"][parseInt((Math.random(1)+"").slice(2,3))],void 0,1e4)}}))),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"load channels "),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:"load",disabled:API_.load_channels_running,onPress:function(){e.setState({}),API_.load_channels().then((function(t){return e.setState({})}))}}))),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"load external channels "),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:"load",onPress:function(){return API_.load_external_channels().then((function(e){return API_.showMsg("Loading Channels done ["+Object.keys(API_.external_channels).length+"] ["+e+"]")}))}}))),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"load teams "),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:"load",onPress:function(){return backup.load_teams().catch((function(e){return alert(e)}))}}))),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"logHistory "),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{color:"#2196F3",title:"logHistory",onPress:function(){return e.setState({modalVisible_history:!0})}}))),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"matches notif "),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:"List",onPress:function(){return e.setState({modalVisible_matchesNotif:!0})}}))),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label},"TEST TV "),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row_input},p.a.createElement(v.a,{title:"TV controller",onPress:function(){return e.props.navigation.navigate("TV")}}))),p.a.createElement(g.a,{style:this.state.dynamic_style.settings_row},p.a.createElement(Text,{style:this.state.dynamic_style.settings_row_label}," ")),this.render_modal_history(),this.render_modal_login(),1==this.state.modalVisible_matchesNotif?this.render_modal_matchesNotifs():null,1!=backup.admin?null:this.render_modal_users())}}]),a}(p.a.Component);t.a=G},360:function(e,t,a){a(361),e.exports=a(518)},361:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){console.info("Registered service-worker",e),serviceWorker=e;try{backup.savePushToken()}catch(t){console.log(t)}serviceWorker.addEventListener("installed",(function(e){console.log(e.isUpdate),e.isUpdate&&console.log("NEw SW installed")}))})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},493:function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(5),r=a.n(i),o=a(6),l=a.n(o),c=a(8),u=a.n(c),_=a(3),d=a.n(_),h=a(0),m=a(2),f=a(9),p=a(41),g=a(66),y=(a(53),a(119),a(34)),v=a(199);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var s=d()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return u()(this,a)}}!function(e){l()(a,e);var t=b(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state={url_wv:"https://facebook.com/login",list:[],modalVisible_match:!1,show_datPicker:!1,matches_date:new Date,loading:!1,doRender:!1},n.injectedJS='\n      //alert("from inside");\n      (function() {\n        if (confirm(\'Render ...?\')) {\n          document.getElementsByTagName("body")[0].outerHTML = document.getElementsByTagName("body")[0].outerText;\n        }\n      })();\n      \n    ',n}r()(a,[{key:"get_url_content",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;API_.get_matches(t).then((function(t){if("true"==t.status){var a=Object.keys(t.data).map((function(e){return{title:e,data:t.data[e]}}));e.setState({list:a});for(var n=0;n<a.length;n++);}}))}},{key:"_onWebViewStateChange",value:function(e){console.log(e.loading),this.setState({loading:e.loading})}},{key:"render",value:function(){var e=this;return h.createElement(m.a,{style:w.container},h.createElement(m.a,{style:w.add_bar},h.createElement(p.a,{style:{height:40,borderColor:"gray",borderWidth:1,flex:8,color:"#fff"},onChangeText:function(t){return e.setState({input_val:t})},value:this.state.input_val}),h.createElement(y.a,{title:"pick date",name:"send",size:35,style:{marginLeft:10,flex:2,color:this.state.loading?"#a7abaf":"#0b6a6f"},onPress:function(){e.state.input_val="http"==e.state.input_val.slice(0,4)?e.state.input_val:"http://"+e.state.input_val;var t=encodeURIComponent(e.state.input_val);t="https://developers.facebook.com/tools/debug/echo/?q="+t,e.setState({url_wv:"https://developers.facebook.com/tools/debug/echo/?q="+t})}})),h.createElement(m.a,{style:{flex:20}},h.createElement(v.a,{style:{flex:1},injectedJavaScript:this.injectedJS,javaScriptEnabled:!0,domStorageEnabled:!0,onNavigationStateChange:this._onWebViewStateChange.bind(this),onLoadEnd:function(e){},source:{uri:this.state.url_wv},userAgent:"Mozilla/5.0 (Linux; Android 9.0.0;) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.116 Mobile Safari/537.36"})))}}])}(h.Component);var w=f.a.create({container:{flex:1,justifyContent:"center",paddingTop:g.a.statusBarHeight,backgroundColor:"#000"},paragraph:{margin:24,fontSize:18,fontWeight:"bold",textAlign:"center"},add_bar:{marginTop:10,flexDirection:"row",flexWrap:"wrap",flex:2}})},494:function(e,t,a){e.exports=a.p+"static/media/ptch.a355ccf1.jpg"},498:function(e,t,a){e.exports=a.p+"./fonts/DroidKufi-Regular.ttf"},499:function(e,t,a){e.exports=a.p+"./fonts/DroidKufi-Bold.ttf"},53:function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(5),r=a.n(i),o=a(6),l=a.n(o),c=a(8),u=a.n(c),_=a(3),d=a.n(_),h=a(0),m=a(2),f=a(37),p=a(38),g=a(59),y=a(32),v=a(149),b=a(88),w=a(23),k=a(76),x=a(55),E=a(19),P=a(34);function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var s=d()(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return u()(this,a)}}var S=function(e){l()(a,e);var t=C(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).componentDidMount=function(){n._isMounted=!0,Object(E.c)("styles_list").then((function(e){return n.setState({dynamic_style:e})})),w.a.addEventListener("change",n.check_width)},n.check_width=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=w.a.get("window").width<=1e3?w.a.get("window").width:1e3;if(n.windowWidth!=t){var a=Object(E.a)(API_.isWeb)?15:40;return a=n.minWidth<300?parseInt(a*(n.minWidth/300)):a,n.windowWidth=t,n.state.numColumns=parseInt(n.windowWidth/n.minWidth),n.state.numColumns=n.state.numColumns>=1?n.state.numColumns:1,n.elem_width=n.props.fixedWidth?n.minWidth:parseInt((n.windowWidth-a)/n.state.numColumns),e&&n.props.refresh_list&&n._isMounted&&n.props.refresh_list(1),!0}},n._render_item=function(e){var t=e.item;return h.createElement(f.a,{style:{width:n.elem_width,alignSelf:"center"},activeOpacity:.5,onPress:function(){n.props.onclick(t)},onLongPress:function(){n.props.onLongPress&&n.props.onLongPress(t)}},h.createElement(m.a,{style:{flexDirection:"row",flexWrap:"wrap",width:"100%",justifyContent:"center",alignItems:"center",alignContent:"center",marginHorizontal:3}},n.get_item(t,n.props.key_)))},n._render_header=function(e){var t=e.section,a=t.title,s=t.img,i=t.id,r=t.is_koora,o=t.options,l=n.get_fav_icon(a,i);if(void 0==a||""==a)return null;var c={flex:1},u=parseInt(n.windowWidth/14);return a.length>u&&(c={fontSize:17}),h.createElement(k.a,{style:n.state.dynamic_style.header_container,underlayColor:"green",activeOpacity:.9,onPress:function(){var e=0;try{e=API_.common_league_id({title:a,id:i,is_koora:r})}catch(t){}0!=e&&void 0!=n.props.refresh_list&&(n.state.header_to_hide.includes(e)?n.state.header_to_hide=n.state.header_to_hide.filter((function(t){if(t!=e)return t})):n.state.header_to_hide.push(e),n.props.refresh_list())}},h.createElement(m.a,{style:[{paddingLeft:3,paddingRight:1,flexDirection:"row",flexWrap:"wrap"},n.state.dynamic_style.header]},n.props.onLeaguePressed&&(void 0==o||o.includes("r"))?h.createElement(P.a,{name:"list-ol",color:"#130f40",size:n.state.dynamic_style.header.fontSize,onPress:function(){n.props.onLeaguePressed(a,s,i)}}):null,h.createElement(m.a,{style:{flex:7,maxHeight:"100%"}},h.createElement(Text,{style:[n.state.dynamic_style.header_components,c],numberOfLines:1},a)),l,h.createElement(m.a,{style:{width:API_._isBigScreen()?100:70,height:"99%"}},s?h.createElement(g.a,{style:n.state.dynamic_style.matche_league_logo_c,imageStyle:r?n.state.dynamic_style.matche_league_logo_k:n.state.dynamic_style.matche_league_logo,source:{uri:"https://"==s.slice(0,8)?s:API_.domain_o+s}}):null)))},n.toTop=function(){n.page!=n.props.page&&(n.page=n.props.page,1!=n.props.disable_toTop&&n.flatListRef&&n.flatListRef&&n.flatListRef.scrollToOffset&&n.flatListRef.scrollToOffset({animated:!0,offset:0}))},n.state={dynamic_style:!1,header_to_hide:[],numColumns:1,list:[]},n.minWidth=n.props.minWidth?n.props.minWidth:300,n.list=[],n.check_width(!1),n.flatListRef=!1,n.windowHeight=w.a.get("window").height,n.refs_list=[],n.refs_map={},n.page=n.props.page,n}return r()(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1,w.a.removeEventListener("change",this.check_width)}},{key:"componentDidUpdate",value:function(){}},{key:"get_item",value:function(e,t){var a=API_.isWeb?this.state.dynamic_style.shadow_3:this.state.dynamic_style.shadow_1;if("home_team"==t){var n=e.home_team_ar?e.home_team_ar:e.home_team,s=e.away_team_ar?e.away_team_ar:e.away_team;if(void 0==n||void 0==s)return null;var i={},r={},o=parseInt(this.windowWidth/19);n.length>o&&(i={fontSize:17}),s.length>o&&(r={fontSize:17}),e.home_team_status&&"w"==e.home_team_status.toLowerCase()&&(i.color=this.state.dynamic_style.team_name_winner),e.away_team_status&&"w"==e.away_team_status.toLowerCase()&&(r.color=this.state.dynamic_style.team_name_winner),e.home_team_status&&"l"==e.home_team_status.toLowerCase()&&(i.color=this.state.dynamic_style.team_name_drawer),e.away_team_status&&"l"==e.away_team_status.toLowerCase()&&(r.color=this.state.dynamic_style.team_name_drawer),this.props.favorite_teams&&this.props.favorite_teams.includes(e.home_team_id)&&(i.textDecorationLine="underline"),this.props.favorite_teams&&this.props.favorite_teams.includes(e.away_team_id)&&(r.textDecorationLine="underline");var l={};try{l=JSON.parse(JSON.stringify(this.state.dynamic_style.matche_team_time_live))}catch(k){}"Pen"==e.time_played?l.color="#ff5252":e.is_done&&(l.color="#8fa2ff",l.fontSize=16);var c=e.time_played>0?e.time_played+"'":e.time_played,u=API_.notifications_matches&&void 0!=API_.notifications_matches[e.id]?this.state.dynamic_style.matche_container_notif:{};return u=1==e.live?this.state.dynamic_style.matche_container_live:u,h.createElement(m.a,{style:[this.state.dynamic_style.matche_container,u,a]},h.createElement(m.a,{style:this.state.dynamic_style.matche_team_time},h.createElement(Text,{style:this.state.dynamic_style.matche_team_time_t,noFonts:!0},e.time),1==e.is_done?h.createElement(Text,{style:l},"\u0627\u0646\u062a\u0647\u062a"):null,1==e.live?h.createElement(Text,{style:l,noFonts:!0},c):null),e.home_team_badge&&e.away_team_badge?h.createElement(m.a,{style:this.state.dynamic_style.matche_team_badge},h.createElement(p.a,{style:this.state.dynamic_style.matche_team_logo,source:{uri:e.home_team_badge}}),h.createElement(p.a,{style:this.state.dynamic_style.matche_team_logo,source:{uri:e.away_team_badge}})):null,h.createElement(m.a,{style:this.state.dynamic_style.matche_team_names},h.createElement(Text,{style:[this.state.dynamic_style.matche_team_name_text,i],numberOfLines:1},n),h.createElement(Text,{style:[this.state.dynamic_style.matche_team_name_text,r],numberOfLines:1},s)),void 0==e.home_team_score_penalties?null:h.createElement(m.a,{style:this.state.dynamic_style.matche_team_score_penalties},h.createElement(Text,{style:this.state.dynamic_style.matche_team_score_text_penalties,noFonts:!0},e.home_team_score_penalties?e.home_team_score_penalties:"-"),h.createElement(Text,{style:this.state.dynamic_style.matche_team_score_text_penalties,noFonts:!0},e.away_team_score_penalties?e.away_team_score_penalties:"-")),h.createElement(m.a,{style:this.state.dynamic_style.matche_team_score},h.createElement(Text,{style:this.state.dynamic_style.matche_team_score_text,noFonts:!0},e.home_team_score?e.home_team_score:"-"),h.createElement(Text,{style:this.state.dynamic_style.matche_team_score_text,noFonts:!0},e.away_team_score?e.away_team_score:"-")))}if("title_news"==t||"league_name"==t){var _=this.get_fav_icon(e[t],"league_name"==t?e.id:0,!0),d=this.get_common_icon(e.title,e.koora_id,!0,"flag"),f=e.date&&e.date.slice&&"#"==e.date.slice(0,1)?API_.get_date2(new Date(1e3*e.date.replace("#",""))):e.date,y="title_news"==t?"stretch":"center";return h.createElement(m.a,{style:[this.state.dynamic_style.news_container,a]},h.createElement(g.a,{style:{flex:1,width:"100%"},source:{uri:e.img},imageStyle:{resizeMode:y}},e.date?h.createElement(Text,{style:{backgroundColor:"#00000091",color:"#fff",width:90,textAlign:"center"}},f):null,h.createElement(m.a,{style:this.state.dynamic_style.news_img_v},h.createElement(m.a,{style:this.state.dynamic_style.league_header},null!=_?_:null,h.createElement(m.a,{style:{flex:1}}),null!=d?d:null)),h.createElement(m.a,{style:this.state.dynamic_style.news_title_v},h.createElement(Text,{style:this.state.dynamic_style.news_title_t,numberOfLines:1},e[t]))))}if("category_name"==t){var v=e?e.category_photo?e.category_photo:e.img:void 0,b=v&&"http"==v.slice(0,4)?v:API_.domain_o+v;return h.createElement(m.a,{style:[this.state.dynamic_style.news_container,a]},h.createElement(g.a,{style:{flex:1,width:"100%"},source:{uri:b},imageStyle:{resizeMode:"stretch"}},h.createElement(m.a,{style:this.state.dynamic_style.news_img_v}),h.createElement(m.a,{style:this.state.dynamic_style.news_title_v},h.createElement(Text,{style:this.state.dynamic_style.news_title_t},e[t]))))}if(t.includes("related_")){var w=e[t];return"related_title"==t&&w&&w.split&&w.split("-").length>2&&w.split("-")[2].split("\u0636\u062f").length>1&&(w=w.split("-")[2]),h.createElement(Text,{style:this.state.dynamic_style.item,numberOfLines:1},"- ",w)}return h.createElement(Text,{style:this.state.dynamic_style.item,numberOfLines:1},"- ",e[t])}},{key:"get_fav_icon",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"star",i=n?E.d.text_color_default:E.d.background_color_default,r=null;return this.props.favorite&&this.props.set_fav&&(t=API_.common_league_id({title:e,id:t}),r=this.props.favorite.includes(t)?h.createElement(P.a,{name:s,onPress:function(){a.props.set_fav(t,e)},color:i}):h.createElement(P.a,{name:s+"-o",onPress:function(){a.props.set_fav(t,e)},color:i})),r}},{key:"get_common_icon",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"star",s=a?E.d.text_color_default:E.d.background_color_default;return t&&t>1?h.createElement(P.a,{name:n,color:s}):null}},{key:"setHidden",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0!=this.props.favorite&&void 0!=this.props.set_fav&&1!=this.props.disableHide&&!(this.windowHeight>=1e3||this.windowWidth>=1e3)){this.state.header_to_hide=t?[]:this.state.header_to_hide;for(var a=0;a<this.list.length;a++){var n=e||this.list[a].id;void 0!=(n=API_.common_league_id(this.list[a]))&&0!=n&&(0==this.props.favorite.includes(n)&&this.state.header_to_hide.push(n))}}}},{key:"create_refs",value:function(){return!1}},{key:"render_list",value:function(){var e=this,t=this.list_origin?JSON.parse(JSON.stringify(this.list_origin)).map((function(e){return delete e.data,e})):[],a=this.props.list?JSON.parse(JSON.stringify(this.props.list)).map((function(e){return delete e.data,e})):[],n=JSON.stringify(t)!=JSON.stringify(a);this.props.ListHeaderComponent!=this.ListHeaderComponent||(this.props.ListFooterComponent,this.ListFooterComponent);if(this.list_origin=this.props.list,this.ListFooterComponent=this.props.ListFooterComponent,this.ListHeaderComponent=this.props.ListHeaderComponent,this.list=this.props.list,this.list&&this.list[0]&&void 0==this.list[0].title&&(this.list=[{title:"",data:this.list}],n&&this.flatListRef&&this.toTop()),n&&this.setHidden(!1,n),this.list.length>0&&""!=this.list[0].title){this.create_refs();var s=this.list.map((function(t){return h.createElement(m.a,{style:{width:"100%"},key:t.title+t.id},e._render_header({section:t}),0==e.state.header_to_hide.includes(API_.common_league_id(t))?h.createElement(b.a,{numColumns:e.state.numColumns,stickySectionHeadersEnabled:!1,data:t.data,keyExtractor:function(t,a){return t[e.props.key_key]+""},renderItem:e._render_item,renderSectionHeader:e._render_header,columnWrapperStyle:e.state.numColumns>1?e.state.dynamic_style.columnWrapperStyle:null}):null)}));return h.createElement(y.a,{style:this.state.dynamic_style.list_container,key:JSON.stringify(this.list),refreshControl:this.props.refreshControl,onEndReached:this.props.onEndReached,scrollEventThrottle:0,onScroll:function(t){if(void 0!=e.props.onEndReached){var a=10;a+=t.nativeEvent.layoutMeasurement.height;var n=t.nativeEvent.contentSize.height-a-t.nativeEvent.contentOffset.y;t.nativeEvent.contentOffset.y>=t.nativeEvent.contentSize.height-a&&e.props.onEndReached({info:{distanceFromEnd:n}})}}},h.createElement(v.a,{style:this.state.dynamic_style.item_container},void 0!=this.props.ListHeaderComponent?this.props.ListHeaderComponent:null,s,void 0!=this.props.ListFooterComponent?this.props.ListFooterComponent:null))}for(var i=[],r=0;r<this.list.length;r++){var o=JSON.parse(JSON.stringify(this.list[r]));delete o.data,o.is_header=!0,i=i.concat(this.list[r]?this.list[r].data:[])}return 0==this.props.loading&&this.props.list&&0==this.props.list.length?h.createElement(h.Fragment,null,void 0!=this.props.ListHeaderComponent?this.props.ListHeaderComponent:void 0):h.createElement(m.a,{style:this.state.dynamic_style.list_container},h.createElement(v.a,{style:this.state.dynamic_style.item_container},h.createElement(b.a,{ref:function(t){e.flatListRef=t},ListHeaderComponent:void 0!=this.props.ListHeaderComponent?this.props.ListHeaderComponent:void 0,ListFooterComponent:void 0!=this.props.ListFooterComponent?this.props.ListFooterComponent:void 0,numColumns:this.state.numColumns,stickySectionHeadersEnabled:!1,onEndReached:this.props.onEndReached,refreshControl:this.props.refreshControl,data:i,keyExtractor:function(t,a){return t[e.props.key_key]+""},renderItem:this._render_item,renderSectionHeader:this._render_header})))}},{key:"render",value:function(){return 0!=this.props.loading||!this.check_width(!1)&&0!=this.state.dynamic_style&&void 0!=this.props.list?h.createElement(m.a,{style:this.state.dynamic_style.container},this.props.loading&&(void 0==this.props.refreshControl||API_.isWeb||void 0==this.props.list||0==this.props.list.length)?h.createElement(h.Fragment,null,void 0!=this.props.ListHeaderComponent?this.props.ListHeaderComponent:null,h.createElement(x.a,null),void 0!=this.props.ListFooterComponent?this.props.ListFooterComponent:null):this.render_list()):h.createElement(m.a,{style:this.state.dynamic_style.container},void 0!=this.props.ListHeaderComponent?this.props.ListHeaderComponent:null,h.createElement(x.a,null),void 0!=this.props.ListFooterComponent?this.props.ListFooterComponent:null)}}]),a}(h.Component);t.a=S},55:function(e,t,a){"use strict";var n=a(0),s=a.n(n),i=a(9),r=a(69),o=a(2),l=a(19),c=i.a.create({container:{justifyContent:"center",flex:1,width:"100%",backgroundColor:l.d.background_color_default},horizontal:{alignContent:"center",alignSelf:"center",alignItems:"center",padding:10}});t.a=function(){return s.a.createElement(o.a,{style:[c.container,c.horizontal]},s.a.createElement(r.a,{size:"large",color:"#00ff00"}))}},71:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c}));var n=a(1),s=a.n(n),i=a(245),r=(a(519),a(520),a(142),a(120));var o=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return API_.isWeb?new Promise((function(e,t){return e(a?1:2)})):new Promise((function(n,s){return r.a.alert(t,e,[{text:"Cancel",onPress:function(){n(0)}},1==a?{text:"Add",onPress:function(){n(1)}}:{text:"Remove",onPress:function(){n(2)}}],{cancelable:!0})}))},l=function(e,t){var a,n,i,r,l,c,u;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.home_team_ar?e.home_team_ar:e.home_team,n=e.away_team_ar?e.away_team_ar:e.away_team,i=e.league?e.league:"",r=API_.convert_time_o(e.date+" "+e.time),new Date((new Date).getTime()+5e3),l={title:a+" \ud835\udcb1\ud835\udcae "+n,body:i,sound:!0,data:{data:JSON.stringify(e)}},c=2,u=!(!API_.notifications_matches||!API_.notifications_matches[e.id]),console.log(u),t.next=11,s.a.awrap(o(l.title+"\nAdd/Remove Notification : "+API_.get_date_time(r),"Reminder",0==u));case 11:if(1!=(c=t.sent)){t.next=17;break}return t.abrupt("return",backup.save_live_match(e,l.title));case 17:if(2!=c){t.next=20;break}return t.abrupt("return",backup.remove_live_match(e.id,l.title));case 20:return t.abrupt("return",new Promise((function(e,t){return e(!1)})));case 21:case"end":return t.stop()}}),null,null,null,Promise)},c=function(e){return"push"==API_.notifcation_type?backup.get_match_live(e).then((function(e){if(e&&e.length>0){for(var t={},a=0;a<e.length;a++)t[e[a].match_id]=e[a].match_details;return t}})):API_.isWeb?new Promise((function(e,t){return e([])})):i.a().then((function(e){for(var t={},a=0;a<e.length;a++)t[e[a].identifier]=e[a];return t}))}}},[[360,1,2]]]);
//# sourceMappingURL=app.0f60ff69.chunk.js.map